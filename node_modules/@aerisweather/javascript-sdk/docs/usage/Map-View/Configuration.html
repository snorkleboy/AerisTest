<h1 id="map-view-configuration" class="page-title">Map View Configuration</h1>
<p>When creating an <a href="/support/docs/toolkits/aeris-js-sdk/map-view/">map view</a>, you have the option to pass additional configuration options to override the default setup. These options are provided as a simple object and can contain values for any one or all of the supported options as outlined below.</p>
<h2 id="configuration">Configuration</h2>
<p>The following options are supported when configuring your <a href="http://aerisweather.com/docs/js/classes/interactivemap.html">MapView</a> instance:</p>
<table class="table table-props">
	<thead>
		<tr class="header">
			<th>Option</th>
			<th>Type</th>
			<th>Description</th>
			<th>Default</th>
		</tr>
	</thead>
	<tbody>
		<tr class="odd">
			<td>account</td>
			<td><code>Account</code></td>
			<td>Aeris <a href="/docs/js/classes/account.html">Account</a> instance to use with the map view data (required).</td>
			<td></td>
		</tr>
		<tr class="even">
			<td>map</td>
			<td><code>object</code></td>
			<td>Map configuration options.</td>
			<td></td>
		</tr>
		<tr class="odd">
			<td>map.layers</td>
			<td><code>object</code></td>
			<td>An object containing the layers to display on the map grouped by category.</td>
			<td></td>
		</tr>
		<tr class="even">
			<td>map.layers.base</td>
			<td><code>string[]</code></td>
			<td>An array of base layer codes, which will be rendered at the bottom of the layer stack.</td>
			<td><code>['flat']</code></td>
		</tr>
		<tr class="odd">
			<td>map.layers.data</td>
			<td><code>string[]</code></td>
			<td>An array of weather data layer codes, which will be rendered above base layers but below overlay layers.</td>
			<td></td>
		</tr>
		<tr class="even">
			<td>map.layers.overlays</td>
			<td><code>string[]</code></td>
			<td>An array of overlay layer codes, which will be rendered above data layers.</td>
			<td><code>['admin']</code></td>
		</tr>
		<tr class="odd">
			<td>map.layers.text</td>
			<td><code>string[]</code></td>
			<td>An array of text layer codes, which will be rendered at the top of the layer stack.</td>
			<td></td>
		</tr>
		<tr class="even">
			<td>map.center</td>
			<td><code>string</code>, <code>object</code></td>
			<td>Center of the map, either as a place string or <a href="http://aerisweather.com/docs/js/interfaces/icoordinate.html">ICoordinate</a> object.</td>
			<td></td>
		</tr>
		<tr class="odd">
			<td>map.zoom</td>
			<td><code>number</code></td>
			<td>Zoom level.</td>
			<td><code>3</code></td>
		</tr>
		<tr class="even">
			<td>map.bounds</td>
			<td><code>object</code></td>
			<td>Coordinate bounds of the visible region as an <a href="/docs/js/interfaces/icoordinatebounds.html">ICoordinateBounds</a> object.</td>
			<td></td>
		</tr>
		<tr class="odd">
			<td>map.size.width</td>
			<td><code>number</code></td>
			<td>Map image width.</td>
			<td></td>
		</tr>
		<tr class="even">
			<td>map.size.height</td>
			<td><code>number</code>, <code>'auto'</code></td>
			<td>Map image height, which can either be a number or <code>auto</code>. If<code>auto</code> is used, then the image height will be determined by the configured width and the value for <code>factor</code>.</td>
			<td><code>auto</code></td>
		</tr>
		<tr class="odd">
			<td>map.size.factor</td>
			<td><code>number</code></td>
			<td>Aspect ratio of width-to-height. This value is used when calculating an <code>auto</code> height based on the configured width.</td>
			<td><code>0.75</code></td>
		</tr>
		<tr class="even">
			<td>map.metric</td>
			<td><code>boolean</code></td>
			<td>Whether text layers should display values in Metric units.</td>
			<td><code>false</code></td>
		</tr>
		<tr class="odd">
			<td>map.offset</td>
			<td><code>number</code>, <code>string</code></td>
			<td>Time offset either as a UNIX timestamp as a number or a relative offset as a string (e.g. <code>-6hours</code>).</td>
			<td></td>
		</tr>
		<tr class="even">
			<td>map.combined</td>
			<td><code>boolean</code></td>
			<td>Whether all layers should be combined together into a single image. This results in fewer requests but increased map units since <code>base</code> and <code>overlay</code> layers will be requested each time <code>data</code> and/or <code>text</code> layers change.</td>
			<td><code>false</code></td>
		</tr>
		<tr class="odd">
			<td>map.autoFuture</td>
			<td><code>boolean</code></td>
			<td>Whether corresponding future layers should automatically be added to the map when adding a data layer when available.</td>
			<td><code>true</code></td>
		</tr>
		<tr class="even">
			<td>animation</td>
			<td><code>object</code></td>
			<td>Provides the configuration options for the map’s internal animation timeline.</td>
			<td></td>
		</tr>
		<tr class="odd">
			<td>animation.enabled</td>
			<td><code>boolean</code></td>
			<td>Whether animation should be enabled for the map view.</td>
			<td><code>true</code></td>
		</tr>
		<tr class="even">
			<td>animation.from</td>
			<td><code>number</code></td>
			<td>Start time offset of the map’s timeline relative to now, in seconds. Value must be less than <code>timeline.to</code>.</td>
			<td><code>-2 * 3600</code></td>
		</tr>
		<tr class="odd">
			<td>animation.to</td>
			<td><code>number</code></td>
			<td>End time offset of the map’s timeline relative to now, in seconds. Value must be greater than or equal to <code>timeline.from</code>.</td>
			<td><code>0</code></td>
		</tr>
		<tr class="even">
			<td>animation.intervals</td>
			<td><code>number</code></td>
			<td>The number of images used to produce the animation between <code>timeline.from</code> &amp; <code>timeline.to</code>. Used for image and tile-based animations.</td>
			<td><code>10</code></td>
		</tr>
		<tr class="odd">
			<td>animation.duration</td>
			<td><code>number</code></td>
			<td>Duration of the animation in seconds.</td>
			<td><code>2</code></td>
		</tr>
		<tr class="even">
			<td>animation.endDelay</td>
			<td><code>number</code></td>
			<td>End delay in seconds, which is the duration of the hold time on the last frame before restarting playback at the beginning.</td>
			<td><code>1</code></td>
		</tr>
		<tr class="odd">
			<td>animation.autoplay</td>
			<td><code>boolean</code></td>
			<td>Whether the animation should begin playing immediately when the map view is first rendered.</td>
			<td><code>false</code></td>
		</tr>
		<tr class="even">
			<td>animation.alwaysShowPast</td>
			<td><code>boolean</code></td>
			<td>Whether the map view should display past data layers for both past and future time periods.</td>
			<td><code>false</code></td>
		</tr>
		<tr class="odd">
			<td>animation.alwaysShowFuture</td>
			<td><code>boolean</code></td>
			<td>Whether the map view should display future data layers for both past and future time periods.</td>
			<td><code>false</code></td>
		</tr>
		<tr class="even">
			<td>overlays</td>
			<td><code>object</code></td>
			<td>Overlay configuration options.</td>
			<td></td>
		</tr>
		<tr class="odd">
			<td>overlays.branding</td>
			<td><code>object</code></td>
			<td>Optional branding element to display over the map view.</td>
			<td></td>
		</tr>
		<tr class="even">
			<td>overlays.branding.html</td>
			<td><code>string</code></td>
			<td>HTML string content. Takes precedence over <code>img</code> when both are provided.</td>
			<td></td>
		</tr>
		<tr class="odd">
			<td>overlays.branding.img</td>
			<td><code>string</code></td>
			<td>URL for the image source.</td>
			<td></td>
		</tr>
		<tr class="even">
			<td>overlays.timestamp</td>
			<td><code>string</code></td>
			<td>Timestamp output format using the <a href="https://date-fns.org/v1.30.1/docs/format">available formatting strings</a>.</td>
			<td><code>MM/DD/YYYY hh:mm A</code></td>
		</tr>
		<tr class="odd">
			<td>overlays.title</td>
			<td><code>string</code></td>
			<td>Map title, which will be displayed in a title bar element across the top-left of the map view. Title bar can be customized using CSS overrides as needed.</td>
			<td></td>
		</tr>
		<tr class="even">
			<td>controls</td>
			<td><code>object</code></td>
			<td>Controls configuration options.</td>
			<td></td>
		</tr>
		<tr class="odd">
			<td>controls.layers</td>
			<td><code>object[]</code></td>
			<td>An array of layer-related controls to display above the map view.</td>
			<td></td>
		</tr>
		<tr class="even">
			<td>controls.layers[#].title</td>
			<td><code>string</code></td>
			<td>Button label title.</td>
			<td></td>
		</tr>
		<tr class="odd">
			<td>controls.layers[#].code</td>
			<td><code>string</code></td>
			<td>Map layer string.</td>
			<td></td>
		</tr>
		<tr class="even">
			<td>controls.regions</td>
			<td><code>object[]</code></td>
			<td>An array of region/zoom-related controls to display along the bottom of the map view.</td>
			<td></td>
		</tr>
		<tr class="odd">
			<td>controls.regions[#].title</td>
			<td><code>string</code></td>
			<td>Button label title.</td>
			<td></td>
		</tr>
		<tr class="even">
			<td>controls.regions[#].center</td>
			<td><code>string</code>, <code>object</code></td>
			<td>Map center location, which can either be a place name (e.g. <code>seattle,wa</code>) or <a href="http://aerisweather.com/docs/js/interfaces/icoordinate.html">coordinate</a> (e.g. <code>{ lat: 39.5, lon: -120.5 }</code>).</td>
			<td></td>
		</tr>
		<tr class="odd">
			<td>controls.regions[#].zoom</td>
			<td><code>number</code></td>
			<td>Map zoom level.</td>
			<td></td>
		</tr>
		<tr class="even">
			<td>controls.regions[#].region</td>
			<td><code>string</code></td>
			<td>Region code. Map bounds will be updated to this region’s coordinate bounds when selected if the region has been defined.</td>
			<td></td>
		</tr>
		<tr class="odd">
			<td>controls.regions[#].bounds</td>
			<td><code>object</code></td>
			<td>Map coordinate bounds as an <a href="http://aerisweather.com/docs/js/interfaces/icoordinatebounds.html">ICoordinateBounds</a> object.</td>
			<td></td>
		</tr>
	</tbody>
</table>
<p>The following is the default configuration object for a <a href="/docs/js/classes/mapview.html">MapView</a> instance:</p>
<pre class="language-javascript"><code>{
    account: undefined,
    map: {
        zoom: 7,
        layers: {
            base: [&#39;flat&#39;],
            overlays: [&#39;admin&#39;]
        },
        size: {
            width: &#39;auto&#39;,
            height: &#39;auto&#39;,
            factor: 0.75,
            autoscale: false
        },
        autoFuture: true,
        combine: false
    },
    animation: {
        enabled: true,
        from: -2 * 3600,
        to: 0,
        autoplay: false,
        alwaysShowPast: false,
        alwaysShowFuture: false
    },
    overlays: {
        title: undefined,
        timestamp: &#39;MM/DD/YYYY hh:mm A&#39;,
        branding: {
            html: undefined,
            img: undefined
        }
    },
    legend: {
        enabled: true
    },
    controls: {
        layers: undefined,
        regions: undefined
    }
}</code></pre>