<h1 id="create-a-custom-info-panel-content-view" class="page-title">Create a Custom Info Panel Content View</h1>
<p>Create a custom info panel content view associated with a custom map content source. The following example will setup a vector content source that loads airport observations and renders their latest flight rules as point markers on an interactive map. It then configures a custom <code>airport</code> content view to display within the application info panel when an airportâ€™s marker is selected.</p>
<figure>
	<img src="/docs/js/img/awxjs-example-interactivemapapp-custom-infopanel.png" alt="Custom interactive map data source example" />
	<figcaption>Custom interactive map data source example</figcaption>
</figure>
<pre class="language-html"><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Aeris JavaScript SDK - Interactive Map App w/Custom Info Panel&lt;/title&gt;
    &lt;script defer src=&quot;https://cdn.aerisapi.com/sdk/js/latest/aerisweather.min.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.aerisapi.com/sdk/js/latest/aerisweather.css&quot;&gt;

    &lt;style&gt;
    #app {
        font-family: &#39;Helvetica&#39;,&#39;Arial&#39;,sans-serif;
        height: 600px;
        margin: 30px auto;
        width: 1000px;
    }
    .awxjs__app__ui-panel-info-content .flightrule,
    .awxjs__app__ui-panel-info-content .flight-status {
        font-size: 16px;
        font-weight: bold;
    }
    .awxjs__app__ui-panel-info-content .flightrule .value,
    .awxjs__app__ui-panel-info-content .flight-status .value {
        font-size: 20px;
        font-weight: bold;
        padding-right: 35px;
        position: relative;
        text-align: right;
    }
    .awxjs__app__ui-panel-info-content .flightrule .indicator,
    .awxjs__app__ui-panel-info-content .flight-status .indicator {
        border: 2px solid #333;
        border-radius: 15px;
        height: 20px;
        margin-top: -12px;
        right: 0;
        position: absolute;
        top: 50%;
        width: 20px;
    }
    &lt;/style&gt;

&lt;/head&gt;
&lt;body&gt;

&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;

&lt;script&gt;

    // Flight rule-to-color mapping dictionary
    const colors = {
        flightrule: {
            VFR: &#39;#1bbe08&#39;,
            MVFR: &#39;#1c56cf&#39;,
            IFR: &#39;#fa0708&#39;,
            LIFR: &#39;#fb06ff&#39;
        }
    };

    // Utility function that returns the color for a specific flight rule code
    function flightRuleColor(code) {
        code = (code || &#39;&#39;).toUpperCase();
        return colors.flightrule[code] || &#39;#999999&#39;;
    }

    window.onload = () =&gt; {

        const aeris = new AerisWeather(&#39;CLIENT_ID&#39;, &#39;CLIENT_SECRET&#39;);
        const utils = aeris.utils;

        aeris.apps().then((apps) =&gt; {
            const app = new apps.InteractiveMapApp(&#39;#app&#39;, {
                map: {
                    strategy: &#39;leaflet&#39;,
                    zoom: 4,
                    layers: &#39;radar&#39;
                },
                panels: {
                    layers: {
                        buttons: [{
                            id: &#39;radar&#39;,
                            value: &#39;radar:80&#39;,
                            title: &#39;Radar&#39;
                        },{
                            id: &#39;satellite&#39;,
                            value: &#39;satellite:75&#39;,
                            title: &#39;Satellite&#39;
                        },{
                            id: &#39;alerts&#39;,
                            value: &#39;alerts&#39;,
                            title: &#39;Alerts&#39;
                        },{
                            id: &#39;airports&#39;,
                            value: &#39;airports&#39;,
                            title: &#39;Airports&#39;
                        }]       
                    },
                    info: {
                        sections: {

                        },
                        views: {

                            // Create an airport-specific view for the info panel
                            airport: {

                                // Return the network request to load the necessary data required by all of the views
                                request: () =&gt; {
                                    const request = aeris.api();
                                    const forecastFields = &#39;timestamp,tempF,icon,weatherPrimary,windSpeedMPH,windSpeedMinMPH,windSpeedMaxMPH,windGustMPH,snowIN,precipIN&#39;.split(&#39;,&#39;).map((key) =&gt; &#39;periods.&#39; + key);
                                    request.addRequest(aeris.api().endpoint(&#39;forecasts&#39;).fields(forecastFields.join(&#39;,&#39;)).filter(&#39;3hr&#39;).limit(7));
                                    request.addRequest(aeris.api().endpoint(&#39;convective/outlook&#39;).action(&#39;contains&#39;));
                                    request.addRequest(aeris.api().endpoint(&#39;lightning/summary&#39;).action(&#39;closest&#39;).radius(&#39;60mi&#39;).limit(100));

                                    return request;
                                },

                                // Setup the array of views to display in the info panel for an airport.
                                // Each view object&#39;s `renderer` can be a string to use a built-in view, or a function that receives the data
                                // configured by the `data` function and returns the HTML to display for that view
                                views: [{
                                    data: (data) =&gt; {
                                        if (!data) return null;
                                        data = data.observations || data;
                                        return data.ob;
                                    },
                                    renderer: (data) =&gt; {
                                        if (!data) return;
                                        return (`
                                            &lt;div class=&quot;flightrule&quot;&gt;
                                                &lt;div class=&quot;awxjs__ui-cols align-center&quot;&gt;
                                                    &lt;div class=&quot;awxjs__ui-expand&quot;&gt;Flight Rule&lt;/div&gt;
                                                    &lt;div class=&quot;awxjs__ui-expand value&quot;&gt;${data.flightRule} &lt;div class=&quot;indicator&quot; style=&quot;background:${flightRuleColor(data.flightRule)};&quot;&gt;&lt;/div&gt;&lt;/div&gt;
                                                &lt;/div&gt;
                                            &lt;/div&gt;
                                        `);
                                    }
                                },{
                                    title: &#39;Impacts&#39;,
                                    renderer: &#39;hazards&#39;
                                },{
                                    title: &#39;Observations&#39;,
                                    renderer: &#39;obs&#39;
                                },{
                                    title: &#39;Short-Term Forecast&#39;,
                                    renderer: &#39;forecast&#39;
                                }]
                            }
                        }
                    }
                }
            });

            // Add vector source showing airport flight rules as markers
            const ids = &#39;id:AYPY;id:BIKF;id:BKPR;id:CYEG;id:CYHZ;id:CYOW;id:CYQB;id:CYUL;id:CYVR;id:CYWG;id:CYXU;id:CYYC;id:CYYJ;id:CYYT;id:CYYZ;id:DAAG;id:DGAA;id:DNAA;id:DNMM;id:DTTA;id:EBBR;id:EBLG;id:EDDB;id:EDDC;id:EDDF;id:EDDG;id:EDDH;id:EDDK;id:EDDL;id:EDDM;id:EDDN;id:EDDP;id:EDDS;id:EDDT;id:EDDV;id:EDDW;id:EDLW;id:EDSB;id:EETN;id:EFHK;id:EGAA;id:EGAC;id:EGBB;id:EGCC;id:EGCN;id:EGFF;id:EGGD;id:EGGP;id:EGGW;id:EGHH;id:EGHI;id:EGKK;id:EGLC;id:EGLL;id:EGNM;id:EGNT;id:EGNX;id:EGPD;id:EGPF;id:EGPH;id:EGSH;id:EGSS;id:EGTE;id:EGUL;id:EGUN;id:EGVA;id:EGVN;id:EHAM;id:EHBK;id:EHEH;id:EICK;id:EIDW;id:EINN;id:EKBI;id:EKCH;id:EKYT;id:ELLX;id:ENBO;id:ENBR;id:ENGM;id:ENTC;id:ENVA;id:ENZV;id:EPGD;id:EPKK;id:EPKT;id:EPMO;id:EPPO;id:EPWA;id:EPWR;id:ESGG;id:ESMS;id:ESPA;id:ESSA;id:ETAR;id:EVRA;id:EYVI;id:FACT;id:FAGG;id:FAJS;id:FALE;id:GCLP;id:GCTS;id:GCXO;id:GMMN;id:GOOY;id:HAAB;id:HECA;id:HEGN;id:HKJK;id:HKMO;id:HLLT;id:HSSS;id:KABQ;id:KADW;id:KAFW;id:KAGS;id:KAMA;id:KATL;id:KAUS;id:KAVL;id:KBAB;id:KBAD;id:KBDL;id:KBFI;id:KBGR;id:KBHM;id:KBIL;id:KBLV;id:KBMI;id:KBNA;id:KBOI;id:KBOS;id:KBTR;id:KBUF;id:KBWI;id:KCAE;id:KCBM;id:KCHA;id:KCHS;id:KCID;id:KCLE;id:KCLT;id:KCMH;id:KCOF;id:KCOS;id:KCPR;id:KCRP;id:KCRW;id:KCVG;id:KCVS;id:KDAL;id:KDAY;id:KDBQ;id:KDCA;id:KDEN;id:KDFW;id:KDLF;id:KDLH;id:KDOV;id:KDSM;id:KDTW;id:KDYS;id:KEDW;id:KEND;id:KERI;id:KEWR;id:KFFO;id:KFLL;id:KFSM;id:KFTW;id:KFWA;id:KGEG;id:KGPT;id:KGRB;id:KGSB;id:KGSO;id:KGSP;id:KGUS;id:KHIB;id:KHMN;id:KHOU;id:KHSV;id:KHTS;id:KIAD;id:KIAH;id:KICT;id:KIND;id:KJAN;id:KJAX;id:KJFK;id:KJLN;id:KLAS;id:KLAX;id:KLBB;id:KLCK;id:KLEX;id:KLFI;id:KLFT;id:KLGA;id:KLIT;id:KLTS;id:KLUF;id:KMBS;id:KMCF;id:KMCI;id:KMCO;id:KMDW;id:KMEM;id:KMGE;id:KMGM;id:KMHT;id:KMIA;id:KMKE;id:KMLI;id:KMLU;id:KMOB;id:KMSN;id:KMSP;id:KMSY;id:KMUO;id:KMYR;id:KOAK;id:KOKC;id:KONT;id:KORD;id:KORF;id:KPAM;id:KPBI;id:KPDX;id:KPHF;id:KPHL;id:KPHX;id:KPIA;id:KPIT;id:KPWM;id:KRDU;id:KRFD;id:KRIC;id:KRND;id:KRNO;id:KROA;id:KROC;id:KRST;id:KRSW;id:KSAN;id:KSAT;id:KSAV;id:KSBN;id:KSDF;id:KSEA;id:KSFB;id:KSFO;id:KSGF;id:KSHV;id:KSJC;id:KSKA;id:KSLC;id:KSMF;id:KSNA;id:KSPI;id:KSPS;id:KSRQ;id:KSSC;id:KSTL;id:KSUS;id:KSUU;id:KSUX;id:KSYR;id:KSZL;id:KTCM;id:KTIK;id:KTLH;id:KTOL;id:KTPA;id:KTRI;id:KTUL;id:KTUS;id:KTYS;id:KVBG;id:KVPS;id:KWRB;id:LATI;id:LBBG;id:LBPD;id:LBSF;id:LBWN;id:LCLK;id:LCPH;id:LDZA;id:LEAL;id:LEBL;id:LEMD;id:LEMG;id:LEPA;id:LEST;id:LFBD;id:LFBO;id:LFBV;id:LFML;id:LFMN;id:LFOA;id:LFOT;id:LFPG;id:LFPO;id:LGAV;id:LGIR;id:LGTS;id:LHBP;id:LIBD;id:LICC;id:LICJ;id:LIEE;id:LIMC;id:LIME;id:LIMF;id:LIMJ;id:LIML;id:LIMZ;id:LIPE;id:LIPH;id:LIPX;id:LIPZ;id:LIRA;id:LIRF;id:LIRN;id:LIRP;id:LJLJ;id:LKPR;id:LLBG;id:LLOV;id:LMML;id:LOWW;id:LPFR;id:LPLA;id:LPPD;id:LPPR;id:LPPT;id:LQSA;id:LROP;id:LSGG;id:LSZH;id:LTAC;id:LTAF;id:LTAI;id:LTAJ;id:LTAZ;id:LTBA;id:LTBJ;id:LTBS;id:LTCE;id:LTCG;id:LTFC;id:LTFE;id:LTFJ;id:LXGB;id:LYBE;id:LYPG;id:LZIB;id:MDPC;id:MDSD;id:MKJP;id:MMAA;id:MMGL;id:MMHO;id:MMMX;id:MMMY;id:MMPR;id:MMSD;id:MMTJ;id:MMUN;id:MPTO;id:MUHA;id:MUVR;id:MWCR;id:MYNN;id:MZBZ;id:NCRG;id:NZAA;id:NZCH;id:NZWN;id:OBBI;id:OEDF;id:OEDR;id:OEJN;id:OEMA;id:OERK;id:OIIE;id:OIII;id:OIMM;id:OISS;id:OITT;id:OJAI;id:OKBK;id:OLBA;id:OMAA;id:OMDB;id:OMDW;id:OMSJ;id:OOMS;id:OPRN;id:OPST;id:ORBI;id:ORMM;id:OSAP;id:OSDI;id:OSLK;id:OTBD;id:PAFA;id:PANC;id:PGUM;id:PHNL;id:PR20;id:RCBS;id:RCKH;id:RCTP;id:RJAA;id:RJBB;id:RJCC;id:RJFF;id:RJFK;id:RJGG;id:RJNS;id:RJOO;id:RJTT;id:RJTY;id:RKJB;id:RKJK;id:RKPC;id:RKPK;id:RKSI;id:RKSO;id:RKSS;id:RKTU;id:ROAH;id:RODN;id:RPLC;id:RPLL;id:RPMD;id:RPVM;id:SAEZ;id:SBBE;id:SBBR;id:SBCF;id:SBCT;id:SBFL;id:SBGL;id:SBGR;id:SBSP;id:SBSV;id:SCEL;id:SELT;id:SEQM;id:SKBO;id:SPIM;id:SPZO;id:SUMU;id:TJSJ;id:TMJG;id:TNCM;id:UAAA;id:UACC;id:UAFM;id:UAKK;id:UBBB;id:UDYZ;id:UGTB;id:UKBB;id:UKCC;id:UKFF;id:UKHH;id:UKOO;id:ULLI;id:UMMS;id:UNKL;id:URSS;id:USSS;id:UTTT;id:UUBW;id:UUDD;id:UUEE;id:UUMU;id:UWUU;id:UWWW;id:VABB;id:VAGO;id:VCBI;id:VDPP;id:VDSR;id:VECC;id:VHHH;id:VIAR;id:VIDP;id:VISM;id:VMMC;id:VOBL;id:VOCI;id:VOCL;id:VOHS;id:VOMM;id:VOPN;id:VOTV;id:VRMM;id:VTBD;id:VTBS;id:VTCC;id:VVDN;id:VVNB;id:VVTS;id:VYMD;id:VYYY;id:WAAA;id:WADD;id:WARR;id:WBSB;id:WIII;id:WMKK;id:WSSS;id:YBBN;id:YMML;id:YPPH;id:YSCB;id:YSSY;id:ZBAA;id:ZBNY;id:ZBTJ;id:ZBYN;id:ZGGG;id:ZGHA;id:ZGKL;id:ZGNN;id:ZGSZ;id:ZHCC;id:ZHHH;id:ZJHK;id:ZJSY;id:ZLXY;id:ZPPP;id:ZSAM;id:ZSFZ;id:ZSHC;id:ZSJN;id:ZSNB;id:ZSNJ;id:ZSPD;id:ZSSS;id:ZSWZ;id:ZUCK;id:ZUGY;id:ZUUU;id:ZWWW;id:ZYHB;id:ZYTL;id:ZYTX&#39;;
            const airportsRequest = aeris.api()
                    .endpoint(&#39;observations&#39;)
                    .action(&#39;search&#39;)
                    .query(ids)
                    .fields(&#39;id,loc,ob,place&#39;)
                    .from(&#39;-2hours&#39;)
                    .limit(1000);

            let airportData;
            const airports = app.addSource(&#39;airports&#39;, &#39;vector&#39;, {
                refresh: 60,
                data: {
                    service: airportsRequest
                },
                style: {
                    marker: (data) =&gt; {
                        return {
                            svg: {
                                shape: {
                                    type: &#39;circle&#39;,
                                    fill: {
                                        color: flightRuleColor(utils.get(data, &#39;ob.flightRule&#39;))
                                    },
                                    stroke: {
                                        color: &#39;#ffffff&#39;,
                                        width: 2
                                    }
                                }
                            },
                            size: [16, 16]
                        };
                    }
                }
            });
            airports.on(&#39;data:load&#39;, (e) =&gt; {
                if (e.data) {
                    airportData = (e.data.results || []).reduce((prev, current) =&gt; {
                        prev[current.id] = current;
                        return prev;
                    }, {});
                }
            });

            // Show the info panel with the &#39;airport&#39; content view when an airport marker
            // is selected on the map
            app.map.on(&#39;marker:click&#39;, (e) =&gt; {
                const data = e.data.data || {};

                // Get the source identifier (key) that triggered the click event and only show the
                // info panel if the source came from our custom airport data source
                const source = data.awxjs_source;
                if (source === &#39;airports&#39;) {
                    const id = data.id;
                    const place = data.place || {};
                    const name = utils.strings.toName(place.name);

                    // Show the info panel and then trigger the panel&#39;s content request while
                    // also passing in the cached observations for the airport to use in the content view
                    app.showInfo(&#39;airport&#39;, `${id} - ${name}`).load({ p: id }, { observations: airportData[id] });
                }
            });

        });

    };

&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>