<h1 id="customize-an-interactive-map-point-layer" class="page-title">Customize an Interactive Map Point Layer</h1>
<p>Customize a <code>stormreports</code> point layer with just snow-related reports and custom marker styling using shields. The following example will render snow report totals across the Great Lakes region for the past 24 hours using custom marker styling.</p>
<p>Note that there are several levels of customization for this snow reports layer:</p>
<ul>
	<li>customize the request parameters to only return snow-related storm reports</li>
	<li>return a custom style for each marker that consists of a background rectangle colored based on the report amount and the amount value as a text label</li>
	<li>customize the content displayed in each markerâ€™s callout popup</li>
</ul>
<figure>
	<img src="/docs/js/img/awxjs-example-interactivemap-custom-point-style.png" alt="Custom interactive map point layer example" />
	<figcaption>Custom interactive map point layer example</figcaption>
</figure>
<pre class="language-html"><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Aeris JavaScript SDK - Custom Point Styles on Interactive Map&lt;/title&gt;
    &lt;script defer src=&quot;https://cdn.aerisapi.com/sdk/js/latest/aerisweather.min.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.aerisapi.com/sdk/js/latest/aerisweather.css&quot;&gt;

    &lt;style&gt;
    #map {
        height: 400px;
        margin: 30px auto;
        width: 800px;
    }
    &lt;/style&gt;

&lt;/head&gt;
&lt;body&gt;

&lt;div id=&quot;map&quot;&gt;&lt;/div&gt;

&lt;script&gt;

    // our color code ranges for the snow report badges
    const colorRanges = [
        [0, 1, &quot;BDD7E7&quot;],
        [1, 2, &quot;6BAED6&quot;],
        [2, 3, &quot;3182BD&quot;],
        [3, 4, &quot;08519C&quot;],
        [4, 6, &quot;082694&quot;],
        [6, 8, &quot;FFFF96&quot;],
        [8, 12, &quot;FFC400&quot;],
        [12, 18, &quot;FF8700&quot;],
        [18, 24, &quot;DB1400&quot;],
        [24, 30, &quot;9E0000&quot;],
        [30, 36, &quot;690000&quot;],
        [36, 9999, &quot;2B002E&quot;]
    ];

    // function to determine the badge color based on the amount of snow &amp; the colorRanges
    const determineColor = (val) =&gt; {
        let match;
        colorRanges.forEach(range =&gt; {
            const [min, max, color] = range;
            if (val &gt;= min &amp;&amp; val &lt; max) {
                match = color;
            }
        });
        return match;

    };

    window.onload = () =&gt; {

        const aeris = new AerisWeather(&#39;CLIENT_ID&#39;, &#39;CLIENT_SECRET&#39;);

        aeris.views().then(views =&gt; {
            const map = new views.InteractiveMap(document.getElementById(&#39;map&#39;), {
                center: {
                    lat: 44.977,
                    lon: -88.265
                },
                zoom: 6,
                timeline: {
                    from: -6 * 3600,
                    to: 0
                },
                layers: [{
                    layer: &#39;stormreports&#39;,
                    options: {
                        type: &#39;vector&#39;,
                        request: {
                            parameters: {
                                filter: &#39;snow&#39;,
                                limit: 1000,
                                sort: &#39;detail:-1,dt:-1&#39;,
                                fields: &#39;id,loc,report&#39;
                            }
                        },
                        data: {
                            properties: {
                                time: &#39;report.timestamp&#39;,
                                value: &#39;report.detail.snowIN&#39;
                            }
                        },
                        style: {
                            marker: (data) =&gt; {
                                const amount = data.report.detail.snowIN;
                                const fillColor = `#${determineColor(amount)}`;
                                const textSize = 14;
                                const { width: w, height: h } = { width: 42, height: 20 };

                                return {
                                    svg: {
                                        shape: {
                                            type: &#39;rect&#39;,
                                            fill: {
                                                color: fillColor
                                            },
                                            stroke: {
                                                color: &#39;#ffffff&#39;,
                                                width: 2
                                            },
                                            radius: 6
                                        },
                                        text: {
                                            position: &#39;center&#39;,
                                            value: amount,
                                            color: aeris.utils.colors.isLight(fillColor) ? &#39;#000000&#39; : &#39;#ffffff&#39;,
                                            size: 14,
                                            style: &#39;bold&#39;,
                                            autosize: false
                                        }
                                    },
                                    size: [w, h],
                                    spacing: 30,
                                    callout: () =&gt; {
                                        if (data) {
                                            const { report: { timestamp, name, comments }} = data;
                                            const formattedDate = aeris.utils.dates.format(new Date(timestamp * 1000), &#39;MMM D, YYYY h:mm a&#39;);
                                            return (`
                                                &lt;strong&gt;Snow Report${amount ? ` - ${amount} in` : &#39;&#39;}&lt;/strong&gt;&lt;br/&gt;
                                                ${name}&lt;br/&gt;${formattedDate}&lt;br/&gt;${comments}
                                            `);
                                        }
                                        return null;
                                    }
                                }
                            }
                        }
                    }
                }]
            });
        });
    };

&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>