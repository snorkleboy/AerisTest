# Legend View {.page-title}
The AerisWeather JavaScript SDK includes support for a dyanamic legend view, which allows you to easily add and remove individual legends for specific Aeris Maps (AMP) layers as needed. Each legend image displayed will automatically be configured based on your legend view's configuration options. If you're using the SDK's [map view]({{base-url}}/map-view/) feature, then a legend view will automatically be added and managed by the map view instance. However, you may want to display a legend view on its own or in conjunction with another view, such as our [interactive map]({{base-url}}/interactive-map/) feature. 

{{alert-info}}The legend view feature is part of the **Views** module of the library. Therefore, you'll need to use the `views()` method on your `AerisWeather` instance in order to begin using any of the map view-related features. [Read more]({{base-url}}/getting-started/views-module/) about working with the **Views** module.{{/alert-info}}

### Configuration
The following options are supported when configuring your [LegendView]({{docs-url}}/classes/legendview.html) instance:

| Option | Type | Description | Default |
|---|---|---|---|
| account | `Account` | Aeris account used when requesting data for dynamic legends, such as the `alerts` legend. | |
| size | [`ISize`]({{docs-url}}/interfaces/isize.html) | Output size of legends displayed in the view. Set the height to `0` to enable auto-sizing based on the legend content. | `{ width: 400, height: 40 }` |
| autosize | `boolean` | Whether individual legends should be sized automatically based on its style configuration. | `false` |
| format | `string` | Output format, either `svg` or `png`. | `svg` |
| metric | `boolean` | Whether legend data units should be output in Metric units. | `false` |
| styles | `object` | Style configuration for the legends. Refer to the [`LegendStyle`]({{docs-url}}/globals.html#legendstyle) API documentation for the full list of supported style options. | |

### Setting Up a Legend View
Initialize a legend view with your DOM target where it will be rendered and desired configuration options using the `new views.Legend(target, opts)` constructor. For example, the following will render a legend view in the DOM target with id `map-legend` where each legend item will have a size of 400x40 (excluding dynamic legends):

```javascript
// using Promises
aeris.views().then((views) => {
    const legend = new views.Legend('#legend', {
        size: {
            width: 600,
            height: 40
        }
    });
});
```

Alternatively, if you're providing a callback function to the `views()` method:

```javascript
// using callback function
aeris.views((views) => {
    const legend = new views.Legend('#legend', {
        size: {
            width: 600,
            height: 40
        }
    });
});
```

### Adding Legends
Legend elements are added to a legend view using the [`add()`]({{docs-url}}/classes/legendview.html#add) method, which takes a legend or layer code string as the type to add and any configuration option overrides.

The following will add a radar legend to a legend view with the default configuration:

```javascript
aeris.views().then((views) => {
    const legend = new views.Legend('#legend', {
        size: {
            width: 600,
            height: 40
        }
    });
    
    legend.add('radar');
});
```

![Radar legend with default options]({{docs-url}}/img/awxjs-legendview-radar-default.png)

In addition to the configuration options outlined above, you can also include custom style options when adding a legend to the view. Include a `styles` property in your options, which should be an object of [`LegendStyle`]({{docs-url}}/globals.html#legendstyle) type. The following example will render the same radar legend, but with each cell configured to be drawn at a size of 5x20:

```javascript
aeris.views().then((views) => {
    const legend = new views.Legend('#legend', {
        size: {
            width: 600,
            height: 40
        }
    });
    
    legend.add('radar', {
        styles: {
            cell: {
                size: {
                    width: 10,
                    height: 20
                }
            }
        }
    });
});
```

![Radar legend with custom cell size]({{docs-url}}/img/awxjs-legendview-radar-cellsize-static.png)

However, you'll notice that the cells are narrower than 5pt and the bottom of the text labels are being clipped. The reason is because we are setting a static width and height in the legend view, which means each legend item in the view will adjust its configuration to fit that width. If you wanted to enforce the 5pt cell widths, you would need to remove the static size for your legend view and set `autosize` to `true`:

```javascript
aeris.views().then((views) => {
    const legend = new views.Legend('#legend', {
        autosize: true
    });
    
    legend.add('radar', {
        styles: {
            cell: {
                size: {
                    width: 10,
                    height: 20
                }
            }
        }
    });
});
```

![Radar legend with custom cell size and autosize enabled]({{docs-url}}/img/awxjs-legendview-radar-cellsize-auto.png)

Note that enabling `autosize` may result in your legend view and/or individual legend items extending beyond the bounds of its container. Therefore, if you require a maximum width for your legends, it's recommended to set `autosize` to `false` and set a static size instead.

Review the [`LegendStyle`]({{docs-url}}/globals.html#legendstyle) type documentation for the full listing of supported style options.

### Removing Legends
Removing individual legend elements from your legend view is similar to that when adding them. Simply provide the legend or layer code string to the [`remove()`]() method to remove the legend associated with that code if it exists in the view:

```javascript
legend.remove('radar');
```

Review the [`LegendView`]({{docs-url}}/classes/legendview.html) API documentation for additional information regarding the available properties and methods when working with legend views.