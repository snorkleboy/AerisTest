!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=119)}([function(t,e,n){var r=n(120),o=n(34),i=36e5,a=6e4,s=2,u=/[T ]/,c=/:/,l=/^(\d{2})$/,p=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],f=/^(\d{4})/,d=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],h=/^-(\d{2})$/,y=/^-?(\d{3})$/,m=/^-?(\d{2})-?(\d{2})$/,v=/^-?W(\d{2})$/,g=/^-?W(\d{2})-?(\d{1})$/,_=/^(\d{2}([.,]\d*)?)$/,b=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,w=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,x=/([Z+-].*)$/,O=/^(Z)$/,T=/^([+-])(\d{2})$/,M=/^([+-])(\d{2}):?(\d{2})$/;function k(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var o=7*e+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+o),r}t.exports=function(t,e){if(o(t))return new Date(t.getTime());if("string"!=typeof t)return new Date(t);var n=(e||{}).additionalDigits;n=null==n?s:Number(n);var j=function(t){var e,n={},r=t.split(u);c.test(r[0])?(n.date=null,e=r[0]):(n.date=r[0],e=r[1]);if(e){var o=x.exec(e);o?(n.time=e.replace(o[1],""),n.timezone=o[1]):n.time=e}return n}(t),S=function(t,e){var n,r=p[e],o=d[e];if(n=f.exec(t)||o.exec(t)){var i=n[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(n=l.exec(t)||r.exec(t)){var a=n[1];return{year:100*parseInt(a,10),restDateString:t.slice(a.length)}}return{year:null}}(j.date,n),P=S.year,E=function(t,e){if(null===e)return null;var n,r,o,i;if(0===t.length)return(r=new Date(0)).setUTCFullYear(e),r;if(n=h.exec(t))return r=new Date(0),o=parseInt(n[1],10)-1,r.setUTCFullYear(e,o),r;if(n=y.exec(t)){r=new Date(0);var a=parseInt(n[1],10);return r.setUTCFullYear(e,0,a),r}if(n=m.exec(t)){r=new Date(0),o=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return r.setUTCFullYear(e,o,s),r}if(n=v.exec(t))return i=parseInt(n[1],10)-1,k(e,i);if(n=g.exec(t)){i=parseInt(n[1],10)-1;var u=parseInt(n[2],10)-1;return k(e,i,u)}return null}(S.restDateString,P);if(E){var A,D=E.getTime(),C=0;if(j.time&&(C=function(t){var e,n,r;if(e=_.exec(t))return(n=parseFloat(e[1].replace(",",".")))%24*i;if(e=b.exec(t))return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),n%24*i+r*a;if(e=w.exec(t)){n=parseInt(e[1],10),r=parseInt(e[2],10);var o=parseFloat(e[3].replace(",","."));return n%24*i+r*a+1e3*o}return null}(j.time)),j.timezone)A=function(t){var e,n;if(e=O.exec(t))return 0;if(e=T.exec(t))return n=60*parseInt(e[2],10),"+"===e[1]?-n:n;if(e=M.exec(t))return n=60*parseInt(e[2],10)+parseInt(e[3],10),"+"===e[1]?-n:n;return 0}(j.timezone)*a;else{var I=D+C,L=new Date(I);A=r(L);var z=new Date(I);z.setDate(L.getDate()+1);var F=r(z)-r(L);F>0&&(A+=F)}return new Date(D+C+A)}return new Date(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extend=function t(){var e=[];for(var n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length;if(0===r)return null;var o=e[0]||{};if(r<2||null==o)return o;y(o)||"function"!=typeof o||(o={});var i;var a;var l;var p;var f=function(e,n){if(a=o[n],l=e[n],o!==l)if(s(l)&&m(l))if(u(l)){p=a&&u(a)?a:[];var r=[];l.forEach(function(t,e){m(t)?r[e]=O(t):r[e]=t}),o[n]=r}else c(l)?o[n]=l:d(l)?o[n]=l:(p=s(a)&&m(a)?a:{},o[n]=t({},p,l));else s(l)&&(o[n]=l)};for(var h=1;h<r;h+=1)null!=(i=e[h])&&Object.keys(i).forEach(function(t){return f(i,t)});return o},e.loadStyles=e.loadScript=e.debounce=e.dateFromISO=e.adjustDate=e.toTimeOffsetHours=e.toTimeStr=e.toQueryStr=e.toRangeStr=e.toBool=e.interval=e.flatten=e.cloneDeep=e.pickBy=e.pick=e.has=e.set=e.get=e.mergeUnique=e.unique=e.merge=e.replace=e.toUTC=e.offsetToTime=e.isZipcode=e.isCoord=e.isDOM=e.isHTMLElement=e.isPlainObject=e.isObject=e.isEmpty=e.isDate=e.isNumeric=e.isNumber=e.isString=e.isBoolean=e.isFunction=e.isArray=e.isset=e.isUndefined=e.isNull=e.toTypeName=e.toType=void 0;var r=n(7),o={}.toString;e.toType=function(t){return o.call(t).match(/([a-z]+)(:?\])/i)[1]};e.toTypeName=function(t){var e=Object.prototype.toString.call(t).slice(8,-1);if("Function"===e){var n=t.toString();if(-1!==n.indexOf(" => "))return"ArrowFunction";return null===n.match(/^function ([^(]+)\(/)?"AnonymousFunction":"Function"}return e};var i=function(t){return null===t};e.isNull=i;var a=function(t){return void 0===t};e.isUndefined=a;var s=function(t){return!a(t)&&!i(t)};e.isset=s;var u=function(t){return"[object Array]"===o.call(t)};e.isArray=u;var c=function(t){return"function"==typeof t};e.isFunction=c;var l=function(t){return!0===t||!1===t||"[object Boolean]"===o.call(t)};e.isBoolean=l;var p=function(t){return"[object String]"===o.call(t)};e.isString=p;var f=function(t){return!Number.isNaN(parseFloat(t))};e.isNumber=f;e.isNumeric=function(t){return!p(t)&&f(t)||p(t)&&!i(t.match(/^[\-\+]?\d*\.?\d*$/))&&!i(t.match(/\d/))};var d=function(t){return t.constructor.toString().indexOf("Date")>-1&&void 0!==t.getTime&&!Number.isNaN(t.getTime())};e.isDate=d;var h=function(t){return null==t||!f(t)&&(u(t)||p(t)?0===t.length:0===Object.keys(t).length)};e.isEmpty=h;var y=function(t){return null!==t&&"object"==typeof t};e.isObject=y;var m=function(t){return y(t)&&"Object"===t.constructor.name&&!u(t)&&!c(t)&&"[object Object]"===o.call(t)};e.isPlainObject=m;e.isHTMLElement=function(t){return t instanceof HTMLElement==!0};e.isDOM=function(t){return y(t)&&("DOMtastic"===t.constructor.name||s(t[0]))};var v=function(t){return m(t)&&!Array.isArray(t)};e.isCoord=function(t){return/^(-?[\d\.]+),\s*(-?[\d\.]+)$/.test(t)};e.isZipcode=function(t){return/^(\d\d\d\d\d(?:-\d\d\d\d)?|[ABCEGHJKLMNPRSTVXY]\d[A-Z] ?\d[A-Z]\d)$/.test(t)};e.offsetToTime=function(t){var e=0,n=(t||"").match(/^([\d\.-]+)(\w*)$/);if(n&&n.length>=3){n[0];var r=n[1],o=n[2];e=parseFloat(r),/^days?/.test(o)?e*=86400:/^hours?/.test(o)?e*=3600:/^minutes?/.test(o)&&(e*=60)}return(new Date).getTime()+1e3*e};e.toUTC=function(t){var e=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(e)};e.replace=function(t,e,n){-1!==t.indexOf(e)&&(t[t.map(function(t,e){return[e,t]}).filter(function(t){return t[1]===e})[0][0]]=n)};var g=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!e.length)return t;var r=e.shift();if(void 0===r)return t;if(v(t)&&v(r))Object.keys(r).forEach(function(e){v(r[e])?(t[e]||(t[e]={}),g(t[e],r[e])):t[e]=r[e]});else if(y(t)&&y(r))for(var o in r)t.hasOwnProperty(o)&&(t[o]=r[o]);return g.apply(void 0,[t].concat(e))};e.merge=g;e.unique=function(t){for(var e=t.concat(),n=0;n<e.length;n+=1)for(var r=n+1;r<e.length;r+=1)e[n]===e[r]&&e.splice(r--,1);return e};e.mergeUnique=function(t,e){return t.concat(e.filter(function(e){return-1===t.indexOf(e)}))};var _=function(t,e){if(null!=t){for(var n=e.split(/[\.\[\]\"\']{1,2}/),r=n.length,o=0;o<r;o+=1)if(!h(n[o])&&null==(t=t[n[o]]))return;return t}};e.get=_;var b=function(t,e,n){var r,o=e.split("."),i=o.length-1;for(r=0;r<i;r+=1)t[o[r]]=t[o[r]]||{},t=t[o[r]];return t[o[r]]=n,t};e.set=b;var w=function(t,e){return!!e.split(/[\.\[\]\"\']{1,2}/).filter(function(t){return""!==t}).reduce(function(t,e){return t&&t[e]?t[e]:void 0},t)};e.has=w;var x=function(t,e,n){if(!e||0===e.length)return null;for(var r=e.length,o={},i=0;i<r;){var a=e[i],s=_(t,a);n(s,a)&&b(o,a,s),i+=1}return o};e.pick=function(t,e){return null==t?{}:x(t,e,function(e,n){return w(t,n)})};e.pickBy=function(t,e){if(null==t)return{};var n=Object.keys(t);return x(t,n,function(t,n){return e(t,n[0])})};var O=function(t){if(u(t)){var e=t;return e.length>0?e.map(function(t){return m(t)?O(t):t}):e.slice(0)}return g({},t)};e.cloneDeep=O;var T=function(t,e){void 0===e&&(e=[]);for(var n=0,r=t.length;n<r;n+=1){var o=t[n];Array.isArray(o)?T(o,e):e.push(o)}return e};e.flatten=T;e.interval=function(t,e){return t%e==0?t:Math.round((t+e/2)/e)*e};e.toBool=function(t){return l(t)?t:p(t)?"true"===t||"1"===t:!!f(t)&&1===t};e.toRangeStr=function(t,e,n){var r=function(t,e){return Math.floor((t+e/2)/e)*e},o=r(t,n),i=r(e,n);return o===i?""+o:o+"-"+i};e.toQueryStr=function(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")};e.toTimeStr=function(t,e){var n=e||new Date;if(Math.abs(t.getTime()-n.getTime())<6e4)return"";var o=new Date;if(Math.abs(o.getTime()-t.getTime())>2592e6)return(0,r.format)(t,"M/D/YYYY");var i=(0,r.distanceInWordsStrict)(n,t).replace(/\s+/,"");return t.getTime()<n.getTime()?"-"+i:i};e.toTimeOffsetHours=function(t){t=t.replace(/\s/g,"");var e={second:1/3600,minute:1/60,hour:1,day:24,month:720,year:8760},n=0,r=t.match(/[\d\.-]+\w+/g);return r&&r.length>0&&r.forEach(function(t){var r=t.match(/^([\d\.-]+)(\w+)$/);if(r&&r.length>=3){var o=parseFloat(r[1]),i=(r[2]||"").replace(/s$/,"");n+=o*(e[i]||0)}}),n};e.adjustDate=function(t,e){void 0===e&&(e=null);var n=6e4*(new Date).getTimezoneOffset(),r=e?n+e:0;return new Date(t.getTime()+r)};e.dateFromISO=function(t){var e=(t=t||"").split(/[\D\-\+]+/).map(function(t){return parseInt(t,10)}),n=t.replace(/^.+\d\d(\-?\d\d\:\d\d)Z?$/,"$1"),r=((new Date).getTimezoneOffset(),new Date(e[0],e[1]-1,e[1],e[3],e[4],e[5]));if(!h(n)){var o=n.split(":");if(2===o.length){var i=o.map(function(t){return parseInt(t,10)});i[0],i[1]/60}}return r};e.debounce=function(t,e,n){var r;return void 0===n&&(n=!1),function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=this,s=function(){r=void 0,n||t.apply(a,o)},u=n&&void 0===r;void 0!==r&&clearTimeout(r),r=setTimeout(s,e),u&&t.apply(a,o)}};e.loadScript=function(t){return new Promise(function(e,n){var r=document.createElement("script");r.type="text/javascript",r.charset="utf-8",r.async=!0,r.src=t,r.addEventListener("load",e),r.addEventListener("error",function(){return n(new Error("Error loading script."))}),r.addEventListener("abort",function(){return n(new Error("Script loading aborted."))}),document.body.appendChild(r)})};e.loadStyles=function(t){return new Promise(function(e,n){var r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.onload=function(){e()},r.href=t;var o=document.getElementsByTagName("head");o&&o[0].appendChild(r)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(307))&&r.__esModule?r:{default:r},i=n(5);function a(t,e){var n,r=t.ownerDocument.defaultView;return r&&r.getComputedStyle?(e=e.replace(/([A-Z])/g,"-$1").toLowerCase(),r.getComputedStyle(t,null).getPropertyValue(e)):t.currentStyle&&(e=e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),n=t.currentStyle[e],/^\d+(em|pt|%|ex)?$/i.test(n))?function(e){var n=t.style.left,r=t.runtimeStyle.left;return t.runtimeStyle.left=t.currentStyle.left,t.style.left=e||0,e=t.style.pixelLeft+"px",t.style.left=n,t.runtimeStyle.left=r,e}(n):n}function s(t){return parseFloat((t||"").replace(/[^0-9\.-]/,""))}var u={},c={};function l(t,e){var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;return!!n&&n.call(t,e)}!function(t){var e=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.apply(this,e)};for(var n in this)t.hasOwnProperty(n)&&(e[n]=t[n])}(o.default.fn.data);o.default.fn.show=function(){this.each(function(t,e){t.style.display=function(t){var e=t.nodeName,n=c[t];if(n||(n=u[e]),n)return n;var r=t.ownerDocument,o=r.body.appendChild(r.createElement(e));return n=a(o,"display"),o.parentNode.removeChild(o),"none"===n&&(n="block"),u[e]=n||"block",n}(t)})},o.default.fn.hide=function(){this.each(function(t,e){var n,r;(r=a(n=t,"display"))&&"none"!==r&&(c[n]=r),t.style.display="none"})},o.default.fn.prev=function(t){for(var e=this[0];e=e.previousSibling;){var n=e;if(1===e.nodeType&&l(n,t))return(0,o.default)(n)}return null},o.default.fn.next=function(t){for(var e=this[0];e=e.nextSibling;){var n=e;if(1===e.nodeType&&l(n,t))return(0,o.default)(n)}return null},o.default.fn.last=function(){var t=this.length;return t>0?(0,o.default)(this[t-1]):null},o.default.fn.parents=function(t){var e=[];return this.each(function(n){for(;n;){if(l(n,t)){e.push(n);break}n=n.parentNode}}),(0,o.default)(e)},o.default.fn.width=function(t){return void 0===t?this[0].offsetWidth:this.each(function(e){e.style.width=t+"px"})},o.default.fn.outerWidth=function(t){void 0===t&&(t=!1);var e=this[0],n=e.offsetWidth;return n+=s(a(e,"border-left-width"))+s(a(e,"border-right-width")),t&&(n+=s(a(e,"margin-left"))+s(a(e,"margin-right"))),n},o.default.fn.height=function(t){return void 0===t?this[0].offsetHeight:this.each(function(e){e.style.height=t+"px"})},o.default.fn.outerHeight=function(t){void 0===t&&(t=!1);var e=this[0],n=e.offsetHeight;return n+=s(a(e,"border-top-width"))+s(a(e,"border-bottom-width")),t&&(n+=s(a(e,"margin-top"))+s(a(e,"margin-bottom"))),n},o.default.fn.padding=function(){var t=this[0];return{top:s(a(t,"padding-top")),right:s(a(t,"padding-right")),bottom:s(a(t,"padding-bottom")),left:s(a(t,"padding-left"))}},o.default.fn.bounds=function(t){void 0===t&&(t=!1);var e={},n=this[0].getBoundingClientRect();if(n&&(e.x=n.x,e.y=n.y,e.width=n.width,e.height=n.height,e.top=n.top,e.left=n.left,e.right=n.right,e.bottom=n.bottom),t){var r=window.scrollX||window.pageXOffset,o=window.scrollY||window.pageYOffset;e.left&&(e.left+=r),e.top&&(e.top+=o),e.right&&(e.right+=r),e.bottom&&(e.bottom+=o),e.x&&(e.x+=r),e.y&&(e.y+=o)}return e},o.default.fn.allData=function(t,e){if(t&&0!==this.length){if("string"==typeof t&&void 0===e){var n=this.data(t,e);if(!n&&/-/.test(t)&&(n=this.data((0,i.camelcase)(t),e)),!n){var r="data-"+t.replace(/[A-Z]/g,"-$&").toLowerCase();if(n=this[0].getAttribute(r)){if("true"===n?n=!0:"false"===n?n=!1:"null"===n&&(n=null),n===""+ +n&&(n=+n),/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/.test(n))try{n=JSON.parse(n)}catch(t){}t=(0,i.camelcase)(t),this.data(t,n)}}return n}/-/.test(t)&&(t=(0,i.camelcase)(t)),this.data(t,e)}},o.default.fn.click=function(){this.each(function(t){t.click()})},o.default.fn.focus=function(){this.each(function(t){t instanceof HTMLInputElement&&t.focus()})},o.default.fn.blur=function(){this.each(function(t){t instanceof HTMLInputElement&&t.blur()})};var p=o.default;e.default=p,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(98))&&r.__esModule?r:{default:r};var i=function(){function t(){this.parentEvent=null,this._listeners={}}return t.prototype.on=function(t,e,n,r){var o=this;if(void 0===n&&(n=null),void 0===r&&(r=0),n=n||this,/\s+/.test(t))return t.split(" ").forEach(function(t){o.on(t,e,n,r)}),this;var i=this._listeners[t];null==i&&(i=[],this._listeners[t]=i);for(var a,s=0,u=i.length-1;u>-1;)(a=i[u]).callback===e&&a.scope===n?i.splice(u,1):0===s&&a.priority<r&&(s=u+1),u-=1;return i.splice(s,0,{callback:e,scope:n,priority:r,once:!1}),this},t.prototype.once=function(t,e,n,r){var o=this;return void 0===n&&(n=null),void 0===r&&(r=0),n=n||this,/\s+/.test(t)?(t.split(" ").forEach(function(t){o.once(t,e,n,r)}),this):(this.on(t,e,n,r),this._listeners[t][0].once=!0,this)},t.prototype.off=function(t,e,n){var r=this;if(void 0===n&&(n=null),n=n||this,/\s+/.test(t))return t.split(" ").forEach(function(t){r.off(t,e,n)}),this;var o=this._listeners[t];if(void 0!==o)for(var i=o.length-1;i>-1;){if(o[i].callback===e&&o[i].scope===n){o.splice(i,1);break}i-=1}return this},t.prototype.trigger=function(t,e){void 0===e&&(e=null);var n=t;"string"==typeof n?n=new o.default(t,!1,!0,e):n instanceof o.default&&(t=n.type),n instanceof o.default&&null==n.target&&(n.target=this,n.currentTarget=this);var r=this._listeners[t];if(void 0!==r)for(var i=r.slice(),a=i.length-1,s=void 0;a>-1&&(!0!==n.cancellable||!0!==n.isImmediatePropagationStopped);)(s=i[a]).callback.call(s.scope,n),!0===s.once&&this.off(n.type,s.callback,s.scope),a-=1;if(null!=this.parentEvent&&!0===n.bubbles){if(!0===n.cancellable&&!0===n.isImmediatePropagationStopped)return this;n.currentTarget=this,this.parentEvent.trigger(n)}return this},t.prototype.has=function(t){return void 0!==this._listeners[t]},t}();e.default=i,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ApiAction=void 0;var r=u(n(18)),o=u(n(242)),i=u(n(243)),a=n(1),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(5));function u(t){return t&&t.__esModule?t:{default:t}}var c,l=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},p=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};e.ApiAction=c,function(t){t.AFFECTS="affects",t.ALL=":all",t.CLOSEST="closest",t.CONTAINS="contains",t.ID=":id",t.ROUTE="route",t.SEARCH="search",t.WITHIN="within"}(c||(e.ApiAction=c={}));var f=function(){function t(t,e){this.config={server:"https://api.aerisapi.com",client:{id:void 0,secret:void 0}},this._params={endpoint:void 0},this._requests=[],this._paramKeys=["p","limit","radius","filter","fields","query","sort","skip","from","to","plimit","psort","pskip","callback","metric","requests","lang","format","mindist","pfilter"],this.config=(0,a.merge)(this.config,t),this._http=new r.default(this.config.server),this._range={},e&&this.setParams(e)}return t.prototype.param=function(t,e){return e?(-1!==this._paramKeys.indexOf(t)&&(0,a.set)(this._params,t,e),this):(0,a.get)(this._params,t)},t.prototype.setParams=function(t){return this._params=(0,a.merge)(this._params,t),this},t.prototype.resetParams=function(){return this._params={endpoint:this._endpoint},this},t.prototype.endpoint=function(t){return this._endpoint=t,this.param("endpoint",t),this},t.prototype.getEndpoint=function(){return this._endpoint},t.prototype.action=function(t){return this._action=t,this},t.prototype.getAction=function(){return this._action},t.prototype.place=function(t){return this.param("p",t),this},t.prototype.bounds=function(t){if((0,a.isString)(t)){var e=t;if(/,/.test(e)){var n=e.split(",").map(function(t){return parseFloat(t)});4===n.length&&(t={north:n[0],west:n[1],south:n[2],east:n[3]})}}return this.place(s.toBounds(t))},t.prototype.limit=function(t){return this.param("limit",t),this},t.prototype.radius=function(t){return this.param("radius",t),this},t.prototype.filter=function(t){return this.param("filter",t),this},t.prototype.fields=function(t){return this.param("fields",t),this},t.prototype.query=function(t){return t instanceof i.default&&(t=t.toString()),this.param("query",t),this},t.prototype.sort=function(t){return this.param("sort",t),this},t.prototype.skip=function(t){return this.param("skip",t),this},t.prototype.from=function(t){if((0,a.isDate)(t)){var e=t;if(Math.abs(e.getTime()-(new Date).getTime())<6e4)return this;t=(0,a.toTimeStr)(e),this._range.from=e}return this.param("from",t),this},t.prototype.to=function(t){if((0,a.isDate)(t)){var e=t;if(Math.abs(e.getTime()-(new Date).getTime())<6e4)return this;t=(0,a.toTimeStr)(e,this._range.from),this._range.to=e}return this.param("to",t),this},t.prototype.plimit=function(t){return this.param("plimit",t),this},t.prototype.psort=function(t){return this.param("psort",t),this},t.prototype.pskip=function(t){return this.param("pskip",t),this},t.prototype.format=function(t){return this.param("format",t),this},t.prototype.addRequest=function(t){return-1===this._requests.indexOf(t)&&this._requests.push(t),this},t.prototype.removeRequest=function(t){var e=this._requests.indexOf(t);return e>=0&&this._requests.splice(e,1),this},t.prototype.removeAllRequests=function(){this._requests=[]},t.prototype.get=function(t){return l(this,void 0,void 0,function(){var e,n,r,i,a;return p(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),this._http.cancel(),[4,this._http.get(this.url())];case 1:return e=s.sent(),n=e&&e.data?e.data:{},!(r=n.error)||"warn_no_data"!==r.code&&"warn_invalid_param"!==r.code&&"invalid_location"!==r.code||(r=null),i=new o.default(e,n.response||n,r,null),t&&t(i),[2,i];case 2:return a=s.sent(),console.error("ApiRequest Error",a),[2,new o.default(null,null,a,null)];case 3:return[2]}})})},t.prototype.cancel=function(){this._http.cancel()},t.prototype.url=function(t){void 0===t&&(t=!1);var e=t?"":this.config.server,n=(0,a.merge)({},(0,a.pickBy)(this._params,function(t){return!(0,a.isEmpty)(t)}),t?{}:{client_id:this.config.client.id,client_secret:this.config.client.secret});if(this._requests.length>0){e+="/batch";var r=[];this._requests.forEach(function(t){r.push(t.url(!0))}),n.requests=r.join(",")}else{if(!this._endpoint)throw new Error("Invalid ApiRequest - No endpoint specified");e+="/"+this._endpoint,this._action&&this._action!==c.ID&&this._action!==c.ALL?e+="/"+this._action:n.p&&(e+="/"+encodeURIComponent(n.p),delete n.p)}var o=Object.keys(n).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(n[t])}).join("&");return o.length>0&&(e+="?"+o),e},t.prototype.clone=function(){var e=new t(this.config);return e.setParams(this._params),e},t}();e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toDate=e.prefixCSSClassName=e.toName=e.toBounds=e.toCoord=e.hyphenate=e.camelcase=e.ucfirst=e.ucwords=e.countries=e.states=void 0;var r=n(1),o=n(8),i={us:{al:"alabama",ak:"alaska",az:"arizona",ar:"arkansas",ca:"california",co:"colorado",ct:"connecticut",de:"delaware",fl:"florida",ga:"georgia",hi:"hawaii",id:"idaho",il:"illinois",in:"indiana",ia:"iowa",ks:"kansas",ky:"kentucky",la:"louisiana",me:"maine",md:"maryland",ma:"massachusetts",mi:"michigan",mn:"minnesota",ms:"mississippi",mo:"missouri",mt:"montana",ne:"nebraska",nv:"nevada",nh:"new hampshire",nj:"new jersey",nm:"new mexico",ny:"new york",nc:"north carolina",nd:"north dakota",oh:"ohio",ok:"oklahoma",or:"oregon",pa:"pennsylvania",ri:"rhode island",sc:"south carolina",sd:"south dakota",tn:"tennessee",tx:"texas",ut:"utah",vt:"vermont",va:"virginia",wa:"washington",wv:"west virginia",wi:"wisconsin",wy:"wyoming",pr:"puerto rico",vi:"virgin islands",gu:"guam",dc:"district of columbia"},ca:{ab:"alberta",bc:"british columbia",pe:"prince edward",mb:"manitoba",nb:"new brunswick",ns:"nova scotia",on:"ontario",qc:"quÈbec",sk:"saskatchewan",nf:"new foundland",nt:"northwest territories",nu:"nunavut",yk:"yukon"}},a={ad:"andorra",ae:"united arab emirates",af:"afghanistan",ag:"antigua and barbuda",ai:"anguilla",al:"albania",am:"armenia",ao:"angola",aq:"antarctica",ar:"argentina",as:"american samoa",at:"austria",au:"australia",aw:"aruba",ax:"aland islands",az:"azerbaijan",ba:"bosnia and herzegovina",bb:"barbados",bd:"bangladesh",be:"belgium",bf:"burkina faso",bg:"bulgaria",bh:"bahrain",bi:"burundi",bj:"benin",bl:"saint barth�lemy",bm:"bermuda",bn:"brunei",bo:"bolivia",bq:"bonaire, saint eustatius and saba",br:"brazil",bs:"bahamas",bt:"bhutan",bv:"bouvet island",bw:"botswana",by:"belarus",bz:"belize",ca:"canada",cc:"cocos islands",cd:"democratic republic of the congo",cf:"central african republic",cg:"republic of the congo",ch:"switzerland",ci:"ivory coast",ck:"cook islands",cl:"chile",cm:"cameroon",cn:"china",co:"colombia",cr:"costa rica",cu:"cuba",cv:"cape verde",cw:"cura�ao",cx:"christmas island",cy:"cyprus",cz:"czech republic",de:"germany",dj:"djibouti",dk:"denmark",dm:"dominica",do:"dominican republic",dz:"algeria",ec:"ecuador",ee:"estonia",eg:"egypt",eh:"western sahara",er:"eritrea",es:"spain",et:"ethiopia",fi:"finland",fj:"fiji",fk:"falkland islands",fm:"micronesia",fo:"faroe islands",fr:"france",ga:"gabon",gb:"united kingdom",gd:"grenada",ge:"georgia",gf:"french guiana",gg:"guernsey",gh:"ghana",gi:"gibraltar",gl:"greenland",gm:"gambia",gn:"guinea",gp:"guadeloupe",gq:"equatorial guinea",gr:"greece",gs:"south georgia and the south sandwich islands",gt:"guatemala",gu:"guam",gw:"guinea-bissau",gy:"guyana",hk:"hong kong",hm:"heard island and mcdonald islands",hn:"honduras",hr:"croatia",ht:"haiti",hu:"hungary",id:"indonesia",ie:"ireland",il:"israel",im:"isle of man",in:"india",io:"british indian ocean territory",iq:"iraq",ir:"iran",is:"iceland",it:"italy",je:"jersey",jm:"jamaica",jo:"jordan",jp:"japan",ke:"kenya",kg:"kyrgyzstan",kh:"cambodia",ki:"kiribati",km:"comoros",kn:"saint kitts and nevis",kp:"north korea",kr:"south korea",kw:"kuwait",ky:"cayman islands",kz:"kazakhstan",la:"laos",lb:"lebanon",lc:"saint lucia",li:"liechtenstein",lk:"sri lanka",lr:"liberia",ls:"lesotho",lt:"lithuania",lu:"luxembourg",lv:"latvia",ly:"libya",ma:"morocco",mc:"monaco",md:"moldova",me:"montenegro",mf:"saint martin",mg:"madagascar",mh:"marshall islands",mk:"macedonia",ml:"mali",mm:"myanmar",mn:"mongolia",mo:"macao",mp:"northern mariana islands",mq:"martinique",mr:"mauritania",ms:"montserrat",mt:"malta",mu:"mauritius",mv:"maldives",mw:"malawi",mx:"mexico",my:"malaysia",mz:"mozambique",na:"namibia",nc:"new caledonia",ne:"niger",nf:"norfolk island",ng:"nigeria",ni:"nicaragua",nl:"netherlands",no:"norway",np:"nepal",nr:"nauru",nu:"niue",nz:"new zealand",om:"oman",pa:"panama",pe:"peru",pf:"french polynesia",pg:"papua new guinea",ph:"philippines",pk:"pakistan",pl:"poland",pm:"saint pierre and miquelon",pn:"pitcairn",pr:"puerto rico",ps:"palestinian territory",pt:"portugal",pw:"palau",py:"paraguay",qa:"qatar",re:"reunion",ro:"romania",rs:"serbia",ru:"russia",rw:"rwanda",sa:"saudi arabia",sb:"solomon islands",sc:"seychelles",sd:"sudan",se:"sweden",sg:"singapore",sh:"saint helena",si:"slovenia",sj:"svalbard and jan mayen",sk:"slovakia",sl:"sierra leone",sm:"san marino",sn:"senegal",so:"somalia",sr:"suriname",ss:"south sudan",st:"sao tome and principe",sv:"el salvador",sx:"sint maarten",sy:"syria",sz:"swaziland",tc:"turks and caicos islands",td:"chad",tf:"french southern territories",tg:"togo",th:"thailand",tj:"tajikistan",tk:"tokelau",tl:"east timor",tm:"turkmenistan",tn:"tunisia",to:"tonga",tr:"turkey",tt:"trinidad and tobago",tv:"tuvalu",tw:"taiwan",tz:"tanzania",ua:"ukraine",ug:"uganda",um:"united states minor outlying islands",us:"united states",uy:"uruguay",uz:"uzbekistan",va:"vatican",vc:"saint vincent and the grenadines",ve:"venezuela",vg:"british virgin islands",vi:"u.s. virgin islands",vn:"vietnam",vu:"vanuatu",wf:"wallis and futuna",ws:"samoa",xk:"kosovo",ye:"yemen",yt:"mayotte",za:"south africa",zm:"zambia",zw:"zimbabwe",uk:"united kingdom"};e.states=function(){return i};e.countries=function(){return a};var s=function(t){return(""+(t=(""+t).toLowerCase())).replace(/^([a-z])|\s+([a-z])|\/([a-z])|(\-[a-z])/g,function(t){return t.toUpperCase()})};e.ucwords=s;e.ucfirst=function(t){return(t+="").charAt(0).toUpperCase()+t.substr(1)};e.camelcase=function(t){return(t||"").replace(/[^A-Za-z0-9]/g," ").replace(/^\w|[A-Z]|\b\w|\s+/g,function(t,e){return 0==+t||"-"===t||"."===t?"":0===e?t.toLowerCase():t.toUpperCase()})};e.hyphenate=function(t){return(t||"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()};e.toCoord=function(t,e,n){return void 0===n&&(n=3),(t<0?Math.abs(t).toFixed(n)+" S":t.toFixed(n)+" N")+", "+(e<0?Math.abs(e).toFixed(n)+" W":e.toFixed(n)+" E")};e.toBounds=function(t,e){if(void 0===e&&(e=3),!t||0===Object.keys(t).length)return null;var n=(0,r.cloneDeep)(t);return n.north=Math.min(90,Math.max(-90,n.north)),n.south=Math.min(90,Math.max(-90,n.south)),(n.west<-180||n.west>180)&&(n.west-=360*Math.floor(n.west/360)),(n.east<-180||n.east>180)&&(n.east-=360*Math.ceil(n.east/360)),n.north.toFixed(e)+","+n.west.toFixed(e)+","+n.south.toFixed(e)+","+n.east.toFixed(e)};e.toName=function(t){return s(t).split("-").map(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}).join("-").split(".").map(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}).join(".").replace(/\bus\b/i,"US")};e.prefixCSSClassName=function(t){return t.split(" ").map(function(t){return!1===new RegExp("^"+o.Globals.cssPrefix).test(t)&&(t=""+o.Globals.cssPrefix+t),t}).join(" ")};e.toDate=function(t){var e=(t||"").match(/^(\d{1,2})(\/|-)(\d{1,2})(\/|-)(\d{4})/);return!e||e.length<6?null:new Date(parseInt(e[5],10),parseInt(e[1],10)-1,parseInt(e[3],10))}},function(t,e,n){"use strict";var r=n(90),o=n(226),i=Object.prototype.toString;function a(t){return"[object Array]"===i.call(t)}function s(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===i.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),a(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:o,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],n);return e},extend:function(t,e,n){return c(e,function(e,o){t[o]=n&&"function"==typeof e?r(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){t.exports={addDays:n(14),addHours:n(55),addISOYears:n(56),addMilliseconds:n(15),addMinutes:n(58),addMonths:n(27),addQuarters:n(59),addSeconds:n(60),addWeeks:n(36),addYears:n(61),areRangesOverlapping:n(121),closestIndexTo:n(122),closestTo:n(123),compareAsc:n(17),compareDesc:n(37),differenceInCalendarDays:n(26),differenceInCalendarISOWeeks:n(124),differenceInCalendarISOYears:n(62),differenceInCalendarMonths:n(63),differenceInCalendarQuarters:n(125),differenceInCalendarWeeks:n(126),differenceInCalendarYears:n(65),differenceInDays:n(66),differenceInHours:n(127),differenceInISOYears:n(128),differenceInMilliseconds:n(28),differenceInMinutes:n(129),differenceInMonths:n(38),differenceInQuarters:n(130),differenceInSeconds:n(39),differenceInWeeks:n(131),differenceInYears:n(132),distanceInWords:n(68),distanceInWordsStrict:n(136),distanceInWordsToNow:n(137),eachDay:n(138),endOfDay:n(41),endOfHour:n(139),endOfISOWeek:n(140),endOfISOYear:n(141),endOfMinute:n(142),endOfMonth:n(70),endOfQuarter:n(143),endOfSecond:n(144),endOfToday:n(145),endOfTomorrow:n(146),endOfWeek:n(69),endOfYear:n(147),endOfYesterday:n(148),format:n(149),getDate:n(150),getDay:n(151),getDayOfYear:n(71),getDaysInMonth:n(35),getDaysInYear:n(152),getHours:n(153),getISODay:n(75),getISOWeek:n(42),getISOWeeksInYear:n(154),getISOYear:n(9),getMilliseconds:n(155),getMinutes:n(156),getMonth:n(157),getOverlappingDaysInRanges:n(158),getQuarter:n(64),getSeconds:n(159),getTime:n(160),getYear:n(161),isAfter:n(162),isBefore:n(163),isDate:n(34),isEqual:n(164),isFirstDayOfMonth:n(165),isFriday:n(166),isFuture:n(167),isLastDayOfMonth:n(168),isLeapYear:n(74),isMonday:n(169),isPast:n(170),isSameDay:n(171),isSameHour:n(76),isSameISOWeek:n(78),isSameISOYear:n(79),isSameMinute:n(80),isSameMonth:n(82),isSameQuarter:n(83),isSameSecond:n(85),isSameWeek:n(43),isSameYear:n(87),isSaturday:n(172),isSunday:n(173),isThisHour:n(174),isThisISOWeek:n(175),isThisISOYear:n(176),isThisMinute:n(177),isThisMonth:n(178),isThisQuarter:n(179),isThisSecond:n(180),isThisWeek:n(181),isThisYear:n(182),isThursday:n(183),isToday:n(184),isTomorrow:n(185),isTuesday:n(186),isValid:n(73),isWednesday:n(187),isWeekend:n(188),isWithinRange:n(189),isYesterday:n(190),lastDayOfISOWeek:n(191),lastDayOfISOYear:n(192),lastDayOfMonth:n(193),lastDayOfQuarter:n(194),lastDayOfWeek:n(88),lastDayOfYear:n(195),max:n(196),min:n(197),parse:n(0),setDate:n(198),setDay:n(199),setDayOfYear:n(200),setHours:n(201),setISODay:n(202),setISOWeek:n(203),setISOYear:n(57),setMilliseconds:n(204),setMinutes:n(205),setMonth:n(89),setQuarter:n(206),setSeconds:n(207),setYear:n(208),startOfDay:n(11),startOfHour:n(77),startOfISOWeek:n(10),startOfISOYear:n(16),startOfMinute:n(81),startOfMonth:n(209),startOfQuarter:n(84),startOfSecond:n(86),startOfToday:n(210),startOfTomorrow:n(211),startOfWeek:n(25),startOfYear:n(72),startOfYesterday:n(212),subDays:n(213),subHours:n(214),subISOYears:n(67),subMilliseconds:n(215),subMinutes:n(216),subMonths:n(217),subQuarters:n(218),subSeconds:n(219),subWeeks:n(220),subYears:n(221)}},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.servers=e.Globals=void 0,e.Globals=r,function(t){t.cssPrefix="awxjs__"}(r||(e.Globals=r={}));e.servers={api:"https://api.aerisapi.com",maps:"https://maps.aerisapi.com"}},function(t,e,n){var r=n(0),o=n(10);t.exports=function(t){var e=r(t),n=e.getFullYear(),i=new Date(0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);var a=o(i),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var u=o(s);return e.getTime()>=a.getTime()?n+1:e.getTime()>=u.getTime()?n:n-1}},function(t,e,n){var r=n(25);t.exports=function(t){return r(t,{weekStartsOn:1})}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t);return e.setHours(0,0,0,0),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isOpenLayers=e.isGoogle=e.isMapbox=e.isLeaflet=e.isCoordObject=e.mapTimestampFromDate=void 0;var r=n(7),o=n(1);e.mapTimestampFromDate=function(t){var e=new Date(t.getTime()+60*t.getTimezoneOffset()*1e3);return(0,r.format)(e,"YYYYMMDDHHmm00")};e.isCoordObject=function(t){if((0,o.isPlainObject)(t)){var e=t.lat,n=t.lon;return(0,o.isset)(e)&&(0,o.isset)(n)}return!1};e.isLeaflet=function(t){if(t){var e=(0,o.has)(t,"openPopup");if("undefined"!=typeof L&&(t instanceof L.map||t instanceof L.Map)&&e)return!0;if(!(0,o.isHTMLElement)(t)&&e)return!0}return!1};e.isMapbox=function(t){if(t){var e=(0,o.has)(t,"queryRenderedFeatures");if("undefined"!=typeof mapboxgl&&t instanceof mapboxgl.Map&&e)return!0;if(!(0,o.isHTMLElement)(t)&&e)return!0}return!1};e.isGoogle=function(t){if(t){var e=(0,o.has)(t,"getStreetView");if("undefined"!=typeof google&&t instanceof google.maps.Map&&e)return!0;if(!(0,o.isHTMLElement)(t)&&e)return!0}return!1};e.isOpenLayers=function(t){if(t){var e=(0,o.has)(t,"forEachFeatureAtPixel");if("undefined"!=typeof ol&&t instanceof ol.Map&&e)return!0;if(!(0,o.isHTMLElement)(t)&&e)return!0}return!1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(24))&&r.__esModule?r:{default:r},i=n(1);var a,s=(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),Object.defineProperty(e.prototype,"state",{get:function(){return(0,i.cloneDeep)(this._state)},enumerable:!0,configurable:!0}),e.prototype.getState=function(t){return(0,i.get)(this.state,t)},e.prototype.setState=function(t){this._state=(0,i.extend)(this._state,t)},e}(o.default);e.default=u,t.exports=e.default},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=Number(e);return n.setDate(n.getDate()+o),n}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t).getTime(),o=Number(e);return new Date(n+o)}},function(t,e,n){var r=n(9),o=n(10);t.exports=function(t){var e=r(t),n=new Date(0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),o(n)}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t).getTime(),o=r(e).getTime();return n<o?-1:n>o?1:0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(224))&&r.__esModule?r:{default:r},i=n(1);var a=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},s=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=o.default.CancelToken,c=function(){function t(t,e){this._client=o.default.create({baseURL:t,headers:(0,i.extend)({"Content-Type":"application/json"},e)})}return t.prototype.get=function(t,e){return void 0===e&&(e=void 0),a(this,void 0,void 0,function(){var n,r=this;return s(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this._client.get(t,(0,i.extend)({cancelToken:new u(function(t){r._source=t})},e))];case 1:return[2,a.sent()];case 2:return n=a.sent(),o.default.isCancel&&o.default.isCancel(n)?console.info("Request canceled",n.message):console.error(n),[3,3];case 3:return[2,null]}})})},t.prototype.cancel=function(){this._source&&this._source()},t.request=function(t,e){return void 0===e&&(e=void 0),a(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,o.default.get(t,e)];case 1:return[2,n.sent()]}})})},t}();e.default=c,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(3))&&r.__esModule?r:{default:r},i=n(1),a=n(5);var s,u=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e){void 0===e&&(e=null);var n=t.call(this)||this;n._startOffset=0,n._endOffset=0,n._elapsed=0,n._time=0,n._offset=0,n._delay=1/60,n._increment=0,n._timer=null,n._restartTimer=null,n._paused=!1,n._currentInterval=0,n._active=!1,n._enabled=!0,e=(0,i.extend)({},{key:void 0,enabled:!0,from:0,to:0,duration:2,endDelay:1,intervals:10,autoplay:!1,future:!1,alwaysShow:!1},e),n._now=new Date;var r=n._now.getTime();if(Object.keys(e).forEach(function(t){var n=e[t];"from"!==t&&"to"!==t||!(0,i.isString)(n)||/(year|month|day|hour|minute|second)/.test(n)&&(n=3600*(0,i.toTimeOffsetHours)(n)),(0,i.isNumeric)(n)&&(n=parseFloat(n)),e[t]=n}),(0,i.isString)(e.from)&&(e.from=(0,a.toDate)(""+e.from)),(0,i.isString)(e.to)&&(e.to=(0,a.toDate)(""+e.to)),n.opts=e,(0,i.isDate)(e.from)){var o=e.from;n._startOffset=o.getTime()-r,n.from=o.getTime()}else n._startOffset=1e3*parseFloat(""+e.from),n.from=r+n._startOffset;if((0,i.isDate)(e.to)){o=e.to;n._endOffset=o.getTime()-r,n.to=o.getTime()}else n._endOffset=1e3*parseFloat(""+e.to),n.to=r+n._endOffset;return n._enabled=e.enabled,n.duration=e.duration||2,n.endDelay=e.endDelay||1,n.totalIntervals=e.intervals||10,n._time=n.from,n._times=[],n._startup(),n}return u(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return this.opts.key},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeline",{get:function(){return this._timeline},set:function(t){var e=this;this._timeline=t,t&&(this.from=t.from,this.to=t.to,["duration","endDelay","intervals"].forEach(function(n){e.opt(n,t.opt(n))}),this.goToTime(t.currentTime))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"from",{get:function(){return parseFloat(""+this.opts.from)},set:function(t){this.stop(),this.opts.from=t,this._startOffset=t-this._now.getTime(),this._onTimingChange(),this.trigger(e.Event.START_CHANGE,{from:this.startDate(),to:this.endDate()})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"to",{get:function(){return parseFloat(""+this.opts.to)},set:function(t){this.stop(),this.opts.to=t,this._endOffset=t-this._now.getTime(),this._onTimingChange(),this.trigger(e.Event.END_CHANGE,{from:this.startDate(),to:this.endDate()})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"now",{get:function(){return this._now},set:function(t){this._now=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this.opts.duration},set:function(t){this.opts.duration=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endDelay",{get:function(){return this.opts.endDelay},set:function(t){this.opts.endDelay=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalTime",{get:function(){return this.to-this.from},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._time},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentOffset",{get:function(){return this._offset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"increment",{get:function(){return this._increment},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this._offset/this.totalTime},set:function(t){this.goToTime(this.from+(this.to-this.from)*t)},enumerable:!0,configurable:!0}),e.prototype.opt=function(t,e){return e&&((0,i.set)(this.opts,t,e),"intervals"===t&&this._updateTimes()),(0,i.get)(this.opts,t)},e.prototype.toggle=function(){this.isAnimating()||this.isLoading()?this.stop():this.play()},e.prototype.play=function(){this.isAnimating()||(this._paused||this.goToTime(this.from),this.canAnimate()&&(this._paused=!1,this._active=!0,this._updateTiming(),this.trigger(e.Event.PLAY,{from:this.startDate(),to:this.endDate()}),this._start()))},e.prototype.stop=function(){this._clearTimers(),(this.isAnimating()||this.isLoading())&&(this._paused=!1,this._active=!1,this.trigger(e.Event.STOP),this.goToInit())},e.prototype.pause=function(){this._clearTimers(),this._paused=!0},e.prototype.resume=function(){this.isAnimating()&&this._paused&&this._start(),this._paused=!1},e.prototype.restart=function(){var t=this;this._clearTimers(),this._restartTimer=setTimeout(function(){t.goToTime(t.from),t._start()},1e3*this.endDelay)},e.prototype.reset=function(t){void 0===t&&(t=!1),this.isAnimating()?this.stop():t&&this.goToInit(),this.trigger(e.Event.RESET)},e.prototype.goToInit=function(){var t=this._now.getTime(),e=t;e>this.to?e=this.to:e<this.from&&(e=this.from),this.from>=t?e=this.from:this.to<=t&&(e=this.to),e>0&&this.goToTime(e)},e.prototype.goToTime=function(t){var n;n=(0,i.isDate)(t)?t.getTime():t,this._offset=n-this.from;var r=this._intervalClosestToTime(n);return this._currentInterval=r,this._updateForTime(r),this._time=n,this.trigger(e.Event.ADVANCE,{time:this._time,offset:this._offset}),this},e.prototype.neededIntervals=function(){return this._times.slice(0)},e.prototype.currentInterval=function(){return this._currentInterval},e.prototype.currentDate=function(){return new Date(this.currentTime)},e.prototype.startDate=function(){return new Date(this.from)},e.prototype.setStartDate=function(t){var e=(0,i.isDate)(t)?t.getTime():t;if(!(e>this.to))return this.from=e,this;console.error("[Aeris] Animation start date cannot be set to a date after the current\n\t\t\t\tend date value. You may need to change the end date first.")},e.prototype.startOffset=function(){return this._startOffset},e.prototype.setStartOffset=function(t){var e=this._now.getTime()+t;if(!(e>this.to))return this.from=e,this;console.error("[Aeris] Animation start offset cannot be set to a time offset after the\n\t\t\t\tcurrent end date value. You may need to change the end date or time offset first.")},e.prototype.endDate=function(){return new Date(this.to)},e.prototype.setEndDate=function(t){var e=(0,i.isDate)(t)?t.getTime():t;if(!(e<this.from)){this.to=e;var n=this._now.getTime();return this.to>n?this.goToTime(n):this.currentTime>this.to&&this.goToTime(this.to),this}console.error("[Aeris] Animation end date cannot be set to a date before the current\n\t\t\t\tstart date value. You may need to change the start date first.")},e.prototype.endOffset=function(){return this._endOffset},e.prototype.setEndOffset=function(t){var e=this._now.getTime()+t;if(!(e<this.from))return this.to=e,this;console.error("[Aeris] Animation end offset cannot be set to a time offset before the\n\t\t\t\tcurrent start date value. You may need to change the start date or time offset first.")},e.prototype.refresh=function(){this._now=new Date,this.from=this._now.getTime()+this._startOffset,this.to=this._now.getTime()+this._endOffset},e.prototype.canAnimate=function(){return this.to!==this.from&&this.isEnabled()},e.prototype.canShow=function(t){if(!0===this.opts.alwaysShow)return!0;t||(t=this._time);var e=this._now.getTime();return this.isFuture()?t>e:t<=e},e.prototype.enabled=function(t){this._enabled=t},e.prototype.isEnabled=function(){return this._enabled},e.prototype.isAutoPlay=function(){return this.opts.autoplay},e.prototype.isReady=function(){return!0},e.prototype.isLoading=function(){return!1},e.prototype.isAnimating=function(){return this._active},e.prototype.isPaused=function(){return this._paused},e.prototype.isFuture=function(){return!0===this.opts.future},e.prototype.containsPast=function(){return this.startDate().getTime()<this._now.getTime()},e.prototype.containsFuture=function(){return this.endDate().getTime()>this._now.getTime()},e.prototype._startup=function(){this._updateTimes(),this.opts.autoplay||this.goToInit()},e.prototype._start=function(){var t=this;this.timeline||(this._active=!0,this._timer=setInterval(function(){var e=t._time+t._increment;e>t.to?t.restart():t.goToTime(e)},1e3*this._delay))},e.prototype._clearTimers=function(){this._timer&&window.clearInterval(this._timer),this._restartTimer&&window.clearTimeout(this._restartTimer),this._timer=void 0,this._restartTimer=void 0},e.prototype._onTimingChange=function(){this._updateTiming(),this._updateTimes(),this._handleTimingChange()},e.prototype._updateTiming=function(){this.to<this.from||(this._increment=(this.to-this.from)/this.duration*this._delay)},e.prototype._updateTimes=function(){this._times=this._timesForIntervals()},e.prototype._handleTimingChange=function(){},e.prototype._updateForTime=function(t){},e.prototype._intervalClosestToTime=function(t){var e=this.from,n=Math.abs(t-e);return void 0===this._times&&this._updateTimes(),this._times.forEach(function(r){var o=Math.abs(t-r);o<n&&(n=o,e=r)}),Math.round(e)},e.prototype._timesForIntervals=function(){var t=this;if(this.from===this.to)return[];for(var e=[],n=function(n){t.canShow(n)&&-1===e.indexOf(n)&&e.push(n)},r=this.opts.intervals,o=Math.round((this.to-this.from)/(r-1)),i=null,a=0;a<r-1;a+=1){var s=this.from+o*a;0!==a&&s===i||(n(Math.round(s)),i=s)}return e.length>0&&n(this.to),this.totalIntervals=e.length,e},e.Event={PLAY:"play",STOP:"stop",ADVANCE:"advance",RESET:"reset",START_CHANGE:"start:change",END_CHANGE:"end:change",LOAD_START:"load:start",LOAD_DONE:"load:done",LOAD_ERROR:"load:error",LOAD_PROGRESS:"load:progress",LOAD_IMAGE:"load:image",ADVANCE_IMAGE:"advance:image",DATA_ADD:"data:add",DATA_REMOVE:"data:remove",DATA_UPDATE:"data:update"},e}(o.default);e.default=c,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(7),o=u(n(3)),i=u(n(99)),a=u(n(46)),s=n(1);function u(t){return t&&t.__esModule?t:{default:t}}var c,l=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){function e(e,n,r){var o=t.call(this)||this;o._hidden=!1,o.key=e,o.enabled=!0,(r=(0,s.extend)({id:void 0,type:"tile",subdomains:["1","2","3","4"],time:0,offset:void 0,opacity:1,future:!1,alwaysShow:!1,animation:{enabled:!0,type:"tile"}},r)).time&&!(0,s.isDate)(r.time)&&(0,s.isNumber)(r.time)&&(r.time=new Date((new Date).getTime()+r.time)),(0,s.isset)(r.offset)&&(r.animation.enabled=!1),o.key=e,o._service=n,o._opts=r;var u=r.style||{};o._opacity=u.opacity||1;var c=r.animation,l=c.type,p=c.enabled,f="image"===l?new a.default(null,{enabled:p,key:e,future:r.future,alwaysShow:r.alwaysShow,showWhenStopped:!1}):new i.default({enabled:p,key:e,future:r.future,alwaysShow:r.alwaysShow});return f.provider=o,f.on("reset",function(t){f.hide(),o.updateVisibility()}),"tile"===l&&f.on("load:progress play",function(t){o.hide()}),o._animation=f,o}return l(e,t),Object.defineProperty(e.prototype,"identifier",{get:function(){return this._opts.id||this.key},set:function(t){this._opts.id=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this.service.url()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overlay",{get:function(){return this._overlay},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timestamp",{get:function(){return this._timestamp},set:function(t){this._timestamp=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"service",{get:function(){return this._service},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animation",{get:function(){return this._animation},enumerable:!0,configurable:!0}),e.prototype.urlTemplate=function(){if((0,s.isset)(this._opts.offset))this.service.offset((""+this._opts.offset).replace(/\s/g,""));else{var t=new Date(this._timestamp);t=new Date(t.getTime()+60*t.getTimezoneOffset()*1e3),this.service.offset((0,r.format)(t,"YYYYMMDDHHmm00"))}return this.service.url()},e.prototype.isFuture=function(){return this._opts.future},e.prototype.updateVisibility=function(){this.canShow()?this.show():this.hide()},e.prototype.canShow=function(){var t=(new Date).getTime(),e=this._timestamp.getTime();return this._opts.alwaysShow||this.isFuture()&&e>t||!this.isFuture()&&e<=t},e.prototype.isAnimationActive=function(){return this.animation&&(this.animation.canAnimate()||this.animation.isAnimating())},e.prototype.show=function(){throw new Error("Implementation must override abstract `show`")},e.prototype.hide=function(){throw new Error("Implementation must override abstract `hide`")},e.prototype.remove=function(){throw new Error("Implementation must override abstract `remove`")},e.prototype.isVisible=function(){return!1===this._hidden},e.prototype.setOpacity=function(t){throw new Error("Implementation must override abstract `setOpacity:`")},e.prototype.setOrder=function(t){throw new Error("Implementation must override abstract `setOrder:`")},e.prototype.destroy=function(){this._overlay=null,this._service=null},e.prototype.animationLayerForDate=function(t,e){return null},e}(o.default);e.default=p,t.exports=e.default},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},o=/%[sdj%]/g;e.format=function(t){if(!v(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(t).replace(o,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),u=r[n];n<i;u=r[++n])y(u)||!b(u)?a+=" "+u:a+=" "+s(u);return a},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var i,a={};function s(t,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&e._extend(r,n),g(r.showHidden)&&(r.showHidden=!1),g(r.depth)&&(r.depth=2),g(r.colors)&&(r.colors=!1),g(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,t,r.depth)}function u(t,e){var n=s.styles[e];return n?"["+s.colors[n][0]+"m"+t+"["+s.colors[n][1]+"m":t}function c(t,e){return t}function l(t,n,r){if(t.customInspect&&n&&O(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return v(o)||(o=l(t,o,r)),o}var i=function(t,e){if(g(e))return t.stylize("undefined","undefined");if(v(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(m(e))return t.stylize(""+e,"number");if(h(e))return t.stylize(""+e,"boolean");if(y(e))return t.stylize("null","null")}(t,n);if(i)return i;var a=Object.keys(n),s=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),x(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(n);if(0===a.length){if(O(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(_(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(x(n))return p(n)}var c,b="",T=!1,M=["{","}"];(d(n)&&(T=!0,M=["[","]"]),O(n))&&(b=" [Function"+(n.name?": "+n.name:"")+"]");return _(n)&&(b=" "+RegExp.prototype.toString.call(n)),w(n)&&(b=" "+Date.prototype.toUTCString.call(n)),x(n)&&(b=" "+p(n)),0!==a.length||T&&0!=n.length?r<0?_(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=T?function(t,e,n,r,o){for(var i=[],a=0,s=e.length;a<s;++a)S(e,String(a))?i.push(f(t,e,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(f(t,e,n,r,o,!0))}),i}(t,n,r,s,a):a.map(function(e){return f(t,n,r,s,e,T)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(c,b,M)):M[0]+b+M[1]}function p(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,o,i){var a,s,u;if((u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),S(r,o)||(a="["+o+"]"),s||(t.seen.indexOf(u.value)<0?(s=y(n)?l(t,u.value,null):l(t,u.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n")):s=t.stylize("[Circular]","special")),g(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function d(t){return Array.isArray(t)}function h(t){return"boolean"==typeof t}function y(t){return null===t}function m(t){return"number"==typeof t}function v(t){return"string"==typeof t}function g(t){return void 0===t}function _(t){return b(t)&&"[object RegExp]"===T(t)}function b(t){return"object"==typeof t&&null!==t}function w(t){return b(t)&&"[object Date]"===T(t)}function x(t){return b(t)&&("[object Error]"===T(t)||t instanceof Error)}function O(t){return"function"==typeof t}function T(t){return Object.prototype.toString.call(t)}function M(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(g(i)&&(i=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var r=t.pid;a[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else a[n]=function(){};return a[n]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=h,e.isNull=y,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=v,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=g,e.isRegExp=_,e.isObject=b,e.isDate=w,e.isError=x,e.isFunction=O,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(255);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function j(){var t=new Date,e=[M(t.getHours()),M(t.getMinutes()),M(t.getSeconds())].join(":");return[t.getDate(),k[t.getMonth()],e].join(" ")}function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",j(),e.format.apply(e,arguments))},e.inherits=n(256),e._extend=function(t,e){if(!e||!b(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var P="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function E(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(P&&t[P]){var e;if("function"!=typeof(e=t[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,P,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise(function(t,r){e=t,n=r}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(t,r){t?n(t):e(r)});try{t.apply(this,o)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),P&&Object.defineProperty(e,P,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=P,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};e.apply(this,n).then(function(e){t.nextTick(a,null,e)},function(e){t.nextTick(E,e,a)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(91))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=n(1),i=(r=n(2))&&r.__esModule?r:{default:r},a=n(8);var s=function(){function t(t){void 0===t&&(t=null),t=(0,o.extend)({},t),this.render()}return Object.defineProperty(t.prototype,"$el",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$path",{get:function(){return(0,i.default)("."+a.Globals.cssPrefix+"fill-path",this.$el)},enumerable:!0,configurable:!0}),t.prototype.appendTo=function(t){var e=(0,i.default)(t);e.length>0&&(e.append(this.$el),this._target=(0,i.default)("."+a.Globals.cssPrefix+"loader",e))},t.prototype.startAnimating=function(){this.$el.addClass("animated")},t.prototype.stopAnimating=function(){this.$el.removeClass("animated")},t.prototype.render=function(){this._target=(0,i.default)('<div class="'+a.Globals.cssPrefix+'loader"><svg version="1.1" class="'+a.Globals.cssPrefix+'filler-loader"><circle class="'+a.Globals.cssPrefix+'fill-path" cx="20" cy="20" r="18"/></svg></div>')},t}();e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(13)),o=n(1),i=a(n(2));function a(t){return t&&t.__esModule?t:{default:t}}var s,u=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e){var n=this;return e=(0,o.extend)({toggleable:!1,ui:{container:".awxjs__app__ui-panel-container",toolbar:".awxjs__app__ui-panel-toolbar",content:".awxjs__app__ui-panel-content",toggle:".awxjs__app__ui-panel-toggle",close:".awxjs__app__ui-panel-close"}},e,{className:e.className?"app__ui-panel "+e.className:"app__ui-panel"}),(n=t.call(this,e)||this)._bounds={},n.setState({visible:!0!==n.opts.toggleable}),n}return u(e,t),Object.defineProperty(e.prototype,"visible",{get:function(){return this.state.visible},enumerable:!0,configurable:!0}),e.prototype.open=function(){!1!==this.opts.toggleable&&(this.setState({visible:!0}),this._updateSize(),this.$el.addClass("awxjs__app__ui-panel-toggleable-open"))},e.prototype.close=function(){!1!==this.opts.toggleable&&(this.setState({visible:!1}),this._updateSize(),this.$el.removeClass("awxjs__app__ui-panel-toggleable-open"))},e.prototype.toggle=function(){this.visible?this.close():this.open()},e.prototype.getContentContainer=function(){return this.ui.content},e.prototype.contentSize=function(){var t={width:0,height:0},e=this.getContentContainer();return t.width=e.outerWidth(!0),e.children().forEach(function(e){if("absolute"!==window.getComputedStyle(e).position){var n=(0,i.default)(e);t.width=Math.max(t.width,n.outerWidth(!0)),t.height+=n.outerHeight(!0)}}),t},e.prototype._updateSize=function(){if(this.opts.toggleable&&this.ui.close){var t={width:0,height:0};if(this.visible&&this._bounds.content){var e=this.contentSize(),n=e.height,r=e.width,o=this.ui.content.padding();r+=o.left+o.right,n+=o.bottom+this.ui.toolbar.outerHeight(!0),t.width=r,t.height=n}else if(!this.visible&&this._bounds.toggle){var i=this._bounds.toggle;n=i.height,r=i.width;t.width=r,t.height=n}this.ui.container.css({"max-height":t.height+"px","max-width":t.width+"px"})}},e.prototype._render=function(){return'\n\t\t\t<div class="awxjs__app__ui-panel-container">\n\t\t\t\t<div class="awxjs__app__ui-panel-toolbar">\n\t\t\t\t\t'+(this.opts.title?'<div class="awxjs__app__ui-panel-title">'+this.opts.title+"</div>":"")+'\n\t\t\t\t\t<button class="awxjs__app__ui-panel-close">\n\t\t\t\t\t\t<svg version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t<path d="m22.699 77.301c0.80078 0.80078 1.8008 1.1992 2.8008 1.1992s2-0.39844 2.8008-1.1992l21.699-21.602 21.699 21.699c0.80078 0.80078 1.8008 1.1992 2.8008 1.1992s2-0.39844 2.8008-1.1992c1.6016-1.6016 1.6016-4.1016 0-5.6992l-21.602-21.699 21.699-21.699c1.6016-1.6016 1.6016-4.1016 0-5.6992-1.6016-1.6016-4.1016-1.6016-5.6992 0l-21.699 21.699-21.699-21.602c-1.6016-1.6016-4.1016-1.6016-5.6992 0-1.6016 1.6016-1.6016 4.1016 0 5.6992l21.699 21.602-21.602 21.699c-1.5977 1.5-1.5977 4.1016 0 5.6016z"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div class="awxjs__app__ui-panel-content"></div>\n\t\t\t\t<div class="awxjs__app__ui-panel-toggle">'+this.opts.icon+"</div>\n\t\t\t</div>\n\t\t"},e.prototype._layout=function(){if(t.prototype._layout.call(this),this.ui.content){var e=this.contentSize();if(e.width>0&&e.height>0){var n=this.ui.content.padding();this._bounds.content=(0,o.extend)(this.ui.content.bounds(),{height:e.height+n.top+n.bottom,width:e.width+n.left+n.right})}}if(this.ui.toggle&&(this.ui.content.css({height:"auto",width:"auto"}),this._bounds.toggle=this.ui.toggle.bounds()),this._bounds.content){var r=this._bounds.content;!1===this.opts.toggleable&&this.$el.css({height:r.height+"px",width:r.width+"px"})}this._updateSize()},e.prototype._afterRender=function(){this.opts.toggleable&&this.$el.addClass("awxjs__app__ui-panel-toggleable")},e.prototype._onAddedToDOM=function(){t.prototype._onAddedToDOM.call(this),this.opts.toggleable&&this.close()},e.prototype._setupEvents=function(){var t=this;this.opts.toggleable&&(this.ui.toggle.on("click",function(){t.open()}),this.ui.close.on("click",function(){t.close()}))},e}(r.default);e.default=c,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n(3)),o=n(1),i=n(5),a=n(33),s=u(n(2));function u(t){return t&&t.__esModule?t:{default:t}}var c,l=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){function e(e,n){var r=t.call(this)||this;return e=(0,o.extend)({className:(0,i.prefixCSSClassName)("app__view"),renderer:null},e),r._opts=e,r._target=(0,s.default)("<div></div>"),r._ui={},r._needsRender=!0,e.className&&r.$el.addClass((0,i.prefixCSSClassName)(e.className)),r.render(n),r}return l(e,t),Object.defineProperty(e.prototype,"$el",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.opts.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opts",{get:function(){return this._opts},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ui",{get:function(){return this._ui},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),e.prototype.addTo=function(t,e){var n=this;if(void 0===e&&(e=!1),!t)throw new Error("[awxjs] Invalid DOM target specified for View.addTo()");e&&(0,s.default)(t).empty(),this._needsRender&&this.render(this._data),(0,s.default)(t).append(this.$el),this._target=(0,s.default)(t).children().last(),this._lastSize=this.size(),this._opts.ui&&this.setUI(this._opts.ui),this._onAddedToDOM(),this._layout(),this._setupEvents(),this._afterEvents(),this.trigger("render"),(0,s.default)(window).on("resize",function(){n._onResize()})},e.prototype.remove=function(){this.$el.remove()},e.prototype.parent=function(){var t=this.$el.parent();return t&&t.length>0&&null!==t[0]?t:null},e.prototype.size=function(){return{width:this.$el.outerWidth(),height:this.$el.outerHeight()}},e.prototype.setData=function(t){t=this._onData(t),this._data=(0,o.cloneDeep)(t),this._needsRender=!0,this.render(t)},e.prototype.setUI=function(t){var e=this;this.$el&&Object.keys(t).forEach(function(n){try{var r=(0,s.default)(t[n],e.$el);r&&r.length>0?e._ui[n]=r:e._ui[n]=null}catch(t){console.warn(t)}})},e.prototype.moveTo=function(t,e){void 0===e&&(e={x:0,y:0});var n=t.x,r=t.y;n+=e.x,r+=e.y,this.$el.css({left:n+"px",top:r+"px"})},e.prototype.pinTo=function(t,e){var n=this.parent();if(e=(0,o.extend)({x:0,y:0},e),this.$el.addClass("awxjs__app__view__pinned-"+t),n){var r=n.bounds(),i=(0,a.getPinnedPosition)(t,this.size(),{width:r.width,height:r.height},e),s=/right/.test(t)?"right":"left",u=/bottom/.test(t)?"bottom":"top";"right"===s&&(i.x=-1*e.x),"bottom"===u&&(i.y=-1*e.y);var c={};c[s]=i.x+"px",c[u]=i.y+"px",this.$el.css(c)}},e.prototype.render=function(t){t&&(this._data=(0,o.cloneDeep)(t)),t=t||{},this._beforeRender();var e,n=this.opts.renderer;n?(0,o.isFunction)(n)?e=n(t):(0,o.isString)(n)&&(e=n):e=this._render(t),(0,o.isset)(e)&&this.$el.html(e),this._needsRender=!1,this._opts.ui&&this.setUI(this._opts.ui),this._afterRender()},e.prototype._render=function(t){return null},e.prototype._layout=function(){},e.prototype._onData=function(t){return t},e.prototype._beforeRender=function(){},e.prototype._afterRender=function(){},e.prototype._setupEvents=function(){},e.prototype._afterEvents=function(){},e.prototype._onAddedToDOM=function(){},e.prototype._onResize=function(){this._shouldLayout()&&this._layout(),this._lastSize=this.size()},e.prototype._shouldLayout=function(){var t=this.size();return t.width!==this._lastSize.width||t.height!==this._lastSize.height},e}(r.default);e.default=p,t.exports=e.default},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=e&&Number(e.weekStartsOn)||0,o=r(t),i=o.getDay(),a=(i<n?7:0)+i-n;return o.setDate(o.getDate()-a),o.setHours(0,0,0,0),o}},function(t,e,n){var r=n(11),o=6e4,i=864e5;t.exports=function(t,e){var n=r(t),a=r(e),s=n.getTime()-n.getTimezoneOffset()*o,u=a.getTime()-a.getTimezoneOffset()*o;return Math.round((s-u)/i)}},function(t,e,n){var r=n(0),o=n(35);t.exports=function(t,e){var n=r(t),i=Number(e),a=n.getMonth()+i,s=new Date(0);s.setFullYear(n.getFullYear(),a,1),s.setHours(0,0,0,0);var u=o(s);return n.setMonth(a,Math.min(u,n.getDate())),n}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=r(e);return n.getTime()-o.getTime()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.MapRequestType=void 0;var r=n(7),o=u(n(18)),i=u(n(244)),a=u(n(246)),s=n(1);function u(t){return t&&t.__esModule?t:{default:t}}var c,l=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},p=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},f=function(t){return(t||"").replace(/\s/,"").split(",")},d=function(t){return(0,s.isEmpty)(t)?[]:(0,s.isArray)(t)?t.map(function(t){return t instanceof a.default?t.toString():t}):f(t)},h=function(t){return Object.keys(t).forEach(function(e){var n=t[e];if("layers"===e)(0,s.isPlainObject)(n)?Object.keys(n).forEach(function(t){n[t]=d(n[t])}):t[e]=d(n);else if("p"===e&&(0,s.isObject)(t[e])){var r=t[e],o=r.lat,i=r.lon;o&&i&&(t[e]=o+","+i)}}),t};e.MapRequestType=c,function(t){t.IMAGE="image",t.TILE="tile"}(c||(e.MapRequestType=c={}));var y=function(){function t(t,e){this.config={server:"https://maps.aerisapi.com",client:{id:void 0,secret:void 0}},this._params={type:c.IMAGE,layers:{base:void 0,data:void 0,overlays:void 0,text:void 0},p:void 0,zoom:3,bounds:void 0,size:{width:void 0,height:void 0},offset:"0",metric:!1,format:"png"},this._paramKeys=["type","layers","layers.base","layers.data","layers.overlays","layers.text","p","center","zoom","bounds","size","size.width","size.height","offset","metric"],this.config=(0,s.merge)(this.config,t),this._http=new o.default(this.config.server,{"Content-Type":null}),e&&this.setParams(e)}return t.prototype.param=function(t,e){return e?(-1!==this._paramKeys.indexOf(t)&&((0,s.set)(this._params,t,e),/^layers/.test(t)&&(this._params=h(this._params))),this):(0,s.get)(this._params,t)},t.prototype.setParams=function(t){return this._params=h((0,s.merge)(this._params,t)),this},t.prototype.type=function(t){return this.param("type",t),this},t.prototype.base=function(t){return this.param("layers.base",d(t)),this},t.prototype.data=function(t){return this.param("layers.data",d(t)),this},t.prototype.overlays=function(t){return this.param("layers.overlays",d(t)),this},t.prototype.text=function(t){return this.param("layers.text",d(t)),this},t.prototype.layers=function(t){return this.param("layers",d(t)),this},t.prototype.place=function(t){return this.param("p",t),this},t.prototype.center=function(t){if((0,s.isObject)(t)){var e=t,n=e.lat,r=e.lon;n&&r&&(t=n+","+r)}return this.param("p",t),this},t.prototype.zoom=function(t){return this.param("zoom",t),this},t.prototype.bounds=function(t){return this.param("bounds",t),this},t.prototype.size=function(t,e){return this.param("size",{width:t,height:e}),this},t.prototype.offset=function(t){return this.param("offset",""+t),this},t.prototype.date=function(t){t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes());var e=new Date(t.getTime()+60*t.getTimezoneOffset()*1e3);return this.offset((0,r.format)(e,"YYYYMMDDHHmm00"))},t.prototype.metric=function(t){return t?(this.param("metric",t),this):this.param("metric")},t.prototype.get=function(t){return l(this,void 0,void 0,function(){var e,n,r,o,a,s,u,c;return p(this,function(l){switch(l.label){case 0:return l.trys.push([0,5,,6]),(e=this.url())?[4,this._http.get(e)]:(n=new i.default(null,null,new Error("Invalid map url"),this._params),t&&t(n),[2,n]);case 1:return r=l.sent(),o=void 0,a=void 0,r.status>=400?[4,r.data]:[3,3];case 2:return s=l.sent(),!(a=s.error)||"warn_no_data"!==a.code&&"warn_invalid_param"!==a.code&&"invalid_location"!==a.code||(a=null),[3,4];case 3:(o=new Image).src=e.indexOf(this.config.server)>=0?e:this.config.server+"/"+e,l.label=4;case 4:return u=new i.default(r,o,a,this._params),t&&t(u),[2,u];case 5:return c=l.sent(),console.error("MapRequest Error",c),[3,6];case 6:return[2,null]}})})},t.prototype.url=function(t){void 0===t&&(t=[]);var e=this.config.server,n=(0,s.merge)({},(0,s.pickBy)(this._params,function(t){return!(0,s.isEmpty)(t)}),{layers:[]});(0,s.isString)(n.p)&&(n.p=n.p.replace(/\+/,"%20"));var r=this._params.layers;if((0,s.isPlainObject)(r)){var o=r;t=(0,s.isEmpty)(t)?Object.keys(o):t,(0,s.isEmpty)(t)||t.forEach(function(t){var e=o[t];(0,s.isEmpty)(e)||((0,s.isArray)(e)||(e=f(e)),n.layers=n.layers.concat(e))})}else(0,s.isArray)(r)&&(n.layers=r);if(!(0,s.isEmpty)(n.layers)){if(n.type===c.TILE)e+="/"+this.config.client.id+"_"+this.config.client.secret+"/"+n.layers+"/{z}/{x}/{y}/"+n.offset+"."+n.format;else{if(((0,s.isEmpty)(n.p)||":auto"===n.p)&&(0,s.isEmpty)(n.bounds))return void console.warn("No valid location or bounds provided for the map - p: "+n.p+"; bounds: "+n.bounds);var i=n.bounds;n.loc=(0,s.isEmpty)(i)?n.p+","+n.zoom:i.south+","+i.west+","+i.north+","+i.east,e+="/"+this.config.client.id+"_"+this.config.client.secret+"/"+n.layers+"/"+n.size.width+"x"+n.size.height+"/"+n.loc+"/"+n.offset+"."+n.format}return e}t.length>1&&console.warn("No map layers specified - layers: "+n.layers+"; groups: "+t.join(","))},t.prototype.clone=function(){var e=new t(this.config);return e.setParams(this._params),e},t}();e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.normalize=void 0;var r,o=n(1),i=(r=n(248))&&r.__esModule?r:{default:r};var a=function(t){var e=Math.ceil(Math.abs(t.lat)/180);return t.lat>90?t.lat-=180*e:t.lat<-90&&(t.lat+=180*e),e=Math.ceil(Math.abs(t.lon)/360),t.lon>180?t.lon-=360*e:t.lon<-180&&(t.lon+=360*e),t};e.normalize=a;var s=function(){function t(t,e){if(this.north=0,this.south=0,this.west=0,this.east=0,t=a(t),e=a(e),void 0===t||!(0,o.isObject)(t))throw new i.default("CoordinateBounds - northwest coordinate value is required");if(void 0===e||!(0,o.isObject)(e))throw new i.default("CoordinateBounds - southeast coordinate value is required");if(t.lat<e.lat)throw new i.default("CoordinateBounds - northern latitude must be greater than southern latitude");this.north=t.lat,this.south=e.lat,this.west=t.lon,this.east=e.lon}return t.fromBounds=function(e){return new t({lat:e.north,lon:e.west},{lat:e.south,lon:e.east})},t.prototype.northwest=function(){return{lat:this.north,lon:this.west}},t.prototype.southwest=function(){return{lat:this.south,lon:this.west}},t.prototype.northeast=function(){return{lat:this.north,lon:this.east}},t.prototype.southeast=function(){return{lat:this.south,lon:this.east}},t.prototype.center=function(){return{lat:this.north-(this.north-this.south)/2,lon:this.west-(this.west-this.east)/2}},t.prototype.extend=function(t){if(!(this.north||this.south||this.west||this.east))return this.north=t.lat,this.south=t.lat,this.west=t.lon,void(this.east=t.lon);this.north=Math.max(this.north,t.lat),this.south=Math.min(this.south,t.lat),this.west=Math.min(this.west,t.lon),this.east=Math.max(this.east,t.lon)},t.prototype.intersects=function(t){if(this.contains(t))return!1;var e=t.north,n=t.south,r=t.east,o=t.west;return(e<=this.north&&e>=this.south||n>=this.south&&n<=this.north)&&(o>=this.west&&o<=this.east||r<=this.east&&r>=this.west)},t.prototype.contains=function(e){if(e instanceof t){var n=e,r=n.north,o=n.south,i=n.east,a=n.west;return r<this.north&&o>this.south&&a>this.west&&i<this.east}var s=e,u=s.lat,c=s.lon;return u<this.north&&u>this.south&&c>this.west&&c<this.east},t.prototype.toString=function(){return this.north+","+this.west+","+this.south+","+this.east},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(3))&&r.__esModule?r:{default:r},i=n(47),a=n(1);var s,u=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e,n){var r=t.call(this)||this;return r._setInitialView=!0,r._ready=!1,n=(0,a.extend)({zoom:7},n),r._opts=n,r._sources={},r._sourceOrder=[],r.loadDependencies().then(function(){return r.init(e)}),r}return u(e,t),Object.defineProperty(e.prototype,"$el",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"map",{get:function(){return this._map},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"factory",{get:function(){return this._factory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opts",{get:function(){return this._opts},enumerable:!0,configurable:!0}),e.prototype.isReady=function(){return this._ready},e.prototype.init=function(t){var e=this;this.setupMap(t);var n={};if((0,a.isset)(this._opts.zoom)&&(n.zoom=this._opts.zoom),this._opts.center&&(n.center={lat:this._opts.center.lat,lon:this._opts.center.lon}),!this._factory)throw new Error("Cannot initialize map, overlay factory is undefined.");if(this._setupEvents(),this._setInitialView){var r=(0,a.isset)(n.zoom)?Math.max(0,n.zoom):8,o=n.center||{},i=o.lat,s=o.lon;(0,a.isset)(i)&&(0,a.isset)(s)?this.setView({lat:parseFloat(i),lon:parseFloat(s)},r):r>0&&this.setZoom(r)}this.on("map:ready",function(){e._ready=!0,e.trigger("ready")})},e.prototype.loadDependencies=function(){return null},e.prototype.setupMap=function(t){throw new Error("Subclasses of MapStrategy must override setupMap()")},e.prototype.setView=function(t,e){throw new Error("Subclasses of MapStrategy must override setView()")},e.prototype.setCenter=function(t){throw new Error("Subclasses of MapStrategy must override setCenter()")},e.prototype.setZoom=function(t){throw new Error("Subclasses of MapStrategy must override setZoom()")},e.prototype.addSource=function(t){var e=this;this._sources[t.layer]=t,this.isTile(t)?(this._sourceOrder.push(t.layer),t.dataSource=this,this.addOverlay(t.overlay),t.on("layer:add",function(t){e.addOverlay(t.data.layer)}),t.on("layer:remove",function(t){e.removeOverlay(t.data.layer)})):this.isVector(t)&&(t.on("markers:add",function(t){var n=t.data.markers;n&&e.addMarkers(n)}),t.on("markers:remove",function(t){var n=t.data.markers;n&&e.removeMarkers(n)}),t.on("markers:update",function(n){(n.data.markers||[]).forEach(function(n){n.id;var r=n.renderable,o=n.value,i=n.style;o&&e.updateMarker(r,{data:{value:o},style:i.marker||i},t.layer)})}),t.on("shapes:add",function(t){var n=t.data,r=n.shapes,o=n.animation;r&&(o?e.showShapes(r):e.addShapes(r))}),t.on("shapes:remove",function(t){var n=t.data,r=n.shapes,o=n.animation;r&&(o?e.hideShapes(r):e.removeShapes(r))}))},e.prototype.removeSource=function(t){if(this.isTile(t)){t.remove();var e=this._sourceOrder.indexOf(t.layer);e>=0&&this._sourceOrder.splice(e,1)}else this.isVector(t)&&(this.removeMarkers(t.markers),this.removeShapes(t.shapes));t.strategy=null,delete this._sources[t.layer]},e.prototype.isTile=function(t){return!1},e.prototype.isVector=function(t){return t instanceof i.VectorSource},e.prototype.isText=function(t){return t instanceof i.TextSource},e.prototype.isMarker=function(t){return!1},e.prototype.isPolygon=function(t){return!1},e.prototype.isPolyline=function(t){return!1},e.prototype.addOverlay=function(t){throw new Error("Subclasses of MapStrategy must override addOverlay()")},e.prototype.addOverlays=function(t){var e=this;(t||[]).forEach(function(t){return e.addOverlay(t)})},e.prototype.removeOverlay=function(t){throw new Error("Subclasses of MapStrategy must override removeOverlay()")},e.prototype.removeOverlays=function(t){var e=this;(t||[]).forEach(function(t){return e.removeOverlay(t)})},e.prototype.addMarker=function(t,e){throw new Error("Subclasses of MapStrategy must override addMarker()")},e.prototype.addMarkers=function(t){var e=this;(t||[]).forEach(function(t){return e.addMarker(t)})},e.prototype.removeMarker=function(t){throw new Error("Subclasses of MapStrategy must override removeMarker()")},e.prototype.removeMarkers=function(t){var e=this;(t||[]).forEach(function(t){return e.removeMarker(t)})},e.prototype.updateMarker=function(t,e,n){throw void 0===n&&(n=null),new Error("Subclasses of MapStrategy must override updateMarker()")},e.prototype.addShape=function(t,e){if((0,a.isArray)(t))this.addShapes(t);else if((0,a.isPlainObject)(t)){var n=t.renderable,r=t.polygons,o=t.data;r?this.addShapes(r):n&&this.addShape(n,o)}},e.prototype.addShapes=function(t){var e=this;(t||[]).forEach(function(t){return e.addShape(t)})},e.prototype.removeShape=function(t){if((0,a.isArray)(t))this.removeShapes(t);else if((0,a.isPlainObject)(t)){var e=t.renderable,n=t.polygons;n?this.removeShapes(n):e&&this.removeShape(e)}},e.prototype.removeShapes=function(t){var e=this;(t||[]).forEach(function(t){return e.removeShape(t)})},e.prototype.showShape=function(t){if((0,a.isArray)(t))this.showShape(t);else if((0,a.isPlainObject)(t)){var e=t.shape,n=t.polygons;n?this.showShapes(n):e&&this.showShape(e)}},e.prototype.showShapes=function(t){var e=this;(t||[]).forEach(function(t){return e.showShape(t)})},e.prototype.hideShape=function(t){if((0,a.isArray)(t))this.hideShape(t);else if((0,a.isPlainObject)(t)){var e=t.shape,n=t.polygons;n?this.hideShapes(n):e&&this.hideShape(e)}},e.prototype.hideShapes=function(t){var e=this;(t||[]).forEach(function(t){return e.hideShape(t)})},e.prototype.showCallout=function(t,e){},e.prototype.clear=function(){},e.prototype._setupEvents=function(){var t=this,e=this._eventMapping;if(e){var n="on";(0,a.has)(this.map,n)||((0,a.has)(this.map,"addEventListener")?n="addEventListener":(0,a.has)(this.map,"addListener")&&(n="addListener")),(0,a.has)(this.map,n)&&Object.keys(e).forEach(function(r){t.map[n](r,function(n){var o=t._dataForMapEvent(r,n);t._shouldTriggerEvent(r)&&t.trigger(e[r],o)})})}},e.prototype._shouldTriggerEvent=function(t){return!0},e.prototype._dataForMapEvent=function(t,e){return null},e.prototype.tileLayer=function(t,e,n){if(!this.dataSource)return null;var r=(0,a.isset)(n.zIndex)?n.zIndex:1,o=this._sourceOrder.indexOf(t);o>=0&&(r=o+1);var i=this.dataSource.requestForMap(t);return this.factory.tileLayer(t,i,(0,a.extend)((0,a.cloneDeep)(n),{time:e,zIndex:r}))},e}(o.default);e.default=c,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SVG=void 0;var r,o=n(21),i=n(1),a=function(t,e,n,r){var o=0,a=0;if(r=(0,i.extend)({x:0,y:0},r),(0,i.isString)(t)){var s=t;o=(n.width-e.width)/2,a=(n.height-e.height)/2,/^top/.test(s)?a=0:/^bottom/.test(s)&&(a=n.height-e.height),/left$/.test(s)?o=0:/right$/.test(s)&&(o=n.width-e.width)}else{var u=t;o=u.x,a=u.y}return{x:o+=r.x,y:a+=r.y}},s=function(t){var e=t.stroke?Object.keys(t.stroke).reduce(function(e,n){var r=t.stroke[n];return(0,i.isset)(r)&&("width"===n&&(e+=' stroke-width="'+r+'"'),"color"===n&&(e+=' stroke="'+r+'"'),"opacity"===n&&(e+=' stroke-opacity="'+r+'"')),e},""):"",n=t.fill?Object.keys(t.fill).reduce(function(e,n){var r=t.fill[n];return(0,i.isset)(r)&&("color"===n&&(e+=' fill="'+r+'"'),"opacity"===n&&(e+=' fill-opacity="'+r+'"')),e},""):"";return n||e?""+n+e:""};e.SVG=r,function(t){t.calculateTextSize=function(t,e,n,r){var o=0,a=0;if(r=r||[0,0],e=e||12,window&&window.document){var s=window.document,u=s.createElement("text");u.style.fontSize=(0,i.isString)(e)?""+e:e+"px",u.style.fontWeight=n||"normal",u.style.visibility="hidden",u.innerHTML=t,s.body.appendChild(u);var c=u.getBoundingClientRect();s.body.removeChild(u),c.width>0&&(o=c.width),c.height>0&&(a=c.height)}return[o+=2*r[0],a+=2*r[1]]},t.path=function(t,e){e=(0,i.extend)({stroke:{opacity:1},fill:{color:"#ffffff",opacity:1}},e);var n=s(e);return"<g"+(e.transform?' transform="'+e.transform+'"':"")+'><path d="'+t+'"'+n+" /></g>"},t.rect=function(e,n,r){var o=(r=(0,i.extend)({margin:0,radius:0,stroke:null,fill:{color:"#ffffff",opacity:1}},r)).margin,a=r.radius,s=o;r.stroke&&r.stroke.width>0&&(s+=r.stroke.width/2,e-=r.stroke.width,n-=r.stroke.width);var u="M"+(s+a)+","+s+" ";return u+="L"+(s+e-a)+","+s+" ",a>0&&(u+="A"+a+","+a+" 0 0,1 "+(s+e)+","+(s+a)+" "),u+="L"+(s+e)+","+(s+n-a)+" ",a>0&&(u+="A"+a+","+a+" 0 0,1 "+(s+e-a)+","+(s+n)+" "),u+="L"+(s+a)+","+(s+n)+" ",a>0&&(u+="A"+a+","+a+" 0 0,1 "+s+","+(s+n-a)+" "),u+="L"+s+","+(s+a)+" ",a>0&&(u+="A"+a+","+a+" 0 0,1 "+(s+a)+","+s+" "),u+="Z",t.path(u,r)},t.circle=function(t,e){var n=2*(((e=(0,i.extend)({position:"center",translate:{x:0,y:0},radius:0,stroke:null,fill:{color:"#ffffff",opacity:1}},e)).radius||8)+((0,i.get)(e,"stroke.width")||0)+1),r=a(e.position,{width:n,height:n},t,e.translate),o=s(e);return r.x+=n/2,r.y+=n/2,"<circle"+(e.transform?' transform="'+e.transform+'"':"")+' cx="'+r.x+'" cy="'+r.y+'" r="'+e.radius+'"'+o+" />"},t.text=function(e,n,r){r=(0,i.extend)({position:"center",translate:{x:0,y:0},anchor:"start",size:12,font:"'Helvetica','Arial',sans-serif",style:"bold",color:"#222222"},r),e=e||r.value;var o=t.calculateTextSize(""+e,r.size,r.style,r.padding),s=o[0],u=o[1];r.translate.y+=u-3;var c=a(r.position,{width:s,height:u},n,r.translate);return"<text"+(r.transform?' transform="'+r.transform+'"':"")+' dominent-baseline="hanging" text-anchor="'+r.anchor+'" x="'+c.x+'" y="'+c.y+'" style="font-family:'+r.font+";font-size:"+r.size+"px;font-weight:"+r.style+';" fill="'+r.color+'">'+(e||"")+"</text>"},t.image=function(t,e,n){n=(0,i.extend)({position:"center",size:[30,30]},n),t=t||n.url;var r=n.size,o=r[0],s=r[1],u=a(n.position,{width:o,height:s},e,n.translate),c=n.size,l=c[0],p=c[1];return"<image"+(n.transform?' transform="'+n.transform+'"':"")+' x="'+u.x+'" y="'+u.y+'" width="'+l+'" height="'+p+'" xlink:href="'+t+'" />'},t.svg=function(t,e,n,r){return void 0===r&&(r=null),'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="'+t+'" height="'+e+'"'+(r?' viewBox="'+r+'"':"")+">\n\t\t\t"+(n||[]).map(function(t){return t}).join("")+"\n\t\t</svg>"},t.draw=function(e,n,r){var a=r.value,s=!0,u=!1,c=r.shape,l=r.text,p=r.image,f=[],d=[];if(l){var h=function(r,o){var a=r||o.value||"",s=o.x||0,u=o.y||0,l=o.size||12,p=t.calculateTextSize(a,l,o.style,o.padding),f=p[0],d=p[1],h=!(0,i.isset)(o.autosize)||o.autosize;if((0,i.isEmpty)(a))return null;h&&(f&&d?(e=f,n=d):(e=5*a.length,n=l+2));var y=0;return c&&c.stroke&&(y=c.stroke.width/2||0),t.text(a,{width:e,height:n},(0,i.extend)(o,{x:y+e/2+s,y:y+Math.round(n-(n-.7*l)/2)+u}))};if((0,o.isArray)(l))l.forEach(function(t){var e=h(a,t);e&&d.push(e)});else{var y=h(a,l);y&&d.push(y)}d.length>0&&(u=!0)}if(c){var m=e,v=n,g=c.type,_=c.size;if(_&&2===_.length&&(m=_[0],v=_[1]),"rect"===g){var b=t.rect(m,v,c);f.push(b)}else if("path"===g){b=t.path((0,i.get)(c,"path"),c);f.push(b)}else{var w=(0,i.get)(c,"stroke.width")||0;c.radius=Math.floor((m-2*w)/2),c.center={x:Math.round(m/2)+1,y:Math.round(v/2)+1};b=t.circle({width:e,height:n},c);f.push(b)}}if(p){var x=p.url;if(x){var O=p.x||0,T=p.y||0,M={x:e/2,y:n/2},k=p.size||[30,30],j=(m=k[0],v=k[1],t.image(x,{width:e,height:n},(0,i.extend)(p,{x:M.x-m/2+O,y:M.y-v/2+T})));f.push(j)}}return d.length>0?f=f.concat(d):u&&(s=!1),s?t.svg(e,n,f,r.viewBox):null}}(r||(e.SVG=r={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.viewportSizeClass=e.getPinnedPosition=void 0;var r=n(1);e.getPinnedPosition=function(t,e,n,o){var i=0,a=0;if(o=(0,r.extend)({x:0,y:0},o),(0,r.isString)(t)){var s=t;i=(n.width-e.width)/2,a=(n.height-e.height)/2,/^top/.test(s)?a=0:/^bottom/.test(s)&&(a=n.height-e.height),/left$/.test(s)?i=0:/right$/.test(s)&&(i=n.width-e.width)}else{var u=t;i=u.x,a=u.y}return{x:i+=o.x,y:a+=o.y}};e.viewportSizeClass=function(){if(!window)return{width:null,height:null};var t="normal",e="normal";return window.matchMedia("(max-width: 500px)").matches?t="compact":window.matchMedia("(min-width: 1000px)").matches&&(t="desktop"),window.matchMedia("(max-height: 500px)").matches?e="compact":window.matchMedia("(min-height: 1000px)").matches&&(e="desktop"),{width:t,height:e}}},function(t,e){t.exports=function(t){return t instanceof Date}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t),n=e.getFullYear(),o=e.getMonth(),i=new Date(0);return i.setFullYear(n,o+1,0),i.setHours(0,0,0,0),i.getDate()}},function(t,e,n){var r=n(14);t.exports=function(t,e){var n=Number(e);return r(t,7*n)}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t).getTime(),o=r(e).getTime();return n>o?-1:n<o?1:0}},function(t,e,n){var r=n(0),o=n(63),i=n(17);t.exports=function(t,e){var n=r(t),a=r(e),s=i(n,a),u=Math.abs(o(n,a));return n.setMonth(n.getMonth()-s*u),s*(u-(i(n,a)===-s))}},function(t,e,n){var r=n(28);t.exports=function(t,e){var n=r(t,e)/1e3;return n>0?Math.floor(n):Math.ceil(n)}},function(t,e,n){var r=n(133),o=n(134);t.exports={distanceInWords:r(),format:o()}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t);return e.setHours(23,59,59,999),e}},function(t,e,n){var r=n(0),o=n(10),i=n(16),a=6048e5;t.exports=function(t){var e=r(t),n=o(e).getTime()-i(e).getTime();return Math.round(n/a)+1}},function(t,e,n){var r=n(25);t.exports=function(t,e,n){var o=r(t,n),i=r(e,n);return o.getTime()===i.getTime()}},function(t,e,n){"use strict";(function(e){var r=n(6),o=n(228),i={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,u={adapter:("undefined"!=typeof XMLHttpRequest?s=n(92):void 0!==e&&(s=n(92)),s),transformRequest:[function(t,e){return o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(t){u.headers[t]={}}),r.forEach(["post","put","patch"],function(t){u.headers[t]=r.merge(i)}),t.exports=u}).call(this,n(91))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(19)),o=a(n(99)),i=a(n(46));function a(t){return t&&t.__esModule?t:{default:t}}var s,u=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e){void 0===e&&(e=null);var n=t.call(this,e)||this;return n._loading=!1,n._animations={},n}return u(e,t),Object.defineProperty(e.prototype,"animations",{get:function(){return this._animations||{}},set:function(t){var e=this;this.stop(),this._animations=t,this._each(function(t){t.timeline=e})},enumerable:!0,configurable:!0}),e.prototype.get=function(t){return this._animations[t]},e.prototype.add=function(t,e){this.stop(),e.timeline=this,this._animations[t]=e},e.prototype.remove=function(t){var e=this;Object.keys(this._animations).forEach(function(n){e._animations[n]===t&&e.removeBy(n)})},e.prototype.removeBy=function(t){var e=this._animations[t];e&&(this.stop(),e.timeline=void 0),delete this._animations[t]},e.prototype.play=function(){var e=this,n=!0,a=[];this.canAnimate()&&(this._each(function(t){var s=!1===e.containsPast();t instanceof o.default&&t.isFuture()?t.showWhenLoading=s:t instanceof i.default&&t.isFuture()&&(t.showWhenLoading=s),t.isEnabled()&&!t.isReady()&&(e._loading=!0,n=!1,a.push(t),t.once(r.default.Event.LOAD_DONE,function(){a.splice(a.indexOf(t),1),0===a.length&&(e.trigger(r.default.Event.LOAD_DONE),e.play())}),t.play())}),n?(this._loading=!1,this.trigger(r.default.Event.LOAD_DONE),this._each(function(t){t.play()}),t.prototype.play.call(this)):this.trigger(r.default.Event.LOAD_START))},e.prototype.stop=function(){this._each(function(t){t.stop()}),t.prototype.stop.call(this),this._loading&&this.trigger(r.default.Event.LOAD_DONE),this._loading=!1},e.prototype.pause=function(){this._each(function(t){t.pause()}),t.prototype.pause.call(this)},e.prototype.restart=function(){this._each(function(t){t.restart()}),t.prototype.restart.call(this)},e.prototype.reset=function(e){void 0===e&&(e=!1),this.stop(),this._loading=!1,this._each(function(t){t.reset(e)}),t.prototype.reset.call(this,e)},e.prototype.isLoading=function(){return this._loading},e.prototype.goToTime=function(e){return this._each(function(t){t.goToTime(e)}),t.prototype.goToTime.call(this,e)},e.prototype.setStartDate=function(e){return this._each(function(t){t.setStartDate(e)}),t.prototype.setStartDate.call(this,e)},e.prototype.setStartOffset=function(e){return this._each(function(t){t.setStartOffset(e)}),t.prototype.setStartOffset.call(this,e)},e.prototype.setEndDate=function(e){return this._each(function(t){t.setEndDate(e)}),t.prototype.setEndDate.call(this,e)},e.prototype.setEndOffset=function(e){return this._each(function(t){t.setEndOffset(e)}),t.prototype.setEndOffset.call(this,e)},e.prototype.refresh=function(){var e=this;t.prototype.refresh.call(this),this._each(function(t){t.now=e.now})},e.prototype._each=function(t){var e=this;Object.keys(this.animations).forEach(function(n){var r=e._animations[n];t(r)})},e.prototype._onTimingChange=function(){var e=this;t.prototype._onTimingChange.call(this),this._each(function(t){t.from=e.from,t.to=e.to})},e}(r.default);e.default=c,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(19)),o=a(n(2)),i=n(1);function a(t){return t&&t.__esModule?t:{default:t}}var s,u=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e,n){void 0===n&&(n=void 0);var r=this;return n=(0,i.extend)({},{refresh:0,showWhenStopped:!0,showWhenLoading:!0},n),(r=t.call(this,n)||this).element=e?(0,o.default)(e):void 0,r._images={},r._targets={},r._idPrefix="awxb-map-layer-",r._isReset=!1,r._loading=!1,r._hasLoaded=!1,(0,i.isEmpty)(n.key)||(r._idPrefix+=n.key+"-"),r.element&&r.element.addClass("amp-map"),r._startup(),r}return u(e,t),Object.defineProperty(e.prototype,"showWhenLoading",{get:function(){return this.opts.showWhenLoading},set:function(t){this.opts.showWhenLoading=t},enumerable:!0,configurable:!0}),e.prototype.dataByTime=function(){return this._images},e.prototype.play=function(){this.isAnimating()||this.canAnimate()&&(!this._hasImages()||this._totalImages()<this.totalIntervals?this._load():t.prototype.play.call(this))},e.prototype.stop=function(){t.prototype.stop.call(this),this._loading&&this.reset()},e.prototype.reset=function(e){var n=this;void 0===e&&(e=!1),this._isReset=!0,this._loading=!1,this._hasLoaded=!1,this._reloadTimer&&window.clearTimeout(this._reloadTimer),this._loaders&&Object.keys(this._loaders).forEach(function(t){n._loaders[t].onload=void 0}),this._images={},this._loaders={},this.element&&this.element.empty(),t.prototype.reset.call(this,e)},e.prototype.isReady=function(){var t=this.totalIntervals,e=this._totalImages();return!this.isLoading()&&(this._hasImages()&&e===t||0===t)},e.prototype.canAnimate=function(){var e=t.prototype.canAnimate.call(this);return e&&this._hasLoaded&&!this._hasImages()?e=!1:(e&&!this.isFuture()&&!this.containsPast()||this.isFuture()&&!this.containsFuture())&&(e=!1),e},e.prototype.isLoading=function(){return this._loading},e.prototype.show=function(){this.element?this.element.show():this._currentImage&&(0,o.default)(this._currentImage).show(),this.trigger("show")},e.prototype.hide=function(){this.element?this.element.hide():this._currentImage&&(0,o.default)(this._currentImage).hide(),this.trigger("hide")},e.prototype.isVisible=function(){if(this.element){var t=this.element;return(0,i.isDOM)(this.element)&&this.element.length>0&&(t=this.element[0]),"none"!==t.style.display}return!this._currentImage||"none"!==this._currentImage.style.display},e.prototype._target=function(t){return this._targets[t]},e.prototype._setImageVisible=function(t){t?(0,o.default)(this._currentImage).show():(0,o.default)(this._currentImage).hide()},e.prototype._updateForTime=function(t){var e=this._imageClosestToTime(t);e?e!==this._currentImage&&((0,o.default)(e).show(),this._setImageVisible(!1),this._currentImage=e):this.isAnimating()||!0!==this.opt("showWhenStopped")||(t=this._intervalClosestToTime(t),this.canShow(t)&&(this._isReset=!1,this._loadInterval(t,!0,null))),this.canShow(this.currentTime)?this.show():this.hide()},e.prototype._imageClosestToTime=function(t){var e=null,n=this.from,o=Math.abs(t-n);return this._images?(Object.keys(this._images).forEach(function(e){var r=Math.abs(t-+e);r<o&&(o=r,n=+e)}),n!==this._lastImageTime&&this._images[n]&&(e=this._images[n],n=Math.round(n),this._lastImageTime=n,this.trigger(r.default.Event.ADVANCE_IMAGE,{time:n,img:e})),e):null},e.prototype._hasImages=function(){return this._totalImages()>0},e.prototype._totalImages=function(){var t=this;return(0,i.isUndefined)(this._images)?0:Object.keys(this._images).filter(function(e){return(0,i.isset)(t._images[e])}).length},e.prototype._load=function(){var t=this;this._isReset=!1,this._loading=!0;var e=this.neededIntervals()||[];Object.keys(this._images).forEach(function(t){var n=parseInt(t,10),r=e.indexOf(n);-1!==r&&e.splice(r,1)});var n=function(){t._loading=!1,t._hasLoaded=!0,t.trigger(r.default.Event.LOAD_DONE),t.timeline||t.play()};if(0!==e.length){if(this.element&&!0===this.opts.autosize&&this.provider){var o=this.provider.animationSizeForImage(this);this.element.css({width:o.width+"px",height:o.height+"px"})}this.trigger(r.default.Event.LOAD_START,{times:e});var i=0,a=function(){t._loadInterval(e[i],!0,function(){i+=1,t._isReset||(i>=e.length?(n(),t.opts.refresh>0&&(t._reloadTimer&&window.clearTimeout(t._reloadTimer),t._reloadTimer=setTimeout(function(){t.reset(),t._load()},1e3*t.opts.refresh))):a())})};a()}else n()},e.prototype._loadInterval=function(t,e,n){var i=this;t=Math.round(t);var a=document.getElementById(""+this._idPrefix+t);if(a){var s=(0,o.default)(a);return s.show(),this._setImageVisible(!1),this._currentImage=s,this._setImageVisible(!0),void(n&&n())}if(this._images||(this._images={}),this._loaders||(this._loaders={}),this._images[t])n&&n();else if(!this._loaders[t]){var u,c=new Date(t);this.provider&&(u=this.provider.animationUrlForDate(this,c));var l=function(t){i._images[t]=new Image,i.trigger(r.default.Event.LOAD_ERROR,{date:c,interval:Object.keys(i._images).length-1}),n&&n()};if(u){var p=new Image;this._loaders[t]=p,p.onload=function(){if(!i._isReset){i._loaders[t]&&delete i._loaders[t];var a=""+i._idPrefix+t,s={width:p.width,height:p.height};i.provider&&(s=i.provider.animationSizeForImage(i));var u='<img id="'+a+'" src="'+p.src+'" width="'+s.width+'" height="'+s.height+'" style="position:absolute;">';i.element&&i.element.append(u),e&&(i._images[t]=i._hasDOMTarget()?(0,o.default)("#"+a):p),i._setImageVisible(!1),i._currentImage=i._hasDOMTarget()?(0,o.default)("#"+a):p,n&&n();var c=Object.keys(i._images).length;i.trigger(r.default.Event.LOAD_IMAGE,{date:new Date(t),src:p.src,img:p}),i.trigger(r.default.Event.LOAD_PROGRESS,{time:t,interval:c-1,loaded:c,total:i.totalIntervals})}},p.onerror=function(){l(t)},p.src=u}else l(t)}},e.prototype._hasDOMTarget=function(){return this.element&&this.element.length>0},e}(r.default);e.default=c,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"TextSource",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"VectorSource",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"TileSource",{enumerable:!0,get:function(){return i.default}});var r=a(n(251)),o=a(n(100)),i=a(n(20));function a(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=n(252),i=(r=n(30))&&r.__esModule?r:{default:r},a=n(1);var s=function(){function t(t,e){void 0===e&&(e=!1),(0,a.isArray)(t)||console.warn("[Aeris] Invalid coords provided for Polygon constructor.","coords",t);var n=(0,a.cloneDeep)(t),r=e?1:0,i=e?0:1;1===n.length&&n[0].length>=2&&(n=n[0]),(0,a.isObject)(n)&&"LineString"===n.type&&(n=n.coordinates),this.coords=[],(0,a.isArray)(n)&&(this.coords=n.map(function(t){var e=t[r],n=t[i];return(0,a.isset)(e)&&(0,a.isset)(n)?{lat:e,lon:n}:null}).filter(function(t){return(0,a.isset)(t)})),this.inside=[],this._bounds=(0,o.boundsFromCoords)(this.coords)}return Object.defineProperty(t.prototype,"coordinates",{get:function(){return this.coords},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"interior",{get:function(){return this.inside},enumerable:!0,configurable:!0}),t.prototype.addInterior=function(t){return this.inside||(this.inside=[]),this.inside.push(t),this},t.prototype.bounds=function(){return i.default.fromBounds(this._bounds)},t.prototype.toArray=function(t){return void 0===t&&(t=!1),this.coords.map(function(e){return t?[e.lon,e.lat]:[e.lat,e.lon]})},t.prototype.toGeoJson=function(){if(0===this.interior.length)return[this.toArray(!0)];var t=this.interior.map(function(t){return t.toArray(!0)});return[this.toArray(!0)].concat(t)},t.fromString=function(e){var n=(e||"").split(",").map(function(t){return parseFloat(t)});if(n.length%2!=0)return null;for(var r=[],o=0,i=n.length;o<i;o+=2){var a=n[o],s=n[o+1];r.push([a,s])}return new t(r)},t.polygonsFromGeoJson=function(e){var n=[],r=e.type;if((0,a.isArray)(e.coordinates)&&e.coordinates.length>0){var o=e.coordinates;if("MultiPolygon"===r)e.coordinates.forEach(function(e){var r;(0,a.isArray)(e)&&(e.forEach(function(e,n){0===n?r=new t(e,!0):r.addInterior(new t(e,!0))}),r&&n.push(r))});else"Polygon"===r&&(o.length>0&&2!==o[0].length&&(o=o[0]),n.push(new t(o,!0)))}return n},t.toGeoJson=function(t){return{type:"MultiPolygon",coordinates:t.map(function(t){return t.toGeoJson()})}},t}();e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(t,e){void 0===e&&(e=void 0),this._hidden=!1,this._idPrefix="aeris-layer",this._id=e||t,this._opacity=1}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sourceId",{get:function(){var t=this.id?"-"+this.id:"";return""+this._idPrefix+t+"-source"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layerId",{get:function(){var t=this.id?"-"+this.id:"";return""+this._idPrefix+t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"map",{get:function(){return this._map},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentId",{get:function(){return this._relativeTo},set:function(t){this._relativeTo=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHidden",{get:function(){return this._hidden},enumerable:!0,configurable:!0}),t.prototype.addTo=function(t){var e=this;if(this._map!==t){if(this._map=t,!this._relativeTo)t.getStyle().layers.forEach(function(t,n){"line"===t.type&&/^admin-/.test(t.id)&&!e._relativeTo&&(e._relativeTo=t.id)});void 0!==t.getLayer(this.layerId)||(this.source?(t.addSource(this.sourceId,this.source),t.addLayer(this.layer,this._relativeTo)):this.invalidate()),this.isHidden&&this.hide()}},t.prototype.remove=function(){if(this._map){var t=this._map;void 0!==t.getLayer(this.layerId)&&(t.removeLayer(this.layerId),t.removeSource(this.sourceId)),this._map=null}},t.prototype.show=function(){this._hidden=!1,this.exists()&&("raster"===this.layer.type&&this.map.setPaintProperty(this.layerId,"raster-opacity",this._opacity),this.map.setLayoutProperty(this.layerId,"visibility","visible"))},t.prototype.hide=function(){this._hidden=!0,this.exists()&&this.map.setLayoutProperty(this.layerId,"visibility","none")},t.prototype.setOpacity=function(t){this._opacity=t,this.exists()&&"raster"===this.layer.type&&this.map.setPaintProperty(this.layerId,"raster-opacity",t)},t.prototype.setZIndex=function(t){if(this.exists()){var e=this.map.getStyle().layers,n=0;e.forEach(function(t,e){"line"===t.type&&/^admin-/.test(t.id)&&0===n&&(n=e)});var r=e.map(function(t){return t.id})[n+t];this.map.removeLayer(this.layerId),this.map.addLayer(this.layer,r)}},t.prototype.exists=function(){var t=this.map;return!!t&&(void 0!==t.getLayer(this.layerId)&&void 0!==t.getSource(this.sourceId))},t.prototype.invalidate=function(){throw new Error("Subclasses must override `invalidate`")},t}();e.default=r,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(3))&&r.__esModule?r:{default:r};var i,a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e,n){void 0===n&&(n=void 0);var r=t.call(this)||this;return r._hidden=!1,r.id="aeris-layer-"+e+(n?"-"+n:""),r}return a(e,t),Object.defineProperty(e.prototype,"map",{get:function(){return this._map},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHidden",{get:function(){return this._hidden},enumerable:!0,configurable:!0}),e.prototype.addTo=function(t,e){this.map!==t&&(this._map=t,this._targetIndex=e,this.layer?e>=0?t.getLayers().insertAt(e,this.layer):t.addLayer(this.layer):this.invalidate())},e.prototype.remove=function(){this.map&&(this.layer&&this.map.removeLayer(this.layer),this._map=null)},e.prototype.show=function(){this._hidden=!1,this.layer&&this.layer.setVisible(!0)},e.prototype.hide=function(){this._hidden=!0,this.layer&&this.layer.setVisible(!1)},e.prototype.setOpacity=function(t){this.layer&&this.layer.setOpacity(t)},e.prototype.setZIndex=function(t){this.layer&&this.layer.setZIndex(t)},e.prototype.exists=function(){this.map;return!1},e.prototype.invalidate=function(){throw new Error("Subclasses must override `invalidate`")},e}(o.default);e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.isValidLayer=e.isTile=e.isText=e.isVector=e.isShape=e.isPoint=void 0;var r=n(21),o=s(n(3)),i=s(n(18)),a=n(1);function s(t){return t&&t.__esModule?t:{default:t}}var u,c,l=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=[],f=["air-quality","earthquakes","fires","records","river-observations","stormreports"];e.isPoint=function(t){return-1!==f.indexOf(t)};var d=["convective","drought-monitor","fire-outlook","tropical-cyclones-break-points"];e.isShape=function(t){return-1!==d.indexOf(t)};var h=f.concat(d).concat(["stormcells","tropical-cyclones"]),y=function(t){return-1!==h.indexOf(t)};e.isVector=y;var m=["observations"],v=function(t){return-1!==m.indexOf(t)};e.isText=v;e.isTile=function(t){return!y(t)&&!v(t)};var g=function(t){if(!(0,a.isset)(t)||!(0,r.isString)(t))return!1;var e=(c||[]).map(function(t){return t.id}),n=(t||"").split(","),o=[];n.forEach(function(t){-1===e.indexOf(t)&&p.forEach(function(e){t=t.replace(new RegExp("-"+e),"")}),o.push(t)});var i=!0;return o.forEach(function(t){t=t.replace(/\:.*$/,""),-1!==e.indexOf(t)||y(t)||v(t)||(i=!1)}),i};e.isValidLayer=g;var _=function(t){function e(){var e=t.call(this)||this;return e._groups={},e._loading=!1,void 0!==c?e._process(c):e.fetch(),e}return l(e,t),e.prototype.fetch=function(){var t=this;return new Promise(function(e,n){c?e((0,a.cloneDeep)(c)):t._loading?t.on("load:done",function(t){e((0,a.cloneDeep)(c))}):t._fetchLayerMetadata().then(function(t){e((0,a.cloneDeep)(c))})}).catch(function(t){console.error("Layers: Failed to load layers metadata - "+t)})},e.prototype.cached=function(){return void 0!==c},e.prototype.loading=function(){return this._loading},e.prototype.groups=function(){return this._groups},e.prototype.inGroup=function(t,e,n){void 0===n&&(n=!1);var r=this._groups[e];if(t=t.replace(/:.*$/,""),r){if(n)return-1!==r.indexOf(t);var o=!1;return r.forEach(function(e){var n=new RegExp("^"+e+"-");(e===t||n.test(t))&&(o=!0)}),o}return!1},e.prototype.exists=function(t){return g(t)},e.prototype.find=function(t,e,n){void 0===n&&(n=!1);var r=this.findAll(t,[e],n);if(r.length>0)return r[0]},e.prototype.findAll=function(t,e,n){void 0===n&&(n=!1);var r=c,o=[];return e=e||[],r&&e.forEach(function(e){r.forEach(function(r,i){var s=r[t],u=s===e;if(!u){var c=new RegExp("^"+s+"-"),l=(r.modifiers||[]).map(function(t){return[].concat((t.options||[]).map(function(t){return r.id+"-"+t.id}))});l=l.length>0?l[0]:l,"id"===t&&(u=n?-1!==l.indexOf(e):c.test(e))}u&&("id"===t&&(r=(0,a.extend)((0,a.cloneDeep)(r),{id:e})),o.push(r))})}),(0,a.cloneDeep)(o)},e.prototype.future=function(){if(!this._future){var t=this.findAll("category",["forecasts","models","outlooks"]);t.push(this.find("id","fradar")),t.push(this.find("id","fsatellite")),this._future=t}return this._future},e.prototype.futureCodes=function(){return this.future().map(function(t){return t?t.id:void 0})},e.prototype.isFuture=function(t){var e=this.futureCodes(),n=t.replace(/:.*$/,""),r=-1!==e.indexOf(n);return r||(n=n.replace(/\-\w+$/,""),r=-1!==e.indexOf(n)),r},e.prototype.isBase=function(t){var e=t.replace(/:.*$/,"");return this.inGroup(e,"base")},e.prototype.isOverlay=function(t){var e=t.replace(/:.*$/,"");return this.inGroup(e,"overlay")||this.inGroup(e,"masks")},e.prototype.hasMetric=function(t){return!!this.inGroup(t,"text")&&!1===/^f?humidity-/.test(t)},e.prototype._process=function(t){if(t){var e={};p=[],t.forEach(function(t){var n=t.category;n.match(/^base/)?n="base":n.match(/overlay/)&&(n="overlay"),void 0===e[n]&&(e[n]=[]),e[n].push(t.id),/-text$/.test(t.id)&&(void 0===e.text&&(e.text=[]),e.text.push(t.id)),t.modifiers&&(0,r.isArray)(t.modifiers)&&t.modifiers.forEach(function(t){t.options&&t.options.forEach(function(t){-1===p.indexOf(t.id)&&p.push(t.id)})})}),p.push("aeris"),this._groups=e}},e.prototype._fetchLayerMetadata=function(){var t=this;return this._loading=!0,this.trigger("load:start"),new Promise(function(e,n){i.default.request("https://cdn.aerisjs.com/layers.json").then(function(n){n.data&&(c=n.data,t._process(n.data),t._loading=!1,t.trigger("load:done"),e(c))}).catch(function(t){n(t)})}).catch(function(t){console.error("Layers: Failed to load layers metadata - "+t)})},e}(o.default);e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=l(n(3)),o=l(n(53)),i=l(n(290)),a=l(n(291)),s=l(n(18)),u=n(1),c=l(n(2));function l(t){return t&&t.__esModule?t:{default:t}}var p,f=(p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},h=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},y=function(t){function e(e,n){var r=t.call(this)||this;if(r._loading=!1,r._loadCallbacks={},r._onResize=function(){r.trigger("resize",r.getSize())},!e)throw new Error("[awxjs] Invalid DOM target specified for LegendView");return r._opts=(0,u.extend)({size:{width:400,height:40}},n),r._legends={},r._mapping={},(0,c.default)(e).append('<div class="awxjs__legend-view"></div>'),r._target=(0,c.default)(".awxjs__legend-view",e),r}return f(e,t),Object.defineProperty(e.prototype,"$el",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return Object.keys(this._legends).length},enumerable:!0,configurable:!0}),e.prototype.add=function(t,e){var n=this;if(!this._styles)return this._loadCallbacks[t]=function(){n.add(t,e)},void(!1===this._loading&&this._loadStyles());var r=this._styleForType(t),s=r.key,c=r.style;if(e=(0,u.extend)((0,u.cloneDeep)(this._opts),e),(0,u.isset)(c)){c=(0,u.extend)({},c,{styles:e.styles});var l,p=(0,u.extend)(e,{title:c.title,size:this._opts.size,autosize:this._opts.autosize,format:this._opts.format,metric:this._opts.metric,styles:c});if(this._legends[s])this._legends[s].update(p);else c&&!(0,u.isEmpty)(c)&&(c.grouped&&c.items?(p.types=c.items.reduce(function(t,e){var r=n._styleForType(e.key).style;return t[e.key]=(0,u.extend)({factor:e.factor,size:{width:Math.floor(n._opts.size.width*e.factor),height:n._opts.size.height}},r),t},{}),l=new a.default(s,p)):l="alerts"===t||"advisories"===t?new i.default(s,p):new o.default(s,p),this.addLegend(l),this._mapping[s]||(this._mapping[s]=[]),-1===this._mapping[s].indexOf(t)&&this._mapping[s].push(t))}},e.prototype.addLegend=function(t){this._legends[t.key]=t,this.$el.append(t.$el),this.$el.show(),t instanceof r.default&&t.on("resize",this._onResize),this.trigger("add",{key:t.key,count:Object.keys(this._legends).length}),this._onResize()},e.prototype.set=function(t,e){var n=this;t=t||[],this.removeAll(t),t.forEach(function(t){n.has(t)?n.get(t).update(e):n.add(t,e)})},e.prototype.setUrl=function(t){this.removeAll(),this.$el.empty(),this.$el.append('<div class="awxjs__legend"><img src="'+t+'"></div>')},e.prototype.get=function(t){var e=this._styleForType(t).key;return e?this._legends[e]:null},e.prototype.remove=function(t){var e=this._styleForType(t).key;if(e){var n=this._legends[e];n&&this.removeLegend(n),n instanceof r.default&&n.off("resize",this._onResize),this._onResize()}0===this.count&&(this.$el.hide(),this.trigger("empty"))},e.prototype.removeLegend=function(t){t&&(t.$el.remove(),delete this._legends[t.key],this.trigger("remove",{key:t.key,count:Object.keys(this._legends).length}))},e.prototype.removeAll=function(t){var e=this;Object.keys(this._legends).forEach(function(n){var r=!0;if(t){var o=e._mapping?e._mapping[n]:[];-1!==t.indexOf(n)?r=!1:o&&o.forEach(function(e){-1!==t.indexOf(e)&&(r=!1)})}r&&e.remove(n)})},e.prototype.has=function(t){var e=this._styleForType(t).key;return!!e&&(0,u.isset)(this._legends[e])},e.prototype.update=function(t){this._each(function(e,n){return n.update(t)})},e.prototype.setMetric=function(t){this._opts.metric=t,this._each(function(e,n){return n.setMetric(t)})},e.prototype.setSize=function(t){this._opts.size=t,this._each(function(e,n){return n.setSize(t)})},e.prototype.getSize=function(){var t=0,e=0;return this._each(function(n,r){var o=r.getSize();t+=o.height,e=Math.max(e,o.width)}),{width:e,height:t}},e.prototype.setWidth=function(t){var e=this._opts.size.height;this.setSize({width:t,height:e})},e.prototype._styleForType=function(t){var e=this;if(!this._styles)return{key:null,style:null};var n,r=this._styles[t];return!r&&/^f/.test(t)&&(n=t.replace(/^f/,""),r=this._styles[n]),r||Object.keys(this._styles).forEach(function(o){var i=e._styles[o];if(!0===i.enabled||!(0,u.isset)(i.enabled)){var a=i.layers;a&&(a.forEach(function(e){new RegExp(e).test(t)&&(r=(0,u.cloneDeep)(i),n=o)}),r&&!n&&(n=o))}}),{key:n||t,style:r}},e.prototype._reset=function(){this.$el.empty(),this._each(function(t,e){return e.reset()})},e.prototype._each=function(t){var e=this;Object.keys(this._legends).forEach(function(n){return t(n,e._legends[n])})},e.prototype._loadStyles=function(){var t=this;return this._loading=!0,new Promise(function(e,n){return d(t,void 0,void 0,function(){var t=this;return h(this,function(n){return this._styles?(e(this._styles),[2]):(s.default.request("https://legends.aerisapi.com/defaults.json").then(function(n){if(n.data){var r=n.data;Object.keys(r).forEach(function(t){var e=r[t];e.config&&(Object.keys(e.config).forEach(function(t){if(-1!==t.indexOf("_")){var n=t.replace(/^labels_/,"label_").replace(/_/g,".");(0,u.set)(e.config,n,e.config[t]),delete e.config[t]}}),e.styles=(0,u.cloneDeep)(e.config),delete e.config)}),t._styles=r,t._loading=!1,e((0,u.cloneDeep)(t._styles)),Object.keys(t._loadCallbacks).forEach(function(e){(0,t._loadCallbacks[e])()})}}),[2])})})})},e}(r.default);e.default=y,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n(3)),o=n(289),i=n(1),a=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}var u,c=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e,n){var r=t.call(this)||this;return r._load=(0,i.debounce)(function(){var t=r._url();if(!t){var e=new Error("Invalid legend url");return r.trigger("load:error",{error:e}),void r.$el.hide()}r._image||(r._image=new Image),r.trigger("load:start"),r._image.onload=function(){var e=r.units(),n=r._opts.title?r._opts.title.replace(/\([^\)]+\)$/,e?"("+e+")":""):null;r.$el.html("\n\t\t\t\t"+(r._opts.title?'<div class="awxjs__legend-title">'+n+"</div>":"")+'\n\t\t\t\t<div class="awxjs__legend-content"><img src="'+t+'"></div>\n\t\t\t'),r.trigger("load:done"),setTimeout(function(){var t=r.getSize();t.width=Math.max(t.width,r._image.width),r.$el.css("width",t.width+"px"),r.trigger("resize",t)},150)},r._image.src=t},250),r._key=e,r._opts=(0,i.extend)({size:void 0,autosize:!1,format:"svg",metric:!1},n),(0,i.isset)(r._opts.size)||(r._opts.autosize=!0),r._target=(0,a.default)('<div class="awxjs__legend awxjs__legend-'+e+'"></div>'),r._update(),r}return c(e,t),Object.defineProperty(e.prototype,"opts",{get:function(){return this._opts},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this._key},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"account",{get:function(){return this.opts.account},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$el",{get:function(){return this._target},enumerable:!0,configurable:!0}),e.prototype.show=function(){this.$el.show()},e.prototype.hide=function(){this.$el.hide()},e.prototype.setSize=function(t){this._opts.size=(0,i.extend)(this._opts.size,t),this._update()},e.prototype.getSize=function(){if(this.$el){var t=this.$el.bounds(),e=this.$el.outerHeight(!0);return{width:t.width,height:e}}return{width:0,height:0}},e.prototype.setMetric=function(t){this._opts.metric=t,this._update()},e.prototype.units=function(){var t=this._opts.metric?"metric":"imperial",e=(0,i.get)(this._opts,"styles.units."+t);return e&&/^(f|c)$/.test(e)&&(e=e.toUpperCase()),e},e.prototype.reset=function(){this.$el.empty(),this._image&&(this._image.onload=null),this._image=null},e.prototype.update=function(t){},e.prototype._update=function(){this._load()},e.prototype._url=function(){var t=this._opts,e=(0,i.extend)({interval:1,gutter:null,radius:6,columns:4,metric:!1,orientation:o.LegendOrientation.HORIZONTAL,cell:{size:{width:2,height:10}},label:{interval:20,position:o.LegendLabelPosition.BOTTOM,fontsize:11,color:"#222222"}},t.styles),n=e.type||o.LegendType.BAR,r=e.cell||{},a=e.label||{},s={};if(n!==o.LegendType.POINT||(0,i.isset)(e.gutter)||(e.gutter={x:20,y:5}),s.ls=a.fontsize,(0,i.isEmpty)(a.custom)||(s.labels=a.custom.replace(/,\s+/g,",").replace(/\s/g,"%20")),!(0,i.isEmpty)(a.color)){var u=a.color.replace(/#/,"");6===u.length&&(s.lc=u)}n!==o.LegendType.POINT||(0,i.isEmpty)(e.filter_groups)||(s.filter=e.filter_groups),(0,i.isset)(e.range)&&(s.range=e.range.join(",")),(0,i.isset)(t.keys)?s.keys=t.keys:(0,i.isset)(t.filter)&&(s.filter=t.filter);var c=e.units;c&&(t.metric?s.units=c.metric:s.units=c.imperial);var l=t.size||{width:null,height:null},p=l.width,f=l.height,d=r.size||{width:null,height:null},h=d.width,y=d.height,m=(0,i.isEmpty)(e.interval)?"":"-i"+e.interval,v={interval:(0,i.isEmpty)(a.interval)?"":"-li"+a.interval},g={size:(0,i.isEmpty)(h)||(0,i.isEmpty)(y)?"":"-c"+h+"x"+y,pad:(0,i.isset)(e.gutter)?"-p"+e.gutter.x+","+e.gutter.y:""},_="-"+e.orientation+","+a.position,b=t.metric?"-metric":"",w=(0,i.isEmpty)(p)||(0,i.isEmpty)(f)||t.autosize?"":"_"+p+"x"+f,x=t.format,O=(0,i.isEmpty)(e.radius)?"":"-r"+e.radius,T=!(0,i.isEmpty)(e.columns)&&e.columns>0?"-col"+e.columns:"",M="https://legends.aerisapi.com/"+this.key;return n===o.LegendType.POINT?M+=""+O+T+g.pad:M+=""+m+v.interval+g.size+g.pad+_+b,M+=w+"."+x,M+=(M.indexOf("?")>-1?"&":"?")+Object.keys(s).map(function(t){return encodeURIComponent(t)+"="+s[t]}).join("&")},e}(r.default);e.default=l,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(13))&&r.__esModule?r:{default:r},i=n(1),a=n(8);var s,u=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e){var n=this;return e=e||{},(e=(0,i.extend)(e,{className:e.className?"ui-btn "+e.className:"ui-btn"})).id=e.id||e.value,(n=t.call(this,e)||this).setState({selected:!1}),n.opts.selected&&n.select(),n}return u(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.opts.id||this.opts.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this.state.selected},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.opts.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.opts.options},enumerable:!0,configurable:!0}),e.prototype.select=function(){!1===this.selected&&(this.setState({selected:!0}),this.$el.addClass("selected"),this._onSelect())},e.prototype.deselect=function(){this.selected&&(this.setState({selected:!1}),this.$el.removeClass("selected"),this._onDeselect())},e.prototype._onSelect=function(){this.trigger(e.Event.SELECT,{id:this.id,value:this.value,options:this.options})},e.prototype._onDeselect=function(){this.trigger(e.Event.DESELECT,{id:this.id,value:this.value,options:this.options})},e.prototype._render=function(t){return'<div class="'+a.Globals.cssPrefix+'ui-btn-label">'+this.opts.title+"</div>"},e.prototype._setupEvents=function(){var e=this;t.prototype._setupEvents.call(this),this.$el.on("click",function(){e.selected?e.deselect():e.select()})},e.Event={SELECT:"select",DESELECT:"deselect"},e}(o.default);e.default=c,t.exports=e.default},function(t,e,n){var r=n(15),o=36e5;t.exports=function(t,e){var n=Number(e);return r(t,n*o)}},function(t,e,n){var r=n(9),o=n(57);t.exports=function(t,e){var n=Number(e);return o(t,r(t)+n)}},function(t,e,n){var r=n(0),o=n(16),i=n(26);t.exports=function(t,e){var n=r(t),a=Number(e),s=i(n,o(n)),u=new Date(0);return u.setFullYear(a,0,4),u.setHours(0,0,0,0),(n=o(u)).setDate(n.getDate()+s),n}},function(t,e,n){var r=n(15),o=6e4;t.exports=function(t,e){var n=Number(e);return r(t,n*o)}},function(t,e,n){var r=n(27);t.exports=function(t,e){var n=Number(e);return r(t,3*n)}},function(t,e,n){var r=n(15);t.exports=function(t,e){var n=Number(e);return r(t,1e3*n)}},function(t,e,n){var r=n(27);t.exports=function(t,e){var n=Number(e);return r(t,12*n)}},function(t,e,n){var r=n(9);t.exports=function(t,e){return r(t)-r(e)}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=r(e);return 12*(n.getFullYear()-o.getFullYear())+(n.getMonth()-o.getMonth())}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t);return Math.floor(e.getMonth()/3)+1}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=r(e);return n.getFullYear()-o.getFullYear()}},function(t,e,n){var r=n(0),o=n(26),i=n(17);t.exports=function(t,e){var n=r(t),a=r(e),s=i(n,a),u=Math.abs(o(n,a));return n.setDate(n.getDate()-s*u),s*(u-(i(n,a)===-s))}},function(t,e,n){var r=n(56);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r=n(37),o=n(0),i=n(39),a=n(38),s=n(40),u=1440,c=2520,l=43200,p=86400;t.exports=function(t,e,n){var f=n||{},d=r(t,e),h=f.locale,y=s.distanceInWords.localize;h&&h.distanceInWords&&h.distanceInWords.localize&&(y=h.distanceInWords.localize);var m,v,g={addSuffix:Boolean(f.addSuffix),comparison:d};d>0?(m=o(t),v=o(e)):(m=o(e),v=o(t));var _,b=i(v,m),w=v.getTimezoneOffset()-m.getTimezoneOffset(),x=Math.round(b/60)-w;if(x<2)return f.includeSeconds?b<5?y("lessThanXSeconds",5,g):b<10?y("lessThanXSeconds",10,g):b<20?y("lessThanXSeconds",20,g):b<40?y("halfAMinute",null,g):y(b<60?"lessThanXMinutes":"xMinutes",1,g):0===x?y("lessThanXMinutes",1,g):y("xMinutes",x,g);if(x<45)return y("xMinutes",x,g);if(x<90)return y("aboutXHours",1,g);if(x<u)return y("aboutXHours",Math.round(x/60),g);if(x<c)return y("xDays",1,g);if(x<l)return y("xDays",Math.round(x/u),g);if(x<p)return y("aboutXMonths",_=Math.round(x/l),g);if((_=a(v,m))<12)return y("xMonths",Math.round(x/l),g);var O=_%12,T=Math.floor(_/12);return O<3?y("aboutXYears",T,g):O<9?y("overXYears",T,g):y("almostXYears",T+1,g)}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=e&&Number(e.weekStartsOn)||0,o=r(t),i=o.getDay(),a=6+(i<n?-7:0)-(i-n);return o.setDate(o.getDate()+a),o.setHours(23,59,59,999),o}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}},function(t,e,n){var r=n(0),o=n(72),i=n(26);t.exports=function(t){var e=r(t);return i(e,o(e))+1}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}},function(t,e,n){var r=n(34);t.exports=function(t){if(r(t))return!isNaN(t);throw new TypeError(toString.call(t)+" is not an instance of Date")}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t).getFullYear();return e%400==0||e%4==0&&e%100!=0}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t).getDay();return 0===e&&(e=7),e}},function(t,e,n){var r=n(77);t.exports=function(t,e){var n=r(t),o=r(e);return n.getTime()===o.getTime()}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t);return e.setMinutes(0,0,0),e}},function(t,e,n){var r=n(43);t.exports=function(t,e){return r(t,e,{weekStartsOn:1})}},function(t,e,n){var r=n(16);t.exports=function(t,e){var n=r(t),o=r(e);return n.getTime()===o.getTime()}},function(t,e,n){var r=n(81);t.exports=function(t,e){var n=r(t),o=r(e);return n.getTime()===o.getTime()}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t);return e.setSeconds(0,0),e}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=r(e);return n.getFullYear()===o.getFullYear()&&n.getMonth()===o.getMonth()}},function(t,e,n){var r=n(84);t.exports=function(t,e){var n=r(t),o=r(e);return n.getTime()===o.getTime()}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t),n=e.getMonth(),o=n-n%3;return e.setMonth(o,1),e.setHours(0,0,0,0),e}},function(t,e,n){var r=n(86);t.exports=function(t,e){var n=r(t),o=r(e);return n.getTime()===o.getTime()}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t);return e.setMilliseconds(0),e}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=r(e);return n.getFullYear()===o.getFullYear()}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=e&&Number(e.weekStartsOn)||0,o=r(t),i=o.getDay(),a=6+(i<n?-7:0)-(i-n);return o.setHours(0,0,0,0),o.setDate(o.getDate()+a),o}},function(t,e,n){var r=n(0),o=n(35);t.exports=function(t,e){var n=r(t),i=Number(e),a=n.getFullYear(),s=n.getDate(),u=new Date(0);u.setFullYear(a,i,15),u.setHours(0,0,0,0);var c=o(u);return n.setMonth(i,Math.min(s,c)),n}},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,p=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):p=-1,c.length&&d())}function d(){if(!l){var t=s(f);l=!0;for(var e=c.length;e;){for(u=c,c=[];++p<e;)u&&u[p].run();p=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||l||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(6),o=n(229),i=n(231),a=n(232),s=n(233),u=n(93);t.exports=function(t){return new Promise(function(e,c){var l=t.data,p=t.headers;r.isFormData(l)&&delete p["Content-Type"];var f=new XMLHttpRequest;if(t.auth){var d=t.auth.username||"",h=t.auth.password||"";p.Authorization="Basic "+btoa(d+":"+h)}if(f.open(t.method.toUpperCase(),i(t.url,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?a(f.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:t,request:f};o(e,c,r),f=null}},f.onerror=function(){c(u("Network Error",t,null,f)),f=null},f.ontimeout=function(){c(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var y=n(234),m=(t.withCredentials||s(t.url))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;m&&(p[t.xsrfHeaderName]=m)}if("setRequestHeader"in f&&r.forEach(p,function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete p[e]:f.setRequestHeader(e,t)}),t.withCredentials&&(f.withCredentials=!0),t.responseType)try{f.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){f&&(f.abort(),c(t),f=null)}),void 0===l&&(l=null),f.send(l)})}},function(t,e,n){"use strict";var r=n(230);t.exports=function(t,e,n,o,i){var a=new Error(t);return r(a,e,n,o,i)}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isLight=e.luminance=e.toRGB=void 0;var r=function(t){var e={r:0,g:0,b:0};return 6===(t=t.replace(/^#/,"")).length&&(e.r=parseInt(t.substring(0,2),16),e.g=parseInt(t.substring(2,4),16),e.b=parseInt(t.substring(4),16)),e};e.toRGB=r;var o=function(t){var e=r(t);return e?.2126*e.r+.7152*e.g+.0722*e.b:null};e.luminance=o;e.isLight=function(t){var e=o(t);return e&&e>=140}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=m(n(3)),o=y(n(4)),i=m(n(45)),a=n(30),s=n(249),u=n(47),c=m(n(269)),l=m(n(22)),p=y(n(51)),f=y(n(29)),d=n(12),h=n(1);function y(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function m(t){return t&&t.__esModule?t:{default:t}}var v,g=(v=function(t,e){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_=function(t){function e(n,r,o){var a=t.call(this)||this;if(a._ready=!1,a._dblClickTimer=null,!n)throw new Error("[awxjs] Invalid target specified for InteractiveMap, which must be a DOM element or map instance");r=r||{},n instanceof HTMLElement==!1&&((0,d.isLeaflet)(n)?r.strategy="leaflet":(0,d.isMapbox)(n)?r.strategy="mapbox":(0,d.isGoogle)(n)?r.strategy="google":(0,d.isOpenLayers)(n)&&(r.strategy="openlayers")),r=(0,h.extend)({strategy:"leaflet",center:void 0,zoom:7,timeline:{from:-7200,to:0,intervals:10},refresh:0,onInit:void 0,reloadOnBoundsChange:!0},r),a._opts=r,r.account&&(a.account=r.account),"mapbox"===r.strategy?a._strategy=new s.MapboxMapStrategy(n,r):"google"===r.strategy?a._strategy=new s.GoogleMapStrategy(n,r):"openlayers"===r.strategy?a._strategy=new s.OpenLayersMapStrategy(n,r):a._strategy=new s.LeafletMapStrategy(n,r),a._strategy.dataSource=a,a._timeline=new i.default((0,h.extend)(r.timeline,{key:"map-timeline"})),a._sources={},a._layersById={},a._sourceOrder={tile:[]},a._layers=new p.default,a._config=new c.default(r.styles);var u=function(){if(a._indicator=new l.default,a._indicator.appendTo(a.strategy.$el),a.strategy.$el.addClass("awxjs__ia-map"),a._setupEvents(),a._ready=!0,r.layers){var t=r.layers;(0,h.isArray)(t)||(t=t.split(",")),t.forEach(function(t){if((0,h.isString)(t))a.addLayer(t);else if((0,h.isPlainObject)(t)){var e=t.layer,n=t.options;a.addLayer(e,n)}})}r.refresh>0&&a.enableAutoUpdate(r.refresh),o&&o(a),a.trigger(e.Event.LOAD),a.trigger(e.Event.READY)};return a._layers.fetch().then(function(){a.strategy.isReady()?u():a.strategy.on("ready",function(t){u()})}),a}return g(e,t),Object.defineProperty(e.prototype,"map",{get:function(){return this.strategy.map},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strategy",{get:function(){return this._strategy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeline",{get:function(){return this._timeline},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"account",{get:function(){return this._account},set:function(t){this._account=t},enumerable:!0,configurable:!0}),e.prototype.isReady=function(){return this.strategy.isReady()},e.prototype.getCenter=function(){return this.strategy.getCenter()},e.prototype.setCenter=function(t){this.strategy.setCenter(t)},e.prototype.getZoom=function(){return this.strategy.getZoom()},e.prototype.setZoom=function(t){this.strategy.setZoom(t)},e.prototype.setView=function(t,e){this.strategy.setView(t,e)},e.prototype.getBounds=function(){return this.strategy.getBounds()},e.prototype.setBounds=function(t){this.strategy.setBounds(t)},e.prototype.fitBounds=function(t,e){e=e||[10,10],this.strategy.fitBounds(t,e)},e.prototype.addLayer=function(t,n){var r=this;this._checkReady(),n=(0,h.cloneDeep)(n)||{};var i=t.replace(/\:[^,]+/g,""),a=(0,h.get)(n,"id")||i,s=this.getSourceForLayer(i);if(s||a===i||(s=this.getSourceForId(a)),s){var c=n.style;return s instanceof u.TileSource&&c&&(0,h.isset)(c.zIndex)&&s.setOrder(c.zIndex),this}if(n.style&&this.config.setStyle(t,n.style),(0,p.isTile)(i)||"tile"===n.type){if(!this._layers.exists(t))return console.warn("[awxjs] Cannot add layer "+t+", not a valid AMP layer."),this;var l=this._layers.isFuture(t),f=this._layers.isBase(t),d=this._layers.isOverlay(t),y=(0,h.get)(n,"data.offset");delete n.data,delete n.request;var m=this.strategy.factory.tileLayer(t,this.requestForMap(t),(0,h.extend)(n,{pane:d?"admin":null,time:this.timeline.currentDate(),offset:d||f?0:y,future:l,alwaysShow:(l?(0,h.get)(this._opts,"timeline.alwaysShowFuture"):(0,h.get)(this._opts,"timeline.alwaysShowPast"))||d||f,animation:{enabled:!d&&!f}}));m.updateVisibility(),s=m,this._sourceOrder.tile.push(t)}else{t=t.replace(/\:[^,]+/g,"");var v=this.config.getConfig(t)||{};v&&(n=(0,h.extend)({},v,n));var g=void 0;if(n.request&&n.request instanceof o.default){g=n.request;var _=(0,h.get)(n,"request.action"),b=(0,h.get)(n,"request.parameters");_&&g.action(_),b&&g.setParams(b)}else g=this.requestForConfig(n.request);if(g||console.error("No request configured for layer '"+t+"'. Check the layer configuration and make sure an ApiRequest instance is defined for 'request'."),(0,p.isText)(t)||"text"===n.type){var w=(0,h.get)(n,"data.properties");if(!w)throw new Error("Value for `data.properties` option is required for text layers");var x=w.timestamp,O=w.value;if(!x||!O)throw new Error("Value for `data.properties.timestamp` and `data.properties.value` options are required for text layers");(0,h.isString)(O)&&g.fields("id,loc,"+x+","+O),g.plimit(1),(s=new u.TextSource(t,(0,h.extend)({},n,{style:{marker:this.config.getTextStyle()},data:{service:g,properties:w,coordinate:function(t){return(0,h.get)(t,"loc")}},requiresBounds:!0,animatable:!0}))).on("data:load",function(t){r.trigger(e.Event.VECTOR_LOAD,t.data)})}else((0,p.isVector)(t)||"vector"===n.type)&&(s=new u.VectorSource(t,(0,h.extend)({},n,{data:{service:g,coordinate:function(t){return(0,h.get)(t,"loc")}},requiresBounds:g.getAction()!==o.ApiAction.SEARCH,animatable:!0}))).on("data:load",function(t){r.trigger(e.Event.VECTOR_LOAD,t.data)})}if(s){this.addSource(s,a),this._layersById[a]=i,this.trigger(e.Event.LAYER_ADD,{id:a,layer:i,source:s});var T=(0,h.get)(n,"style.zIndex");s instanceof u.TileSource&&(0,h.isset)(T)&&this.setLayerOrder(t,T)}return this},e.prototype.addLayers=function(t){var e=this;return this._checkReady(),t.forEach(function(t){return e.addLayer(t)}),this},e.prototype.removeLayer=function(t){t=t.replace(/\:.+$/,"");var n=this.getSourceForLayer(t);return n?(this.removeSource(n),this.trigger(e.Event.LAYER_REMOVE,{layer:t.replace(/\:[^,]+/g,""),source:n}),this):this},e.prototype.removeLayerForId=function(t){var n=this.getSourceForId(t);if(!n)return this;var r=this._layersById[t];return this.removeSource(n),this.trigger(e.Event.LAYER_REMOVE,{id:t,layer:r.replace(/\:[^,]+/g,""),source:n}),this},e.prototype.removeLayers=function(t){var e=this;return t.forEach(function(t){return e.removeLayer(t)}),this},e.prototype.bringLayerToFront=function(t){var e=this,n=this.getSourceForLayer(t);Object.keys(this._sources).length;if(n&&n instanceof u.TileSource){var r=this._sourceOrder.tile,o=r.indexOf(t);-1!==o&&(r.splice(o,1),r.push(t)),Object.keys(this._sources).forEach(function(t){var n=e._sources[t];n instanceof u.TileSource&&n.setOrder(r.indexOf(t)+1)})}},e.prototype.sendLayerToBack=function(t){var e=this,n=this.getSourceForLayer(t);if(n&&n instanceof u.TileSource){var r=this._sourceOrder.tile,o=r.indexOf(t);-1!==o&&(r.splice(o,1),r.splice(0,0,t)),Object.keys(this._sources).forEach(function(t){var n=e._sources[t];n instanceof u.TileSource&&n.setOrder(r.indexOf(t)+1)})}},e.prototype.setLayerOrder=function(t,e){var n=this.getSourceForLayer(t);n&&n instanceof u.TileSource&&(0,h.isset)(e)&&n.setOrder(e)},e.prototype.getSourceForLayer=function(t){return this.getSource(t)},e.prototype.getSourceForId=function(t){return this.getSource(t)},e.prototype.createSource=function(t,e,n){return"vector"===e?new u.VectorSource(t,n):"text"===e?new u.TextSource(t,n):null},e.prototype.addSource=function(t,n){this._checkReady(),this._sources[n]=t,t.strategy=this.strategy,t.enabled=!0,t.identifier=n,this.strategy.addSource(t),(0,h.has)(t,"animation")&&(0,h.isset)(t.animation)&&this.timeline.add(n,t.animation);var r=this.getBounds();return t instanceof u.VectorSource&&t.load({bounds:r,from:this.timeline.startDate(),to:this.timeline.endDate()}),this.trigger(e.Event.SOURCE_ADD,{source:t,id:n}),this},e.prototype.removeSource=function(t){var n=this;return t.enabled=!1,this.strategy.removeSource(t),(0,h.has)(t,"animation")&&(t.animation.reset(),this.timeline.remove(t.animation)),Object.keys(this._sources).forEach(function(e){n._sources[e]===t&&delete n._sources[e]}),this.trigger(e.Event.SOURCE_REMOVE,{source:t,id:t.key}),this},e.prototype.getSource=function(t){return this._sources[t]},e.prototype.showCallout=function(t,e){this.strategy.showCallout(t,e)},e.prototype.update=function(){this._loadForBounds(!0)},e.prototype.enableAutoUpdate=function(t){var e=this;!this._refreshInterval&&t>0&&(t=Math.max(t,10),this._refreshInterval&&window.clearInterval(this._refreshInterval),this._refreshInterval=setInterval(function(){e._updateTimeline()},1e3*t))},e.prototype.disableAutoUpdate=function(){this._refreshInterval&&clearInterval(this._refreshInterval),this._refreshInterval=null},e.prototype._updateTimeline=function(){var t=this.timeline,e=!1;(t.isAnimating()||t.isLoading())&&(t.stop(),t.reset(),e=!0),t.refresh(),t.goToInit(),e&&t.play()},e.prototype._loadForBounds=function(t){var e=this;void 0===t&&(t=!1);var n=this.getBounds();Object.keys(this._sources).forEach(function(r){var o=e.getSource(r);if(o&&o instanceof u.VectorSource){var i=o;(i.requiresBounds||!1===i.hasData()||t)&&i.load({bounds:n,from:e.timeline.startDate(),to:e.timeline.endDate()})}})},e.prototype._updateSourcesForDate=function(t){var e=this;(0,h.isDate)(t)||(t=new Date(t)),Object.keys(this._sources).forEach(function(n){var r=e.getSource(n);r instanceof u.TileSource&&(r.timestamp=t)})},e.prototype._beforeBoundsChange=function(){this.timeline.stop()},e.prototype._afterBoundsChange=function(){var t=this._opts.reloadOnBoundsChange;if(t&&this._stateForData){var e=this._stateForData,n=this.strategy.coordToPoint(e.center),r=this.strategy.coordToPoint(this.getCenter());t=Math.max(Math.abs(n.x-r.x),Math.abs(n.y-r.y))>=50,this.getZoom()!==e.zoom&&(t=!0)}t&&(this.timeline.reset(),this._loadForBounds(),this._stateForData={center:this.getCenter(),bounds:this.getBounds(),zoom:this.getZoom()})},e.prototype._setupEvents=function(){var t=this;this.strategy.on("click",function(n){null===t._dblClickTimer&&(t._dblClickTimer=setTimeout(function(){n.data.coord=(0,a.normalize)(n.data.coord),t.trigger(e.Event.CLICK,n.data),t._dblClickTimer=null},200))}),this.strategy.on("dblclick",function(n){clearTimeout(t._dblClickTimer),t._dblClickTimer=null,t.trigger(e.Event.DBL_CLICK,n.data)}),this.strategy.on("resize",function(n){return t.trigger(e.Event.RESIZE,n.data)}),this.strategy.on("mousedown",function(n){return t.trigger(e.Event.MOUSE_DOWN,n.data)}),this.strategy.on("mouseup",function(n){return t.trigger(e.Event.MOUSE_UP,n.data)}),this.strategy.on("mouseover",function(n){return t.trigger(e.Event.MOUSE_OVER,n.data)}),this.strategy.on("mouseout",function(n){return t.trigger(e.Event.MOUSE_OUT,n.data)}),this.strategy.on("mousemove",function(n){return t.trigger(e.Event.MOUSE_MOVE,n.data)}),this.strategy.on("change:bounds",function(n){t.trigger(e.Event.CHANGE_BOUNDS,{bounds:t.getBounds()}),t._afterBoundsChange()}),this.strategy.on("change:center",function(n){return t.trigger(e.Event.CHANGE_CENTER,{center:t.getCenter()})}),this.strategy.on("change:zoom",function(n){return t.trigger(e.Event.CHANGE_ZOOM,{zoom:t.getZoom()})}),this.strategy.on("move",function(n){return t.trigger(e.Event.MOVE)}),this.strategy.on("move:start",function(n){t.timeline.pause(),t.trigger(e.Event.MOVE_START),t.trigger(e.Event.BEFORE_CHANGE_BOUNDS,{bounds:t.getBounds()})}),this.strategy.on("move:end",function(n){t.timeline.resume(),t.trigger(e.Event.MOVE_END),t.trigger(e.Event.AFTER_CHANGE_BOUNDS,{bounds:t.getBounds()})}),this.strategy.on("zoom",function(n){return t.trigger(e.Event.ZOOM)}),this.strategy.on("zoom:start",function(n){t.timeline.pause(),t.trigger(e.Event.ZOOM_START),t.trigger(e.Event.BEFORE_CHANGE_BOUNDS,{bounds:t.getBounds()})}),this.strategy.on("zoom:end",function(n){t.timeline.resume(),t.trigger(e.Event.ZOOM_END),t.trigger(e.Event.AFTER_CHANGE_BOUNDS,{bounds:t.getBounds()})}),this.strategy.on("idle",function(e){return t.trigger("idle")}),this.strategy.on("marker:click",function(n){return t.trigger(e.Event.MARKER_CLICK,n.data)}),this.strategy.on("marker:drag",function(n){return t.trigger(e.Event.MARKER_DRAG,n.data)}),this.strategy.on("marker:dragstart",function(n){return t.trigger(e.Event.MARKER_DRAG_START,n.data)}),this.strategy.on("marker:dragend",function(n){return t.trigger(e.Event.MARKER_DRAG_END,n.data)}),this.strategy.on("shape:click",function(n){return t.trigger(e.Event.SHAPE_CLICK,n.data)}),this.on("before:change:bounds",function(){t._beforeBoundsChange()}),this.timeline.on("play load:start",function(){t.trigger(e.Event.TIMELINE_PLAY,{timeline:t.timeline})}),this.timeline.on("stop",function(n){t.trigger(e.Event.TIMELINE_STOP,{timeline:t.timeline})}),this.timeline.on("advance",function(n){t.timeline.isAnimating()||t._updateSourcesForDate(n.data.time),t.trigger(e.Event.TIMELINE_CHANGE,(0,h.extend)({timeline:t.timeline},n.data))}),this.timeline.on("start:change end:change",function(){t.timeline.reset(),t.update()}),this.timeline.on("load:start",function(){t._indicator.startAnimating()}),this.timeline.on("load:done",function(){t._indicator.stopAnimating()})},e.prototype._checkReady=function(){if(!this._ready)throw new Error("Must wait for an instance of InteractiveMap to be fully\n\t\t\tinitialized before calling methods on it. Observe the `load` or `ready` events\n\t\t\tthat are triggered when an InteractiveMap instance is fully initialized.")},e.prototype.requestForMap=function(t){var e=new f.default({server:(0,h.get)(this._opts,"servers.maps"),client:{id:this.account.id,secret:this.account.secret}},{type:f.MapRequestType.TILE});return e.layers(t),e},e.prototype.requestForConfig=function(t){if((t=t||{}).endpoint){var e=new o.default({server:(0,h.get)(this._opts,"servers.api"),client:{id:this.account.id,secret:this.account.secret}});return e.endpoint(t.endpoint),t.action&&e.action(t.action),t.parameters&&e.setParams(t.parameters),e}return null},e.Event={READY:"ready",LOAD:"load",CLICK:"click",DBL_CLICK:"dblclick",MOUSE_DOWN:"mousedown",MOUSE_UP:"mouseup",MOUSE_OVER:"mouseover",MOUSE_OUT:"mouseout",MOUSE_MOVE:"mousemove",RESIZE:"resize",CHANGE_BOUNDS:"change:bounds",BEFORE_CHANGE_BOUNDS:"before:change:bounds",AFTER_CHANGE_BOUNDS:"after:change:bounds",CHANGE_CENTER:"change:center",CHANGE_ZOOM:"change:zoom",MOVE:"move",MOVE_START:"move:start",MOVE_END:"move:end",ZOOM:"zoom",ZOOM_START:"zoom:start",ZOOM_END:"zoom:end",MARKER_CLICK:"marker:click",MARKER_DRAG:"marker:drag",MARKER_DRAG_START:"marker:dragstart",MARKER_DRAG_END:"marker:dragend",SHAPE_CLICK:"shape:click",TIMELINE_PLAY:"timeline:play",TIMELINE_STOP:"timeline:stop",TIMELINE_CHANGE:"timeline:change",LAYER_ADD:"layer:add",LAYER_REMOVE:"layer:remove",LAYER_UPDATE:"layer:update",SOURCE_ADD:"source:add",SOURCE_REMOVE:"source:remove",VECTOR_LOAD:"vector:load"},e}(r.default);e.default=_,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(t,e,n,r){void 0===e&&(e=!1),void 0===n&&(n=!1),void 0===r&&(r=null),this.target=null,this.currentTarget=null,this.bubbles=!1,this.cancellable=!1,this.isPropagationStopped=!1,this.type=t,this.bubbles=e,this.cancellable=n,this.data=r,this.defaultPrevented=!1}return t.prototype.toJSON=function(){return{type:this.type,data:this.data}},t.prototype.stopPropagation=function(){this.isPropagationStopped=!0},t.prototype.stopImmediatePropagation=function(){this.stopPropagation(),this.isPropagationStopped=!0},t.prototype.isDefaultPrevented=function(){return this.defaultPrevented},t.prototype.preventDefault=function(){this.defaultPrevented=!0},t}();e.default=r,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(19))&&r.__esModule?r:{default:r},i=n(1);var a,s=(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e){void 0===e&&(e=null);var n=this;return e=(0,i.extend)({},{refresh:0,showWhenLoading:!0},e),(n=t.call(this,e)||this)._layersByTime=null,n._isReset=!1,n._loading=!1,n._visible=!0,n._startup(),n}return s(e,t),Object.defineProperty(e.prototype,"showWhenLoading",{get:function(){return this.opts.showWhenLoading},set:function(t){this.opts.showWhenLoading=t},enumerable:!0,configurable:!0}),e.prototype.dataByTime=function(){return this._layersByTime||{}},e.prototype.play=function(){this.isAnimating()||this.canAnimate()&&(!this._hasImages()||this._totalImages()<this.totalIntervals?this._load():t.prototype.play.call(this))},e.prototype.stop=function(){t.prototype.stop.call(this),this._loading&&this.reset()},e.prototype.reset=function(e){var n=this;void 0===e&&(e=!1),t.prototype.reset.call(this,e),this.hide(),this._reloadTimer&&window.clearTimeout(this._reloadTimer),this._layersByTime&&Object.keys(this._layersByTime).forEach(function(t){var e=parseInt(t,10);n._layersByTime[e].remove()}),this._isReset=!0,this._loading=!1,this._hasLoaded=!1,this._layersByTime=null,this._currentLayer=null},e.prototype.isReady=function(){var t=this.totalIntervals,e=this._totalImages();return!this.isLoading()&&(this._hasImages()&&e===t||0===t)},e.prototype.canAnimate=function(){var e=t.prototype.canAnimate.call(this);return e&&this._hasLoaded&&!this._hasImages()?e=!1:(e&&!this.isFuture()&&!this.containsPast()||this.isFuture()&&!this.containsFuture())&&(e=!1),e},e.prototype.isLoading=function(){return this._loading},e.prototype.show=function(){this._visible=!0,this._currentLayer&&this._currentLayer.show()},e.prototype.hide=function(){this._visible=!1,this._currentLayer&&this._currentLayer.hide()},e.prototype.isVisible=function(){return!this._currentLayer||this._currentLayer.isVisible()},e.prototype._updateForTime=function(t){var e=this._frameClosestToTime(t);e&&e!==this._currentLayer&&(e.show(),this._currentLayer&&this._currentLayer.hide(),this._currentLayer=e),this.canShow(this.currentTime)?this.show():this.hide()},e.prototype._frameClosestToTime=function(t){if(0===Object.keys(this.dataByTime()).length)return null;var e=Object.keys(this._layersByTime).sort().reverse().map(function(t){return parseInt(t,10)}),n=null,r=this.from,i=Math.abs(t-r);return e.forEach(function(e){var n=Math.abs(t-e);n<i&&(i=n,r=e)}),r!==this._lastImageTime&&this._layersByTime[r]&&(n=this._layersByTime[r],r=Math.round(r),this._lastImageTime=r,this.trigger(o.default.Event.ADVANCE_IMAGE,{time:r,layer:n})),n},e.prototype._hasImages=function(){return this._totalImages()>0},e.prototype._totalImages=function(){return Object.keys(this.dataByTime()).length},e.prototype._load=function(){var t=this;this._isReset=!1,this._loading=!0;var e=this.neededIntervals();if(!e||0===e.length)return this._hasLoaded=!0,void this.trigger(o.default.Event.LOAD_DONE);this._layersByTime&&Object.keys(this._layersByTime).forEach(function(t){var n=parseInt(t,10),r=e.indexOf(n);-1!==r&&e.splice(r,1)});var n=function(){t._loading=!1,t._hasLoaded=!0,t.trigger(o.default.Event.LOAD_DONE),t.timeline||t.play()};if(0!==e.length){this.trigger(o.default.Event.LOAD_START,{times:e});var r=0,i=function(){t._loadInterval(e[r],!0,function(){r+=1,t._isReset||(r>=e.length?(n(),t.opts.refresh>0&&(t._reloadTimer&&window.clearTimeout(t._reloadTimer),t._reloadTimer=setTimeout(function(){t.reset(),t._load()},1e3*t.opts.refresh))):i())})};i()}else n()},e.prototype._loadInterval=function(t,e,n){var r=this;if(t=Math.round(t),this._layersByTime){if(this._layersByTime[t])return void(n&&n())}else this._layersByTime={};var i=new Date(t);this.provider&&this.provider.animationLayerForDate(this,i).then(function(e){r._isReset?e.remove():(r._currentLayer&&r._currentLayer.hide(),r.showWhenLoading&&e.show(),r._currentLayer=e,r._layersByTime[t]=e,r.trigger(o.default.Event.LOAD_IMAGE,{date:new Date(t),layer:e}),r.trigger(o.default.Event.LOAD_PROGRESS,{time:t,loaded:Object.keys(r._layersByTime).length,total:r.totalIntervals}),n&&n())}).catch(function(t){console.error("Failed to load tile animation interval",t)})},e}(o.default);e.default=u,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=p(n(3)),o=n(4),i=p(n(101)),a=p(n(30)),s=p(n(48)),u=p(n(18)),c=n(1),l=n(5);function p(t){return t&&t.__esModule?t:{default:t}}var f,d=(f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(){return(h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},y=function(t){function e(e,n){var r=t.call(this)||this;r.requiresBounds=!1,r._nonAnimatableData=[],r.key=e,r.enabled=!0,r._opts=(0,c.extend)({data:null,requiresBounds:!1,animatable:!1,refresh:0},n);var o=r._opts.style;if(r.style=o||{marker:null,polygon:null,polyline:null},r._opts.animatable){var a=function(t){return{markers:t.filter(function(t){return r.strategy.isMarker(t)}),shapes:t.filter(function(t){return r.strategy.isPolygon(t)||r.strategy.isPolyline(t)})}},s=new i.default;s.provider=r,s.on("play",function(){var t=a(r._nonAnimatableData),e=t.markers,n=t.shapes;e.length>0&&r.trigger("markers:remove",{markers:e,animation:s}),n.length>0&&r.trigger("shapes:remove",{shapes:n,animation:s})}),s.on("stop",function(){var t=a(r._nonAnimatableData),e=t.markers,n=t.shapes;e.length>0&&r.trigger("markers:add",{markers:e,animation:s}),n.length>0&&r.trigger("shapes:add",{shapes:n,animation:s})}),s.on("data:add",function(t){var e=a(t.data.items),n=e.markers,o=e.shapes;n.length>0&&r.trigger("markers:add",{markers:n,animation:s}),o.length>0&&r.trigger("shapes:add",{shapes:o,animation:s})}),s.on("data:remove",function(t){var e=a(t.data.items),n=e.markers,o=e.shapes;n.length>0&&r.trigger("markers:remove",{markers:n,animation:s}),o.length>0&&r.trigger("shapes:remove",{shapes:o,animation:s})}),r._animation=s}return r.requiresBounds=(0,c.get)(r._opts,"requiresBounds"),r._service=(0,c.get)(r._opts,"data.service"),r}return d(e,t),Object.defineProperty(e.prototype,"markers",{get:function(){return(0,c.get)(this._result,"markers")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"markersById",{get:function(){return this._markersById},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"polygons",{get:function(){return(0,c.get)(this._result,"polygons")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"polylines",{get:function(){return(0,c.get)(this._result,"polylines")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shapes",{get:function(){var t=[];return this.polygons&&(t=t.concat(this.polygons)),this.polylines&&(t=t.concat(this.polylines)),t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strategy",{get:function(){return this._strategy},set:function(t){var e=this;t&&(this._strategy=t,t.on("move:end",function(n){e._visibleBounds=a.default.fromBounds(t.getBounds())}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"service",{get:function(){return this._service},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animation",{get:function(){return this._animation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,!1===t?this._stopAutoUpdate():this._startAutoUpdateIfNeeded()},enumerable:!0,configurable:!0}),e.prototype.hasData=function(){return!(0,c.isEmpty)(this.markers)||!(0,c.isEmpty)(this.polygons)||!(0,c.isEmpty)(this.polylines)},e.prototype.load=function(t){var e=this,n=(0,c.get)(this._opts,"data");if(!n)return new Promise(function(t,e){e(new Error("Invalid configuration for VectorSource"))});if(t=(0,c.extend)({},this._lastLoadParams,t),this._lastLoadParams=t,this._opts.requiresBounds&&!(0,c.isset)(t.bounds))throw new Error("[awxjs] Vector source "+this.key+" requires coordinate bounds when loading but bounds were not provided.");var r=t.bounds,i=t.from,s=t.to;r&&(this._visibleBounds=a.default.fromBounds(r));var p=function(t,n){if(!1!==e.enabled){if(t){e.trigger("data:load",{layer:e.key,results:t});var r=e.markers,o=e.shapes;(0,c.isEmpty)(r)||e.trigger("markers:remove",{markers:r}),(0,c.isEmpty)(o)||e.trigger("shapes:remove",{shapes:o}),e._result=e._process(t),r=e.markers,o=e.shapes,(0,c.isEmpty)(r)||e.trigger("markers:add",{markers:r}),(0,c.isEmpty)(o)||e.trigger("shapes:add",{shapes:o})}(0,c.isFunction)(n)&&n(e._result,null)}},f=function(t,e){console.error("Vector source request failed",t),t.stack&&console.log(t.stack),e&&e(null,t)},d=n.service,h=n.url,y=n.items;if(y)return new Promise(function(t,e){p(y,function(n,r){n?t(n):e(r)})});var m,v=(0,c.get)(this._opts,"data.properties.root");return d?(this._service=d,m=function(t,n,r,i,a){var s=e.service.param("limit")||300,u=e.service.param("sort")||"dt:-1";if(e.service.getAction()||e.service.action(o.ApiAction.WITHIN),e.service.getAction()===o.ApiAction.WITHIN){if(!t)return;e.service.place((0,l.toBounds)(t))}e.service.from(n).to(r).limit(s).sort(u).get().then(function(t){p((0,c.isset)(v)?(0,c.get)(t.data,v):t.data,a)}).catch(function(t){return f(t,a)})}):h&&(m=function(t,e,n,r,o){var i=(0,c.isFunction)(h)?h(r):h;u.default.request(i).then(function(t){p((0,c.isset)(v)?(0,c.get)(t.data,v):t.data,o)}).catch(function(t){return f(t,o)})}),this._request||(this._request=(0,c.debounce)(function(t,e,n,r,o){m(t,e,n,r,o)},1500)),new Promise(function(t,n){e._request?e._request(r,i,s,e._lastLoadParams,function(r,o){o?n(o):t(r),e._startAutoUpdateIfNeeded()}):n(new Error("Invalid configuration for VectorSource"))})},e.prototype.reload=function(t){this.load(t)},e.prototype.update=function(t){t&&(this._opts.data=(0,c.extend)(this._opts.data,t),this._request=null),this.reload()},e.prototype._visibleMapObjects=function(){var t=this,e=this.markers,n=this.shapes;return{markers:e=e.filter(function(e){var n=e.coord;return!n||t._visibleBounds.contains(n)}),shapes:n=n.filter(function(e){var n=e.bounds;return!n||t._visibleBounds.contains(n)})}},e.prototype._mapObjects=function(){var t=[];if(this.polygons&&(t=t.concat(this.polygons)),this.polylines&&(t=t.concat(this.polylines)),0===t.length)return null;var e=Object.keys(t).reduce(function(e,n){return e.concat(t.map(function(t){return t.polygons?t.polygons.map(function(t){return t.polygon}):t.polygon?t.polygon:t}))},[]);return(0,c.flatten)(e)},e.prototype._process=function(t,e){var n=this;if(!this.strategy)throw new Error("No map strategy defined for VectorSource but one is required.");var r=(0,c.get)(this._opts,"data.formatter");r&&(t=r(t));var o={},i={},a={};if((0,c.isArray)(t)){var u=this.style,l=u.marker,p=u.polygon,f=u.polyline,d=[],y=(0,c.get)(this._opts,"data.properties")||{},m=(0,c.get)(this._opts,"data.geometry");t.forEach(function(t,r){var u,v,g,_="awxjs-shape-"+n.key+"-"+r;if(y&&(y.id&&(_=(0,c.get)(t,y.id)),y.category&&!1===/^\[path\]/.test(y.category)&&(u=(0,c.get)(t,y.category)),y.path&&(v=(0,c.get)(t,y.path)),l))if(y.points){var b=y.points;!e&&(0,c.isArray)(b)?(g=[],b.forEach(function(e){var n=(0,c.get)(t,e);n&&(0,c.isArray)(n)&&(g=g.concat(n))})):g=(0,c.get)(t,b)}else g=[t];if(g&&l){var w=n._generateMarkers(g,l,d),x=w.markers;w.coords;o=(0,c.merge)(o,x)}if(v&&(p||f)){var O=v;(0,c.isArray)(O)?O.length>0&&(0,c.isArray)(O[0])&&2===O[0].length&&(0,c.isNumber)(O[0][0])&&(O=[O]):O=[O],O.forEach(function(e,r){var o=y.category,l=u;if(!l&&o&&(o=o.replace(/^\[path\]\./,""),l=(0,c.get)(e,o)),m&&(0,c.isFunction)(m)&&(e=m(e)),p){var d=(0,c.isFunction)(p)?p(t):p,v=n._generatePolygon(e,h({},d,{id:_})),g={data:h({},t,{awxjs_source:n.key}),renderable:v,style:p,bounds:null};if(l){if(!i[l]){var b=(0,c.set)({},o,l);i[l]={data:h({},b,{awxjs_source:n.key}),polygons:[]}}i[l].polygons.push(g)}else _&&(i[_]=g)}else{var w=new s.default(e,!0).coordinates.map(function(e){var r;return h({},t,((r={awxjs_source:n.key,loc:e})[o]=l,r))}),x=n._generatePolylines(w,f,_+"-"+r);a=(0,c.merge)(a,x)}})}if(g&&f){var T=n._generatePolylines(g,f,_);a=(0,c.merge)(a,T)}})}return this._markersById=o,this._polygons=i,this._polylines=a,{markers:Object.keys(o).map(function(t){return o[t]}),polygons:Object.keys(i).map(function(t){return i[t]}),polylines:Object.keys(a).map(function(t){return a[t]})}},e.prototype._processRecord=function(t){return t},e.prototype._generateMarkers=function(t,e,n){var r=this,o={};return t.forEach(function(t){var i=(0,c.get)(r._opts,"data.coordinate"),a=t.loc||(i&&(0,c.isFunction)(i)?i(t):{});if(a&&a.lat&&(a.lon||a.long)){var s=r._processRecord(t),u=(0,c.isFunction)(e)?e(s):e,l={lat:a.lat,lon:a.long||a.lon},p=s.id||r.key+"-"+l.lat+"_"+l.lon,f=r.strategy.coordToPoint(l);if(f&&u){var d=!0;if(e&&u.spacing>0&&n.forEach(function(t){var e=r.strategy.coordToPoint(t);Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2))<u.spacing&&(d=!1)}),d){var y=(0,c.cloneDeep)(u),m=r.strategy.factory.marker(r.key,{lat:l.lat,lon:l.lon},y);o[p]={data:h({},s,{awxjs_source:r.key}),renderable:m,style:y,coord:l,geo:{type:"Feature",properties:{identifier:p,style:y},geometry:{type:"Point",coordinates:[l.lon,l.lat]}}},n.push(l)}}}}),{markers:o,coords:n}},e.prototype._generatePolygon=function(t,e){var n;if((0,c.isPlainObject)(t)){var r=s.default.polygonsFromGeoJson(t);n=this.strategy.factory.polygon(this.key,r,e)}else{var o=new s.default(t,!1);n=this.strategy.factory.polygon(this.key,[o],e)}return n},e.prototype._generatePolylines=function(t,e,n){var r=this,o=(0,c.get)(this._opts,"data.coordinate"),i=(0,c.get)(this._opts,"data.properties.category"),s=[],u={},l=[],p={north:null,south:null,west:null,east:null};return t.forEach(function(t,e){var n=t.loc||(o&&(0,c.isFunction)(o)?o(t):{}),r={lat:n.lat,lon:n.long||n.lon},a=i?(0,c.get)(t,i):"none";l.push(r),p.north=Math.max(p.north,r.lat),p.south=Math.min(p.south,r.lat),p.west=Math.min(p.west,r.lon),p.east=Math.max(p.east,r.lon),e>0&&(s.push({line:l,data:t,bounds:p}),l=[r],p={north:r.lat,south:r.lat,west:r.lon,east:r.lon}),a}),s.forEach(function(t,o){var i=(0,c.isFunction)(e)?e(t.data):e,s=r.key+"-"+(n?n+"-":"")+o,l=r.strategy.factory.polyline(s,t.line,i);i.id=s,u[n+"-"+o]={data:t.data,renderable:l,style:i,bounds:a.default.fromBounds(t.bounds)}}),u},e.prototype._startAutoUpdateIfNeeded=function(){var t=this;this._stopAutoUpdate();var e=(0,c.get)(this._opts,"refresh");this.enabled&&e>0&&(this._refreshTimer=setTimeout(function(){t.reload()},1e3*e))},e.prototype._stopAutoUpdate=function(){this._refreshTimer&&(clearTimeout(this._refreshTimer),this._refreshTimer=null)},e.prototype.animationData=function(t){var e=this;return new Promise(function(t,n){if(e.markers){var r=Object.keys(e.markers).map(function(t){return e.markers[t]}),o=e.shapes,i=[];if(r){var a=r.map(function(t){var n,r=t.data,o=t.renderable,i=t.style;if(!r||!o)return null;var a=(0,c.get)(e._opts,"data.properties.timestamp")||"timestamp";return(0,c.has)(r,a)?n=1e3*(0,c.get)(r,a):e._nonAnimatableData.push(o),{timestamp:n,renderable:o,style:i}}).filter(function(t){return t&&!1===Number.isNaN(t.timestamp)});a&&(i=i.concat(a))}if(o){var s=function(t){return t.map(function(t){var n,r=t.data,o=t.renderable,i=t.style;if(!r)return null;var a=(0,c.get)(e._opts,"data.properties.timestamp")||"timestamp";return(0,c.isPlainObject)(a)&&a.from&&(a=a.from),(0,c.has)(r,a)?n=1e3*(0,c.get)(r,a):e._nonAnimatableData.push(o),{timestamp:n,renderable:o,style:i}}).filter(function(t){return t&&!1===Number.isNaN(t.timestamp)})};o.forEach(function(t){var e,n=t.polygons;(0,c.isset)(n)?(e=s(n))&&(i=i.concat(e)):(e=s([t]))&&(i=i.concat(e))})}t(i)}else t(null)})},e}(r.default);e.default=y,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(19))&&r.__esModule?r:{default:r},i=n(1);var a,s=(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e){void 0===e&&(e=null);var n=this;return e=(0,i.extend)({},{refresh:0},e),(n=t.call(this,e)||this).itemsByTime={},n.lastInterval=0,n.dataBeyondBounds={before:[],after:[]},n.on("stop",function(){n.trigger(o.default.Event.DATA_ADD,{items:n.dataBeyondBounds.after.filter(function(t){return void 0!==t})})}),n}return s(e,t),e.prototype.dataByTime=function(){return this.itemsByTime},e.prototype.setData=function(t){this.data=t,this._prepareDataItems(t)},e.prototype.play=function(){var e=this;this.canAnimate()||!this.provider?t.prototype.play.call(this):this.provider.animationData(this).then(function(t){e.setData(t),e.lastInterval=e.to})},e.prototype._updateForTime=function(t){if(this.dataByTime()){this.lastInterval||(this.lastInterval=this.from);var e=this.currentTime;if(e!==this.lastInterval){var n=Math.min(this.lastInterval,e),r=Math.max(this.lastInterval,e),i=this._elementsInIntervalRange(n,r);if(i.length>0)if(e<this.lastInterval)[].concat(this.itemsByTime[this.from]).forEach(function(t){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}),i=i.concat(this.dataBeyondBounds.after),this.trigger(o.default.Event.DATA_REMOVE,{items:i.filter(function(t){return void 0!==t})});else this.trigger(o.default.Event.DATA_ADD,{items:i.filter(function(t){return void 0!==t})});this.lastInterval=e}}},e.prototype.restart=function(){this.lastInterval=this.to,t.prototype.restart.call(this)},e.prototype.reset=function(){this.data=null,this.itemsByTime={},t.prototype.reset.call(this)},e.prototype.isVisible=function(){return!0},e.prototype.isReady=function(){return null!=this.data},e.prototype.canAnimate=function(){return t.prototype.canAnimate.call(this)&&this.dataByTime()&&Object.keys(this.dataByTime()).length>0},e.prototype._handleTimingChange=function(){this.data&&this._prepareDataItems(this.data)},e.prototype._prepareDataItems=function(t){var e=this;if(!(this.increment<=0)&&(0,i.isArray)(t)){var n=this._prepareIntervals(),r=t;this.dataBeyondBounds={before:[],after:[]},(r||[]).forEach(function(t){if((0,i.has)(t,"timestamp")){var r=(0,i.get)(t,"timestamp");if(r<e.from)e.dataBeyondBounds.before.push(t.renderable);else if(r>e.to)e.dataBeyondBounds.after.push(t.renderable);else{var o=e.dataIntervalClosestToTime(r);r<e.to&&n[o]&&n[o].push(t.renderable)}}}),this.trigger(o.default.Event.LOAD_DONE)}},e.prototype._prepareIntervals=function(){for(var t=this.from,e=this.to,n={};t<e;)n[Math.round(t)]=[],t+=this.increment;return this.itemsByTime=n,this.dataByTime()},e.prototype.dataIntervalClosestToTime=function(t){var e=Object.keys(this.dataByTime()).sort().reverse().map(function(t){return parseInt(t,10)}),n=0;return t<this.from||t>this.to?n=t:e.forEach(function(e){t>=e&&0===n&&(n=e)}),n},e.prototype._elementsInIntervalRange=function(t,e){var n=this;if(t===e)return[];var r=[],o=Object.keys(this.dataByTime()).sort().map(function(t){return parseInt(t,10)}),i=[];return o.forEach(function(o){var a=!1;e<t?o>=e&&o<t&&(a=!0):o===t&&o===e?a=!0:(o>=t&&o<e||o===e)&&(a=!0),a&&-1===i.indexOf(o)&&(i.push(o),r=(r||[]).concat(n.dataByTime()[o]))}),r},e}(o.default);e.default=u,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(20))&&r.__esModule?r:{default:r},i=n(1);var a,s=(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o._visible=!0,n.offset(0),o._overlay=L.tileLayer(n.url(),o._opts),o.timestamp=o._opts.time,o.animation.provider=o,o}return s(e,t),Object.defineProperty(e.prototype,"overlay",{get:function(){return this._overlay},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timestamp",{set:function(t){t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()),this._timestamp&&t.getTime()===this._timestamp.getTime()||(this._timestamp=t,!1===this.isAnimationActive()&&this.updateVisibility(),this.overlay&&this.canShow()&&this.overlay.setUrl(this.urlTemplate()))},enumerable:!0,configurable:!0}),e.prototype.show=function(){this._hidden=!1,this.overlay&&this.overlay.setOpacity(this._opacity)},e.prototype.hide=function(){this._hidden=!0,this.overlay&&this.overlay.setOpacity(0)},e.prototype.remove=function(){this.trigger("layer:remove",{layer:this.overlay})},e.prototype.setOpacity=function(t){this._opacity=t,this.overlay&&this.overlay.setOpacity(t)},e.prototype.setOrder=function(t){this.overlay.setZIndex(t)},e.prototype.animationLayerForDate=function(t,e){var n=this;return new Promise(function(t,r){if(n.dataSource){var o=n.dataSource.tileLayer(n.key,e,(0,i.extend)({},n._opts,{animation:{enabled:!1}}));o.setOpacity(n._opacity),o.hide(),o.overlay.on("load",function(){t(o)}),o.on("layer:remove",function(){n.trigger("layer:remove",{layer:o.overlay})}),n.trigger("layer:add",{layer:o.overlay})}else r(new Error("No map strategy data source provided"))})},e}(o.default);e.default=u,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n(20)),o=u(n(104)),i=n(105),a=n(29),s=n(1);function u(t){return t&&t.__esModule?t:{default:t}}var c,l=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){function e(e,n,r){var i=t.call(this,e,n,(0,s.extend)({animation:{type:"image"}},r))||this;i._overlay=new o.default(e),i._animationOverlay=new o.default(e,"image",e+"-anim"),r.id&&(i._overlay.id=r.id,i._animationOverlay.id=r.id+"-anim");var a=(0,s.get)(r,"style.opacity");(0,s.isset)(a)&&(i._overlay.setOpacity(a),i._animationOverlay.setOpacity(a)),i._overlay.parentId=(0,s.get)(r,"style.belowLayer"),i._animationOverlay.parentId=i._overlay.layerId,i.timestamp=i._opts.time;var u=i._animationOverlay,c=i.animation;return c.provider=i,c.on("show",function(t){i.show()}),c.on("hide",function(t){i.hide()}),c.on("play load:progress",function(t){u.map||u.addTo(i.overlay.map),i.isVisible()&&(i.overlay.hide(),u.show())}),c.on("stop",function(t){u.hide(),i.overlay.show()}),c.on("load:image advance:image",function(t){var e=t.data.img;e&&u.setImage(e.src)}),i}return l(e,t),Object.defineProperty(e.prototype,"overlay",{get:function(){return this._overlay},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timestamp",{set:function(t){t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()),this._timestamp&&t.getTime()===this._timestamp.getTime()||(this._timestamp=t,!1===this.isAnimationActive()&&this.updateVisibility(),this.overlay&&this.canShow()&&this.overlay.setUrl(this.urlTemplate()))},enumerable:!0,configurable:!0}),e.prototype.show=function(){this._hidden=!1,this.animation.isAnimating()&&this._animationOverlay?this._animationOverlay.show():this.overlay&&this.overlay.show()},e.prototype.hide=function(){this._hidden=!0,this.overlay&&this.overlay.hide(),this._animationOverlay&&this._animationOverlay.hide()},e.prototype.remove=function(){this.trigger("layer:remove",{layer:this.overlay})},e.prototype.setOpacity=function(t){this._opacity=t,this.overlay&&this.overlay.setOpacity(t),this._animationOverlay&&this._animationOverlay.setOpacity(t)},e.prototype.setOrder=function(t){this.overlay&&this.overlay.setZIndex(t),this._animationOverlay&&this._animationOverlay.setZIndex(t)},e.prototype.animationUrlForDate=function(t,e){var n=this.overlay.map;if(!n)return null;var r=n.getBounds(),o=n.getZoom()+1,s=i.Mercator.coordToTile({lat:r.getNorth(),lon:r.getWest()},o),u=i.Mercator.coordToTile({lat:r.getSouth(),lon:r.getEast()},o),c=i.Mercator.tileToCoord(s,o),l=i.Mercator.tileToCoord({x:u.x+1,y:u.y+1},o),p={width:256*(Math.abs(s.x-u.x)+1),height:256*(Math.abs(s.y-u.y)+1)},f={north:c.lat,south:l.lat,west:c.lon,east:l.lon},d=this.service.clone().type(a.MapRequestType.IMAGE);return d.bounds(f).zoom(o).size(p.width,p.height).date(e),this._animationOverlay.setBounds(f),d.url()},e.prototype.animationSizeForImage=function(t){return{width:100,height:100}},e}(r.default);e.default=p,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(49))&&r.__esModule?r:{default:r};var i,a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e,n,r){void 0===n&&(n="tile"),void 0===r&&(r=void 0);var o=t.call(this,e,r)||this;return o._opts={},o._type=n,o}return a(e,t),e.prototype.setUrl=function(t){this._opts.url=t,this.map&&this.invalidate()},e.prototype.setBounds=function(t){this._opts.bounds=t},e.prototype.setImage=function(t,e){void 0===e&&(e=void 0),this._opts.url=t;var n=this.map;if(n){e||(e=this._opts.bounds);var r=n.getSource(this.sourceId);r?r.updateImage({url:t,coordinates:[[e.west,e.north],[e.east,e.north],[e.east,e.south],[e.west,e.south]]}):this.invalidate()}},e.prototype.invalidate=function(){var t=this._opts,e=t.url,n=t.bounds;if(e){if("image"===this._type){if(!n)return;this.source={type:"image",url:e,coordinates:[[n.west,n.north],[n.east,n.north],[n.east,n.south],[n.west,n.south]]}}else this.source={type:"raster",tiles:[e],tileSize:256};if(this.layer={id:this.layerId,type:"raster",source:this.sourceId,paint:{"raster-fade-duration":0}},this.map){var r=this.map;this.remove(),this.addTo(r)}}},e}(o.default);e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mercator=void 0;var r,o=Math.PI/180,i=180/Math.PI,a=function(t){return 128/Math.PI*Math.pow(2,t)},s=function(t){return t*o},u=function(t){return t*i},c=function(t,e,n){var r=Math.PI,o=128/r*Math.pow(2,e),i=s(t.lat),a=o*(s(t.lon)+r),u=o*(r-Math.log(Math.tan(.25*r+.5*i)));return{x:.5*n.width-a,y:.5*n.height-u}},l=function(t,e){void 0===e&&(e=4);var n=Math.pow(10,e);return Math.round(t*n)/n};e.Mercator=r,function(t){t.pointToCoord=function(t,e,n,r,o){void 0===r&&(r=void 0),void 0===o&&(o=void 0);var i=Math.PI,s=a(n),l=r&&o?c(r,n,o):{x:0,y:0},p=t-l.x,f=e-l.y,d=p/s-i,h=2*(Math.atan(Math.exp(i-f/s))-.25*i);return{lat:u(h),lon:u(d)}},t.coordToPoint=function(t,e,n,r,i){void 0===r&&(r=void 0),void 0===i&&(i=void 0),e*=o,t*=o;var s=Math.PI,u=a(n),l=r&&i?c(r,n,i):{x:0,y:0},p=u*(e+s),f=u*(s-Math.log(Math.tan(.25*s+.5*t)));return{x:p+l.x,y:f+l.y}},t.getBoundsCenter=function(t){var e=(t.west+t.east)/2;return t.west>t.east&&(e=t.west-360+(t.west+t.east)/2),{lat:(t.south+t.north)/2,lon:e}},t.getBoundsZoomLevel=function(t,e){var n=function(t){var e=Math.sin(t*Math.PI/180),n=Math.log((1+e)/(1-e))/2;return Math.max(Math.min(n,Math.PI),-Math.PI)/2},r=function(t,e,n){return Math.floor(Math.log(t/e/n)/Math.LN2)},o=(n(t.north)-n(t.south))/Math.PI,i=t.east-t.west,a=(i<0?i+360:i)/360,s=r(e.height,256,o),u=r(e.width,256,a);return Math.min(s,u,21)},t.getSizeForBounds=function(e,n){var r=t.coordToPoint(e.north,e.west,n),o=t.coordToPoint(e.south,e.east,n);return{width:o.x-r.x,height:o.y-r.y}},t.getBoundsThatFits=function(e,n,r){void 0===r&&(r=0);var o=t.coordToPoint(e.north,e.west,0),i=t.coordToPoint(e.south,e.east,0),a=Math.abs(i.x-o.x),s=Math.abs(i.y-o.y),u=o.x+a/2,c=o.y+s/2,p={width:a,height:s},f=n.height/n.width,d=l(s/a,2),h=p.width/n.width;if(f!==d)if(n.width<n.height){var y=n.width/n.height;p.height=p.width*(1/y)}else{y=n.height/n.width;p.width=p.height*(1/y)}p.width+=r*h,p.height+=r*h;var m=p.width/2,v=p.height/2,g=t.pointToCoord(u-m,c-v,0),_=t.pointToCoord(u+m,c+v,0);return{north:l(g.lat),south:l(_.lat),west:l(g.lon),east:l(_.lon)}},t.coordToTile=function(t,e){var n=Math.PI,r=t.lon,o=s(t.lat);return{x:Math.floor((r+180)/360*Math.pow(2,e)),y:Math.floor((1-Math.log(Math.tan(o)+1/Math.cos(o))/n)/2*Math.pow(2,e))}},t.tileToCoord=function(t,e){var n=Math.PI-2*Math.PI*t.y/Math.pow(2,e);return{lat:180/Math.PI*Math.atan(.5*(Math.exp(n)-Math.exp(-n))),lon:t.x/Math.pow(2,e)*360-180}}}(r||(e.Mercator=r={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(104)),o=a(n(259)),i=a(n(260));function a(t){return t&&t.__esModule?t:{default:t}}var s={Tile:r.default,Polygon:o.default,Polyline:i.default};e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(20)),o=a(n(108)),i=n(1);function a(t){return t&&t.__esModule?t:{default:t}}var s,u=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return n.offset(0),i._overlay=new o.default(e,"tile",i.identifier),i.timestamp=i._opts.time,i.animation.provider=i,i}return u(e,t),Object.defineProperty(e.prototype,"overlay",{get:function(){return this._overlay},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timestamp",{set:function(t){t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()),this._timestamp&&t.getTime()===this._timestamp.getTime()||(this._timestamp=t,!1===this.isAnimationActive()&&this.updateVisibility(),this.overlay&&!1===this.overlay.isHidden&&this.canShow()&&this.overlay.setUrl(this.urlTemplate()))},enumerable:!0,configurable:!0}),e.prototype.show=function(){this._hidden=!1,this.overlay&&this.overlay.show()},e.prototype.hide=function(){this._hidden=!0,this.overlay&&this.overlay.hide()},e.prototype.remove=function(){this.trigger("layer:remove",{layer:this.overlay})},e.prototype.setOpacity=function(t){this._opacity=t,this.overlay&&this.overlay.setOpacity(t)},e.prototype.setOrder=function(t){this.overlay&&this.overlay.setZIndex(t)},e.prototype.animationLayerForDate=function(t,e){var n=this;return new Promise(function(t,r){if(n.dataSource){var o=n.dataSource.tileLayer(n.key,e,(0,i.extend)((0,i.cloneDeep)(n._opts),{id:"anim"}));o.overlay.on("load",function(){t(o),o.hide(),o.setOpacity(n._opacity)}),o.on("layer:remove",function(){n.trigger("layer:remove",{layer:o.overlay})}),n.trigger("layer:add",{layer:o.overlay,relativeTo:n.overlay.layer,offset:1}),o.setOpacity(0)}else r(new Error("No map strategy data source provided"))})},e}(r.default);e.default=c,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(50))&&r.__esModule?r:{default:r};var i,a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e,n,r){void 0===n&&(n="tile"),void 0===r&&(r=void 0);var o=t.call(this,e,r)||this;return o._opts={},o._loadCounter={loading:0,loaded:0},o._type=n,o}return a(e,t),e.prototype.setUrl=function(t){this._opts.url=t,this.map&&this.invalidate()},e.prototype.setBounds=function(t){this._opts.bounds=t},e.prototype.invalidate=function(){var t=this,e=this.map;this.remove(),this._source=new ol.source.XYZ({url:this._opts.url}),this.layer=new ol.layer.Tile({source:this._source}),this._loadCounter={loading:0,loaded:0},this._source.on("tileloadstart",function(e){t._loadCounter.loading+=1}),this._source.on(["tileloadend","tileloaderror"],function(e){t._loadCounter.loaded+=1,t._loadCounter.loaded===t._loadCounter.loading&&t.trigger("load")}),e&&this.addTo(e,this._targetIndex)},e}(o.default);e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(3))&&r.__esModule?r:{default:r};var i,a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e,n,r){var o=t.call(this)||this;return o.data=n,o._coord=e,o._feature=new ol.Feature({geometry:new ol.geom.Point(ol.proj.fromLonLat([e.lon,e.lat]))}),o._layer=new ol.layer.Vector({source:new ol.source.Vector({features:[o._feature]}),zIndex:r?r.zIndex:null}),o}return a(e,t),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this._coord},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"feature",{get:function(){return this._feature},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer",{get:function(){return this._layer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"popup",{get:function(){return this._popup},enumerable:!0,configurable:!0}),e.prototype.setStyle=function(t){this.feature.setStyle(t)},e.prototype.setPopup=function(t){this._popup=t},e}(o.default);e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r};var i=function(){function t(t){if(document){var e=(0,o.default)('<div class="aeris__openlayers__popup"></div>');this._container=e,this._overlay=new ol.Overlay({insertFirst:!0,element:e[0],autoPan:!0,autoPanAnimation:{duration:250}}),t&&this.setCoordinate(t)}}return t.prototype.addTo=function(t){this._map=t,t.addOverlay(this._overlay);var e=this._container.width();e>0&&this._container.css({marginLeft:"-"+Math.round(e/2)+"px"})},t.prototype.remove=function(){this._map&&this._map.removeOverlay(this._overlay)},t.prototype.setCoordinate=function(t){var e=ol.proj.fromLonLat([t.lon,t.lat]),n=e[0],r=e[1];this._overlay.setPosition([Math.round(n),Math.round(r)])},t.prototype.setHTML=function(t){this._container.html(t)},t.prototype.setDOMContent=function(t){this._container.empty().append(t)},t.injectStyles=function(){(0,o.default)("head").append("<style type=\"text/css\">\n\t\t\t.aeris__openlayers__popup {\n\t\t\t\tbackground: #fff;\n\t\t\t\tborder-radius: 6px;\n\t\t\t\tbottom: 100%;\n\t\t\t\tcolor: #222;\n\t\t\t\tdisplay: block;\n\t\t\t\tfilter: drop-shadow(0 1px 4px rgba(0,0,0,0.2));\n\t\t\t\tfont-family: 'Helvetica','Arial',sans-serif;\n\t\t\t\tfont-size: 13px;\n\t\t\t\tfont-weight: normal;\n\t\t\t\tleft: 50%;\n\t\t\t\tline-height: 14px;\n\t\t\t\tmargin-bottom: 15px;\n\t\t\t\tmargin-left: -100px;\n\t\t\t\tmin-width: 120px;\n\t\t\t\tpadding: 8px 10px;\n\t\t\t\tpointer-events: none;\n\t\t\t\tposition: absolute;\n\t\t\t\ttransition: opacity .2s ease-out;\n\t\t\t\tz-index: 10000;\n\t\t\t\t-webkit-font-smoothing: antialiased\n\t\t\t}\n\n\t\t\t.aeris__openlayers__popup:after {\n\t\t\t\tborder-left: solid transparent 10px;\n\t\t\t\tborder-right: solid transparent 10px;\n\t\t\t\tborder-top: solid #fff 10px;\n\t\t\t\tbottom: -10px;\n\t\t\t\tcontent: \" \";\n\t\t\t\theight: 0;\n\t\t\t\tleft: 50%;\n\t\t\t\tmargin-left: -9px;\n\t\t\t\tposition: absolute;\n\t\t\t\twidth: 0\n\t\t\t}\n\t\t</style>")},t}();e.default=i,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n(108)),o=s(n(263)),i=s(n(264)),a=s(n(109));function s(t){return t&&t.__esModule?t:{default:t}}var u={Tile:r.default,Polygon:o.default,Polyline:i.default,Marker:a.default};e.default=u,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n(20)),o=n(1),i=n(12),a=s(n(113));function s(t){return t&&t.__esModule?t:{default:t}}var u,c=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return n.offset(0),o._overlay=new a.default(e),o.timestamp=o._opts.time,o.animation.provider=o,o.animation.on("reset",function(){o._loadingSource&&o.trigger("layer:remove",{layer:o._loadingSource.overlay})}),o}return c(e,t),Object.defineProperty(e.prototype,"overlay",{get:function(){return this._overlay},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timestamp",{set:function(t){t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()),this._timestamp&&t.getTime()===this._timestamp.getTime()||(this._timestamp=t,!1===this.isAnimationActive()&&this.updateVisibility(),this.overlay&&!1===this.overlay.isHidden&&this.canShow()&&this.overlay.setUrl(this.urlTemplate()))},enumerable:!0,configurable:!0}),e.prototype.show=function(){this._hidden=!1,this.overlay&&this.overlay.setOpacity(this._opacity)},e.prototype.hide=function(){this._hidden=!0,this.overlay&&this.overlay.setOpacity(0)},e.prototype.remove=function(){this.trigger("layer:remove",{layer:this.overlay})},e.prototype.setOpacity=function(t){this._opacity=t,this.overlay&&this.overlay.setOpacity(t)},e.prototype.setOrder=function(t){console.warn("[Aeris] - Google Maps does not currently support changing the zIndex for an existing tile layer"),this.node&&this.node instanceof HTMLElement&&(this.node.style.zIndex=t.toString())},e.prototype.animationLayerForDate=function(t,e){var n=this;return new Promise(function(t,r){if(n.dataSource){var a=n.dataSource.tileLayer(n.key,e,(0,o.extend)({},n._opts,{id:n.identifier+"-anim-"+(0,i.mapTimestampFromDate)(e)}));a.setOpacity(n._opacity),a.hide(),n._loadingSource=a,a.overlay.on("load",function(){n._loadingSource=null,t(a)}),a.on("layer:remove",function(){n.trigger("layer:remove",{layer:a.overlay})}),n.trigger("layer:add",{layer:a.overlay})}else r(new Error("No map strategy data source provided"))})},e}(r.default);e.default=l,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(267))&&r.__esModule?r:{default:r},i=n(1);var a,s=(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e,n){void 0===n&&(n=void 0);var r=t.call(this,e,n)||this;return r._opts={},r._opts.opacity=1,r._layer=new google.maps.ImageMapType({tileSize:new google.maps.Size(256,256),getTileUrl:function(t,e){var n=r._opts.url;if(!(0,i.isset)(n))return null;var o={x:t.x,y:t.y,z:e};return Object.keys(o).forEach(function(t){n=n.replace(new RegExp("{"+t+"}"),""+o[t])}),n}}),r._layer.addListener("tilesloaded",function(){r.trigger("load",{overlay:r._layer})}),r}return s(e,t),Object.defineProperty(e.prototype,"layer",{get:function(){return this._layer},enumerable:!0,configurable:!0}),e.prototype.setUrl=function(t){this._opts.url=t,this.map&&this.invalidate()},e.prototype.addTo=function(e,n){t.prototype.addTo.call(this,e),this.map.overlayMapTypes.push(this.layer)},e.prototype.remove=function(){if(this.map){var e=this.map.overlayMapTypes.getArray().indexOf(this.layer);-1!==e&&this.map.overlayMapTypes.removeAt(e)}t.prototype.remove.call(this)},e.prototype.show=function(){t.prototype.show.call(this),this.layer&&this.layer.setOpacity(this._opts.opacity)},e.prototype.hide=function(){t.prototype.hide.call(this),this.layer&&this.layer.setOpacity(0)},e.prototype.setOpacity=function(t){this._opts.opacity=t,this.layer&&this.layer.setOpacity(t)},e.prototype.setZIndex=function(t){console.warn("[Aeris] - Google Maps does not currently support changing the zIndex for an existing tile layer")},e.prototype.invalidate=function(){var t=this,e=this.map;this.remove(),setTimeout(function(){t.addTo(e)},200)},e}(o.default);e.default=u,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n(54)),o=n(1),i=n(8),a=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}var u,c=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e){return e=(0,o.extend)({filter:!1,multiselect:!1,ui:{all:".awxjs__ui-btn-segmented__option-all",segments:".awxjs__ui-btn-segments"}},e,{className:e.className?"ui-btn-segmented "+e.className:"ui-btn-segmented"}),t.call(this,e)||this}return c(e,t),Object.defineProperty(e.prototype,"value",{get:function(){var t=this.selectedSegment();return t&&!1===this.opts.filter?t.split(";"):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFilter",{get:function(){return this.opts.filter},enumerable:!0,configurable:!0}),e.prototype.segments=function(){return(0,a.default)("li",this.ui.segments).map(function(t){return(0,a.default)(t).attr("data-value")})},e.prototype.selectSegment=function(t,e){void 0===e&&(e=!0);var n=!1,r=(0,a.default)("li",this.ui.segments);r&&r.length>0&&r.forEach(function(e){var r=(0,a.default)(e);r.attr("data-value")!==t&&r.attr("data-id")!==t||(r.click(),n=!0)}),n&&e&&this.select()},e.prototype.selectedSegment=function(){return this.$el.attr("data-value")},e.prototype._onSelect=function(){this.trigger("select",{id:this.id,value:this.value,options:(0,o.cloneDeep)(this.opts.options),filter:this.opts.filter,multiselect:this.opts.multiselect})},e.prototype._onDeselect=function(){this.trigger("deselect",{id:this.id,value:this.value,filter:this.opts.filter,multiselect:this.opts.multiselect})},e.prototype._render=function(e){var n=t.prototype._render.call(this,e),r=[];return this.opts.segments&&(r=(this.opts.segments||[]).map(function(t){var e=t.value.replace(/\:.+$/,""),n=!(0,o.isset)(t.multiselect)||t.multiselect;return'<li data-id="'+e+'" data-value="'+t.value+'" data-multiselect="'+n+'"'+("all"===t.value?' class="awxjs__ui-btn-segmented__option-all"':"")+">"+t.title+"</li>"})),n+'<div class="'+i.Globals.cssPrefix+'ui-btn-segments"><ul>'+r.join("")+"</ul></div>"},e.prototype._setupEvents=function(){var e=this;t.prototype._setupEvents.call(this),this.on("select",function(){e._showSegments(!0)}).on("deselect",function(){e._showSegments(!1)}),(0,a.default)("li",this.$el).on("click",function(t){e._handleClick(t)})},e.prototype._handleClick=function(t){t.stopPropagation();var e=(0,a.default)(t.target),n=this.selectedSegment(),r=e.attr("data-value"),i=(0,o.toBool)(e.attr("data-multiselect")),s=this.opts.options;if(this.opts.segments.forEach(function(t){t.value===r&&(s=t.options||s)}),s&&(s=(0,o.cloneDeep)(s)),this.opts.multiselect){"all"===r||!1===i?((0,a.default)("li",this.$el).removeClass("selected"),e.addClass("selected")):((0,a.default)("li",this.$el).forEach(function(t){var e=(0,a.default)(t);!1===(0,o.toBool)(e.attr("data-multiselect"))&&e.removeClass("selected")}),this.ui.all&&this.ui.all.removeClass("selected"),e.hasClass("selected")?e.removeClass("selected"):e.addClass("selected"));var u=(0,a.default)("li.selected",this.$el);if(0===u.length){if(this.ui.all)this.ui.all.addClass("selected");else{var c=!1;(0,a.default)("li",this.$el).forEach(function(t){if(!c){var e=(0,a.default)(t);!1===(0,o.toBool)(e.attr("data-multiselect"))&&(e.addClass("selected"),c=!0)}})}u=(0,a.default)("li.selected",this.$el)}var l=u.map(function(t){return(0,a.default)(t).attr("data-value")});this.$el.attr("data-value",l.join(";")),this.opts.filter&&(l=l.join(";")),this.trigger("value:change",{id:this.id,value:l,previous:(n||"").split(";"),options:s,filter:this.opts.filter,multiselect:this.opts.multiselect})}else this.$el.attr("data-value",r),r!==n&&((0,a.default)("li",this.$el).removeClass("selected"),e.addClass("selected"),this.trigger("value:change",{id:this.id,value:r,previous:n,options:s,filter:this.opts.filter,multiselect:this.opts.multiselect}))},e.prototype._showSegments=function(t){var e=this.selectedSegment(),n=t?e:null,r=!1===t?e:null,o=this.opts.options;if(this.opts.segments&&this.opts.segments.forEach(function(t){t.value===n&&(o=t.options||o)}),e)this.trigger("value:change",{id:this.id,value:n,previous:r,options:o,filter:this.opts.filter});else{var i=(0,a.default)("li.selected",this.ui.segments);t&&0===i.length&&(0,a.default)("li",this.ui.segments)[0].click()}var s=t?(0,a.default)("ul",this.ui.segments).height():0;this.ui.segments.css({"max-height":s+"px"})},e}(r.default);e.default=l,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=n(7),i=(r=n(24))&&r.__esModule?r:{default:r},a=n(298),s=n(1),u=n(5);var c,l=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p={place:{data:function(t){return t?(t=t.places||t).place:null},renderer:function(t){return t?'\n\t\t\t\t<div class="place">\n\t\t\t\t\t<p class="name">'+t.name+((0,s.isEmpty)(t.state)?"":", "+t.state)+", "+t.country+"</p>\n\t\t\t\t</div>\n\t\t\t":null}},obs:{data:function(t){return t?(t=t.observations||t).ob:null},renderer:function(t){if((0,s.isEmpty)(t))return null;var e=(0,s.dateFromISO)(t.dateTimeISO);return'\n\t\t\t\t<div class="obs">\n\t\t\t\t\t<p class="timestamp">Last updated at '+(0,o.format)(e,"h:mm a, MMM D, YYYY")+'</p>\n\t\t\t\t\t<div class="awxjs__ui-cols">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class="awxjs__ui-cols">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<p class="temp">'+t.tempF+'<span>&deg;F</span></p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<img class="icon" src="https://cdn.aerisapi.com/wxblox/icons/'+(t.icon||"na.png")+'">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p class="wx">'+t.weatherPrimary+'</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="details">\n\t\t\t\t\t\t\t<div class="awxjs__ui-row">\n\t\t\t\t\t\t\t\t<div>Winds</div>\n\t\t\t\t\t\t\t\t<div>'+(t.windSpeedMPH>0?t.windSpeedMPH+" mph":"Calm")+'</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="awxjs__ui-row">\n\t\t\t\t\t\t\t\t<div>Dew Point</div>\n\t\t\t\t\t\t\t\t<div>'+(t.dewpointF||"N/A")+'&deg;F</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="awxjs__ui-row">\n\t\t\t\t\t\t\t\t<div>Humidity</div>\n\t\t\t\t\t\t\t\t<div>'+(t.humidity||"N/A")+'%</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="awxjs__ui-row">\n\t\t\t\t\t\t\t\t<div>Pressure</div>\n\t\t\t\t\t\t\t\t<div>'+(t.pressureIN||"N/A")+' in.</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="awxjs__ui-row">\n\t\t\t\t\t\t\t\t<div>Visibility</div>\n\t\t\t\t\t\t\t\t<div>'+(t.visibilityMI||"N/A")+' mi</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="awxjs__ui-row">\n\t\t\t\t\t\t\t\t<div>Sky Cover</div>\n\t\t\t\t\t\t\t\t<div>'+(t.sky||"N/A")+"%</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"}},forecast:{data:function(t){return t?(t=t.forecasts||t)?(t[0]&&(t=t[0]),t.periods):t:null},renderer:function(t){return(0,s.isEmpty)(t)||!(0,s.isArray)(t)?null:t.map(function(t){var e=(0,s.dateFromISO)(t.dateTimeISO),n="Calm";return t.windSpeedMaxMPH>5?n=(0,s.toRangeStr)(t.windSpeedMinMPH,t.windSpeedMaxMPH,5)+" mph":t.windSpeedMaxMPH<5&&t.windSpeedMinMPH>0&&(n="< 5 mph"),'\n\t\t\t\t\t<div class="forecasts">\n\t\t\t\t\t\t<div class="period">\n\t\t\t\t\t\t\t<div class="awxjs__ui-cols align-center">\n\t\t\t\t\t\t\t\t<div class="ts">'+(0,o.format)(e,"h a")+'</div>\n\t\t\t\t\t\t\t\t<div><img class="icon" src="https://cdn.aerisapi.com/wxblox/icons/'+(t.icon||"na.png")+'"></div>\n\t\t\t\t\t\t\t\t<div class="temp">'+t.tempF+'<span>&deg;F</span></div>\n\t\t\t\t\t\t\t\t<div class="conditions">\n\t\t\t\t\t\t\t\t\t<p class="wx">'+t.weatherPrimary+'</p>\n\t\t\t\t\t\t\t\t\t<p class="detail"><span>Winds</span> '+n+"</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t"}).join("")}},alerts:{data:function(t){if(!t)return null;var e=(0,s.get)(t,"places.profile");return t.alerts&&(t=t.alerts),(0,s.isArray)(t)?t.map(function(t){return(0,s.extend)(t,{profile:e})}):null},renderer:function(t){return t&&(0,s.isArray)(t)?'<div class="alerts">'+t.map(function(t){var e="",n=t.timestamps;if(n){var r=(0,s.get)(t,"profile.tzoffset")?1e3*(0,s.get)(t,"profile.tzoffset"):0,i=6e4*(new Date).getTimezoneOffset()+r,a=(0,s.get)(t,"profile.tzname")||"",c=new Date((new Date).getTime()+i),l=new Date(new Date(1e3*n.begins).getTime()+i),p=new Date(new Date(1e3*n.expires).getTime()+i),f="h:mm a ["+a+"], ddd M/D";e=l.getTime()<c.getTime()?" until "+(0,o.format)(p,f):" from "+(0,o.format)(l,f)+" until "+(0,o.format)(p,f)}return'<p class="alert-row"><span class="name"><strong>'+(0,u.ucwords)(t.details.name.toLowerCase())+"</strong></span><br>"+e+"</p>"}).join("")+"</div>":null}},threats:{data:function(t){return t&&(t=t.threats||t)&&(0,s.isArray)(t)?0===(t=t.filter(function(t){return void 0!==t.storm})).length?null:t:null},renderer:function(t){return t&&(0,s.isArray)(t)?0===t.length?null:t.map(function(t){return'<div class="threats"><p class="threat-row">'+t.phrase.long+"</p></div>"}).join(""):null}},outlook:{data:function(t){return t?(t=t.phrases_summary||t)[0]:null},renderer:function(t){var e=(0,s.get)(t,"phrases.long");return e?'<div class="outlook"><p>'+e+"</p></div>":null}},hazards:{data:function(t){if(!t)return null;var e=(0,s.get)(t,"observations.ob")||{},n=(0,s.get)(t,"forecasts"),r=(0,s.get)(t,"convective_outlook_contains"),o=(0,s.get)(t,"lightning_summary_closest"),i=[];if(n&&n.length>0){var a=n[0].periods,u=0,c=0,l=0,p=0;e&&e.tempF<=30&&!1===/snow/.test(e.weatherPrimary)&&(p+=e.precipIN),a.forEach(function(t){u+=t.snowIN,l=Math.max(l,t.windGustMPH),t.tempF>=30&&(c+=t.precipIN),t.tempF>=28&&t.tempF<=32&&(p+=t.precipIN)}),i.push({type:"snow",name:"Snow",value:u}),i.push({type:"ice",name:"Ice",value:p}),i.push({type:"rain",name:"Rain",value:c}),i.push({type:"wind",name:"Wind",value:l})}if(r&&r.length>0){var f=r[0].details.risk;i.push({type:"convective",name:"Convective",value:f.type})}else i.push({type:"convective",name:"Convective",value:"none"});if(o){var d=(0,s.get)(o[0]||o,"summary.pulse.count");i.push({type:"lightning",name:"Lightning",value:d})}else i.push({type:"lightning",name:"Lightning",value:0});return i},renderer:function(t){return t&&(0,s.isArray)(t)?'<div class="hazards">'+t.map(function(t){var e=(0,a.valueForIndice)(t.type,t.value)||0,n=Math.round(e/5*1e3)/10,r=(""+e).replace(/\./g,"p"),o="None";return n>=80?o="Major":n>=60?o="High":n>=40?o="Moderate":n>=20?o="Low":n>0&&(o="Minimal"),'\n\t\t\t\t\t<div class="hazard awxjs__ui-cols align-center">\n\t\t\t\t\t\t<div class="label">'+t.name+'</div>\n\t\t\t\t\t\t<div class="bar">\n\t\t\t\t\t\t\t<div class="bar-inner">\n\t\t\t\t\t\t\t\t<div class="progress indice-value-'+r+'" style="width:'+n+'%;"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="value indice-value-'+r+'">'+o+"</div>\n\t\t\t\t\t</div>\n\t\t\t\t"}).join("")+"</div>":null}}},f=function(t){function e(n,r){if(n=(0,s.extend)({},n,{className:n.className?"app__ui-panel-info__view "+n.className:"app__ui-panel-info__view"}),(0,s.isString)(n.renderer)){var o=e.getSection(n.renderer);o&&(n=(0,s.extend)({},o,n,{renderer:o.renderer}))}var i=Object.keys(p).reduce(function(t,e){return t[e]=p[e].renderer,t},{});if(n.renderer){var a=n.title?"<h3>"+n.title+"</h3>":"";if((0,s.isFunction)(n.renderer)){var u=n.renderer;n.renderer=function(t){return(0,s.isset)(t)?"\n\t\t\t\t\t\t\t"+a+"\n\t\t\t\t\t\t\t"+u(t,i)+"\n\t\t\t\t\t\t":""}}else(0,s.isString)(n.renderer)&&(n.renderer="\n\t\t\t\t\t"+a+"\n\t\t\t\t\t"+n.renderer+"\n\t\t\t\t")}return t.call(this,n,r)||this}return l(e,t),e.setSection=function(t,e){p[t]=e},e.getSection=function(t){return p[t]},e.cached=p,e}(i.default);e.default=f,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(3)),o=n(1),i=a(n(2));function a(t){return t&&t.__esModule?t:{default:t}}var s,u,c=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){var e=t?t.document:null,n=e?e.defaultView||e.parentWindow:null;return!!(t&&"object"==typeof t&&"object"==typeof t.window&&t.window===t&&t.setTimeout&&t.alert&&(0,o.isset)(e)&&"object"==typeof e&&(0,o.isset)(n)&&"object"==typeof n&&n===t)},p=function(t,e){var n=l(t),r=n?t.document:t.ownerDocument||t,o=r.documentElement,i=l(e)?e:r.defaultView||window;t===r&&(t=o),e=e&&e!==r?e:o;var a=(i.pageYOffset||o.scrollTop)-o.clientTop,s=(i.pageXOffset||o.scrollLeft)-o.clientLeft,u={top:0,left:0,right:0,bottom:0,width:0,height:0};if(n)u.width=i.innerWidth||o.clientWidth,u.height=i.innerHeight||o.clientHeight,u.right=u.width,u.bottom=u.height;else if(t===o)u.top=-a,u.left=-s,u.width=Math.max(o.clientWidth,o.scrollWidth),u.height=Math.max(o.clientHeight,o.scrollHeight),u.right=u.width-s,u.bottom=u.height-a;else{if(!o.contains(t)||!t.getBoundingClientRect)return null;var c=t.getBoundingClientRect();Object.keys(u).forEach(function(t){u[t]=c[t]}),u.width=u.right-u.left,u.height=u.bottom-u.top}if(e===i)return u;if(u.top+=a,u.left+=s,u.right+=s,u.bottom+=a,e===o)return u;var f=p(e);return u.left-=f.left,u.right-=f.left,u.top-=f.top,u.bottom-=f.top,u},f=function(t){function e(e,n){var r=t.call(this)||this;return r._reposition=function(){(window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,17)})(function(){r.position()})},r._opts=(0,o.extend)({place:"top",effect:"slide",spacing:5},n),r._hidden=!0,r._element=(0,i.default)('<div class="awxjs__ui-tooltip"></div>'),r._opts.className&&r.$el.addClass(r._opts.className),r._opts.effect&&r.$el.addClass(r._opts.effect),e&&r.setContent(e),r}return c(e,t),Object.defineProperty(e.prototype,"$el",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return!1===this._hidden},enumerable:!0,configurable:!0}),e.prototype.show=function(t){var e=this;return void 0===t&&(t=!0),clearTimeout(this._hideTimeout),u&&t&&(u.hide(),u=this),this._target&&this.position(this._target),this._hidden&&(this._hidden=!1,(0,i.default)("body").append(this.$el)),(0,i.default)(window).on("scroll resize",this._reposition),setTimeout(function(){e.$el.addClass("in")},100),this},e.prototype.hide=function(){var t=this;if(this._hidden)return this;this.$el.removeClass("in"),(0,i.default)(window).off("scroll resize",this._reposition),clearTimeout(this._hideTimeout);var e,n,r,o,a=(e=this.$el[0],n=window.getComputedStyle(e),r=String(n.getPropertyValue("transition-duration")||n.getPropertyValue("-webkit-transition-duration")).match(/([0-9.]+)([ms]{1,2})/),o=0,r&&(o=Number(r[1]),"s"===r[2]&&(o*=1e3)),o||0);return this._hideTimeout=setTimeout(function(){t.$el.remove()},a),this._hidden=!0,this},e.prototype.toggle=function(){return this.visible?this.hide():this.show()},e.prototype.setContent=function(t){return(0,o.isString)(t)?this.$el.html(t):this.$el.empty().append(t),this._updateSize(),this},e.prototype.attachTo=function(t){return this._target=t,this._hidden||this.position(),this},e.prototype.detach=function(){return this.hide(),this._target=null,this},e.prototype.position=function(t,e){t=this._target||t,!(0,o.isset)(t)&&this._p?(t=this._p[0],e=this._p[1]):(this._p=[],t&&this._p.push(t),e&&this._p.push(e)),t=t[0]||t;var n=(0,o.isNumber)(t)?{left:t||0,right:t||0,top:e||0,bottom:e||0,width:0,height:0}:p(t);if(!n)return this;var r=this._opts.spacing||0,i=this._pickPlace(n);i!==this._lastPlace&&(this._lastPlace&&this.$el.removeClass(this._lastPlace),this.$el.addClass(i),this._lastPlace=i);var a=this._lastPlace,s=this.size,u=s.width,c=s.height,l=0,f=0;return/^top/.test(a)?l=n.top-c-r:/^bottom/.test(a)?l=n.bottom+r:/^left/.test(a)?f=n.left-u-r:/^right/.test(a)&&(f=n.right+r),/-left$/.test(a)?f=n.right-u:/-right$/.test(a)?f=n.left:/-top$/.test(a)?l=n.bottom-c:/-bottom$/.test(a)&&(l=n.top),"left"===a||"right"===a?l=n.top+n.height/2-c/2:"top"!==a&&"bottom"!==a||(f=n.left+n.width/2-u/2),this.$el.css({top:Math.round(l)+"px",left:Math.round(f)+"px"}),this},e.prototype._updateSize=function(){this._hidden&&(this.$el.css("visibility","hidden"),(0,i.default)("body").append(this.$el)),this._size={width:this.$el.outerWidth(!0),height:this.$el.outerHeight(!0)},this._hidden?(this.$el.remove(),this.$el.css("visibility","")):this.position()},e.prototype._pickPlace=function(t){var e=p(window),n=this._opts.place.split("-"),r=this._opts.spacing||0;if(-1!==["top","bottom"].indexOf(n[0]))switch(t.top-this.size.height-r<=e.top?n[0]="bottom":t.bottom+this.size.height+r>=e.bottom&&(n[0]="top"),n[1]){case"left":t.right-this.size.width<=e.left&&(n[1]="right");break;case"right":t.left+this.size.width>=e.right&&(n[1]="left");break;default:t.left+t.width/2+this.size.width/2>=e.right?n[1]="left":t.right-t.width/2-this.size.width/2<=e.left&&(n[1]="right")}else switch(t.left-this.size.width-r<=e.left?n[0]="right":t.right+this.size.width+r>=e.right&&(n[0]="left"),n[1]){case"top":t.bottom-this.size.height<=e.top&&(n[1]="bottom");break;case"bottom":t.top+this.size.height>=e.bottom&&(n[1]="top");break;default:t.top+t.height/2+this.size.height/2>=e.bottom?n[1]="top":t.bottom-t.height/2-this.size.height/2<=e.top&&(n[1]="bottom")}return n.join("-")},e}(r.default);e.default=f,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scrollBarWidth=e.windowSize=void 0;e.windowSize=function(){return document&&window?{width:Math.max(document.documentElement.clientWidth,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}:null};e.scrollBarWidth=function(){var t=document.createElement("div");t.style.height="100px",t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.width="100px",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(7),o=l(n(222)),i=p(n(1)),a=p(n(5)),s=p(n(96)),u=l(n(2)),c=n(8);function l(t){return t&&t.__esModule?t:{default:t}}function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}var f=function(){return(f=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},d=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},h=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},y=function(t){return!1===i.isEmpty(t)&&i.isString(t)&&!1===/_/.test(t)},m=function(){function t(t,e,n){if(!y(t)||!y(e)){var r=new Error("AerisWeather must be initialized with valid access keys. Refer to https://www.aerisweather.com/support/docs/api/getting-started/ for more information.");throw console.error(r.message),r}this._account=new o.default(t,e),this._servers=n||c.servers,this._account.servers=this._servers}return Object.defineProperty(t.prototype,"utils",{get:function(){return f({$:u.default},i,{strings:f({},a),colors:f({},s),dates:{format:r.format,parse:r.parse}})},enumerable:!0,configurable:!0}),t.prototype.account=function(){return this._account},t.prototype.servers=function(){return this._servers},t.prototype.api=function(){return this.account().api()},t.prototype.map=function(){return this.account().map()},t.prototype.views=function(t){return d(this,void 0,void 0,function(){var e,r=this;return h(this,function(o){switch(o.label){case 0:return[4,Promise.resolve().then(()=>p(n(247)))];case 1:return e=o.sent(),[2,new Promise(function(n,o){var i=e.Views;i.setAccount(r.account()),i.setServers(r.servers()),n(e.Views),t&&t(e.Views)}).catch(function(t){console.error("AerisWeather.Views - ERROR",t)})]}})})},t.prototype.apps=function(t){return d(this,void 0,void 0,function(){var e,r=this;return h(this,function(o){switch(o.label){case 0:return[4,Promise.resolve().then(()=>p(n(292)))];case 1:return e=o.sent(),[2,new Promise(function(n,o){var i=e.Apps;i.setAccount(r.account()),i.setServers(r.servers()),n(e.Apps),t&&t(e.Apps)}).catch(function(t){console.error("AerisWeather.Apps - ERROR",t)})]}})})},t}();e.default=m,t.exports=e.default},function(t,e,n){"use strict";n.r(e);var r=n(118),o=n.n(r);document.addEventListener("DOMContentLoaded",function(){const t=new o.a("45yv8VupfeOkKylvazTSa","sPoCW1N6z7BMpwkWkbrXDFbytIWtWVX47BdNwNJx"),e={map:{strategy:"mapbox",zoom:4,accessToken:"pk.eyJ1IjoiYWtoYXJzaGFuIiwiYSI6ImNqdjc3djJ0NTA2bWQ0ZG43NG9kOW1vY2QifQ.Jd8slO88s1PSDZpl952f3Q"},panels:{layers:{buttons:[{id:"tropical-cyclones",value:"tropical-cyclones",title:"cyclones"},{id:"satellite",value:"satellite:75",title:"Satellite"},{id:"alerts",value:"alerts",title:"Alerts"}]},timeline:{enabled:!0,position:{pin:"bottom",translate:{y:-5,x:5}},range:{value:[-24,72],range:{min:-48,max:120}}}}};return t.apps().then(t=>{new t.InteractiveMapApp(document.getElementById("root"),e)})})},function(t,e){t.exports=function(t){var e=new Date(t.getTime()),n=e.getTimezoneOffset();return e.setSeconds(0,0),6e4*n+e.getTime()%6e4}},function(t,e,n){var r=n(0);t.exports=function(t,e,n,o){var i=r(t).getTime(),a=r(e).getTime(),s=r(n).getTime(),u=r(o).getTime();if(i>a||s>u)throw new Error("The start of the range cannot be after the end of the range");return i<u&&s<a}},function(t,e,n){var r=n(0);t.exports=function(t,e){if(!(e instanceof Array))throw new TypeError(toString.call(e)+" is not an instance of Array");var n,o,i=r(t).getTime();return e.forEach(function(t,e){var a=r(t),s=Math.abs(i-a.getTime());(void 0===n||s<o)&&(n=e,o=s)}),n}},function(t,e,n){var r=n(0);t.exports=function(t,e){if(!(e instanceof Array))throw new TypeError(toString.call(e)+" is not an instance of Array");var n,o,i=r(t).getTime();return e.forEach(function(t){var e=r(t),a=Math.abs(i-e.getTime());(void 0===n||a<o)&&(n=e,o=a)}),n}},function(t,e,n){var r=n(10),o=6e4,i=6048e5;t.exports=function(t,e){var n=r(t),a=r(e),s=n.getTime()-n.getTimezoneOffset()*o,u=a.getTime()-a.getTimezoneOffset()*o;return Math.round((s-u)/i)}},function(t,e,n){var r=n(64),o=n(0);t.exports=function(t,e){var n=o(t),i=o(e);return 4*(n.getFullYear()-i.getFullYear())+(r(n)-r(i))}},function(t,e,n){var r=n(25),o=6e4,i=6048e5;t.exports=function(t,e,n){var a=r(t,n),s=r(e,n),u=a.getTime()-a.getTimezoneOffset()*o,c=s.getTime()-s.getTimezoneOffset()*o;return Math.round((u-c)/i)}},function(t,e,n){var r=n(28),o=36e5;t.exports=function(t,e){var n=r(t,e)/o;return n>0?Math.floor(n):Math.ceil(n)}},function(t,e,n){var r=n(0),o=n(62),i=n(17),a=n(67);t.exports=function(t,e){var n=r(t),s=r(e),u=i(n,s),c=Math.abs(o(n,s));return n=a(n,u*c),u*(c-(i(n,s)===-u))}},function(t,e,n){var r=n(28),o=6e4;t.exports=function(t,e){var n=r(t,e)/o;return n>0?Math.floor(n):Math.ceil(n)}},function(t,e,n){var r=n(38);t.exports=function(t,e){var n=r(t,e)/3;return n>0?Math.floor(n):Math.ceil(n)}},function(t,e,n){var r=n(66);t.exports=function(t,e){var n=r(t,e)/7;return n>0?Math.floor(n):Math.ceil(n)}},function(t,e,n){var r=n(0),o=n(65),i=n(17);t.exports=function(t,e){var n=r(t),a=r(e),s=i(n,a),u=Math.abs(o(n,a));return n.setFullYear(n.getFullYear()-s*u),s*(u-(i(n,a)===-s))}},function(t,e){t.exports=function(){var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(e,n,r){var o;return r=r||{},o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"in "+o:o+" ago":o}}}},function(t,e,n){var r=n(135);t.exports=function(){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["AM","PM"],s=["am","pm"],u=["a.m.","p.m."],c={MMM:function(e){return t[e.getMonth()]},MMMM:function(t){return e[t.getMonth()]},dd:function(t){return n[t.getDay()]},ddd:function(t){return o[t.getDay()]},dddd:function(t){return i[t.getDay()]},A:function(t){return t.getHours()/12>=1?a[1]:a[0]},a:function(t){return t.getHours()/12>=1?s[1]:s[0]},aa:function(t){return t.getHours()/12>=1?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(t){c[t+"o"]=function(e,n){return function(t){var e=t%100;if(e>20||e<10)switch(e%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"}(n[t](e))}}),{formatters:c,formattingTokensRegExp:r(c)}}},function(t,e){var n=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];t.exports=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);var o=n.concat(e).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+o.join("|")+"|.)","g")}},function(t,e,n){var r=n(37),o=n(0),i=n(39),a=n(40),s=1440,u=43200,c=525600;t.exports=function(t,e,n){var l=n||{},p=r(t,e),f=l.locale,d=a.distanceInWords.localize;f&&f.distanceInWords&&f.distanceInWords.localize&&(d=f.distanceInWords.localize);var h,y,m,v={addSuffix:Boolean(l.addSuffix),comparison:p};p>0?(h=o(t),y=o(e)):(h=o(e),y=o(t));var g=Math[l.partialMethod?String(l.partialMethod):"floor"],_=i(y,h),b=y.getTimezoneOffset()-h.getTimezoneOffset(),w=g(_/60)-b;if("s"===(m=l.unit?String(l.unit):w<1?"s":w<60?"m":w<s?"h":w<u?"d":w<c?"M":"Y"))return d("xSeconds",_,v);if("m"===m)return d("xMinutes",w,v);if("h"===m)return d("xHours",g(w/60),v);if("d"===m)return d("xDays",g(w/s),v);if("M"===m)return d("xMonths",g(w/u),v);if("Y"===m)return d("xYears",g(w/c),v);throw new Error("Unknown unit: "+m)}},function(t,e,n){var r=n(68);t.exports=function(t,e){return r(Date.now(),t,e)}},function(t,e,n){var r=n(0);t.exports=function(t,e,n){var o=r(t),i=void 0!==n?n:1,a=r(e).getTime();if(o.getTime()>a)throw new Error("The first date cannot be after the second date");var s=[],u=o;for(u.setHours(0,0,0,0);u.getTime()<=a;)s.push(r(u)),u.setDate(u.getDate()+i);return s}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t);return e.setMinutes(59,59,999),e}},function(t,e,n){var r=n(69);t.exports=function(t){return r(t,{weekStartsOn:1})}},function(t,e,n){var r=n(9),o=n(10);t.exports=function(t){var e=r(t),n=new Date(0);n.setFullYear(e+1,0,4),n.setHours(0,0,0,0);var i=o(n);return i.setMilliseconds(i.getMilliseconds()-1),i}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t);return e.setSeconds(59,999),e}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t),n=e.getMonth(),o=n-n%3+3;return e.setMonth(o,0),e.setHours(23,59,59,999),e}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t);return e.setMilliseconds(999),e}},function(t,e,n){var r=n(41);t.exports=function(){return r(new Date)}},function(t,e){t.exports=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),r=t.getDate(),o=new Date(0);return o.setFullYear(e,n,r+1),o.setHours(23,59,59,999),o}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}},function(t,e){t.exports=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),r=t.getDate(),o=new Date(0);return o.setFullYear(e,n,r-1),o.setHours(23,59,59,999),o}},function(t,e,n){var r=n(71),o=n(42),i=n(9),a=n(0),s=n(73),u=n(40);var c={M:function(t){return t.getMonth()+1},MM:function(t){return f(t.getMonth()+1,2)},Q:function(t){return Math.ceil((t.getMonth()+1)/3)},D:function(t){return t.getDate()},DD:function(t){return f(t.getDate(),2)},DDD:function(t){return r(t)},DDDD:function(t){return f(r(t),3)},d:function(t){return t.getDay()},E:function(t){return t.getDay()||7},W:function(t){return o(t)},WW:function(t){return f(o(t),2)},YY:function(t){return f(t.getFullYear(),4).substr(2)},YYYY:function(t){return f(t.getFullYear(),4)},GG:function(t){return String(i(t)).substr(2)},GGGG:function(t){return i(t)},H:function(t){return t.getHours()},HH:function(t){return f(t.getHours(),2)},h:function(t){var e=t.getHours();return 0===e?12:e>12?e%12:e},hh:function(t){return f(c.h(t),2)},m:function(t){return t.getMinutes()},mm:function(t){return f(t.getMinutes(),2)},s:function(t){return t.getSeconds()},ss:function(t){return f(t.getSeconds(),2)},S:function(t){return Math.floor(t.getMilliseconds()/100)},SS:function(t){return f(Math.floor(t.getMilliseconds()/10),2)},SSS:function(t){return f(t.getMilliseconds(),3)},Z:function(t){return p(t.getTimezoneOffset(),":")},ZZ:function(t){return p(t.getTimezoneOffset())},X:function(t){return Math.floor(t.getTime()/1e3)},x:function(t){return t.getTime()}};function l(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|]$/g,""):t.replace(/\\/g,"")}function p(t,e){e=e||"";var n=t>0?"-":"+",r=Math.abs(t),o=r%60;return n+f(Math.floor(r/60),2)+e+f(o,2)}function f(t,e){for(var n=Math.abs(t).toString();n.length<e;)n="0"+n;return n}t.exports=function(t,e,n){var r=e?String(e):"YYYY-MM-DDTHH:mm:ss.SSSZ",o=(n||{}).locale,i=u.format.formatters,p=u.format.formattingTokensRegExp;o&&o.format&&o.format.formatters&&(i=o.format.formatters,o.format.formattingTokensRegExp&&(p=o.format.formattingTokensRegExp));var f=a(t);return s(f)?function(t,e,n){var r,o,i=t.match(n),a=i.length;for(r=0;r<a;r++)o=e[i[r]]||c[i[r]],i[r]=o||l(i[r]);return function(t){for(var e="",n=0;n<a;n++)i[n]instanceof Function?e+=i[n](t,c):e+=i[n];return e}}(r,i,p)(f):"Invalid Date"}},function(t,e,n){var r=n(0);t.exports=function(t){return r(t).getDate()}},function(t,e,n){var r=n(0);t.exports=function(t){return r(t).getDay()}},function(t,e,n){var r=n(74);t.exports=function(t){return r(t)?366:365}},function(t,e,n){var r=n(0);t.exports=function(t){return r(t).getHours()}},function(t,e,n){var r=n(16),o=n(36),i=6048e5;t.exports=function(t){var e=r(t),n=r(o(e,60)).valueOf()-e.valueOf();return Math.round(n/i)}},function(t,e,n){var r=n(0);t.exports=function(t){return r(t).getMilliseconds()}},function(t,e,n){var r=n(0);t.exports=function(t){return r(t).getMinutes()}},function(t,e,n){var r=n(0);t.exports=function(t){return r(t).getMonth()}},function(t,e,n){var r=n(0),o=864e5;t.exports=function(t,e,n,i){var a=r(t).getTime(),s=r(e).getTime(),u=r(n).getTime(),c=r(i).getTime();if(a>s||u>c)throw new Error("The start of the range cannot be after the end of the range");if(!(a<c&&u<s))return 0;var l=(c>s?s:c)-(u<a?a:u);return Math.ceil(l/o)}},function(t,e,n){var r=n(0);t.exports=function(t){return r(t).getSeconds()}},function(t,e,n){var r=n(0);t.exports=function(t){return r(t).getTime()}},function(t,e,n){var r=n(0);t.exports=function(t){return r(t).getFullYear()}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=r(e);return n.getTime()>o.getTime()}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=r(e);return n.getTime()<o.getTime()}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=r(e);return n.getTime()===o.getTime()}},function(t,e,n){var r=n(0);t.exports=function(t){return 1===r(t).getDate()}},function(t,e,n){var r=n(0);t.exports=function(t){return 5===r(t).getDay()}},function(t,e,n){var r=n(0);t.exports=function(t){return r(t).getTime()>(new Date).getTime()}},function(t,e,n){var r=n(0),o=n(41),i=n(70);t.exports=function(t){var e=r(t);return o(e).getTime()===i(e).getTime()}},function(t,e,n){var r=n(0);t.exports=function(t){return 1===r(t).getDay()}},function(t,e,n){var r=n(0);t.exports=function(t){return r(t).getTime()<(new Date).getTime()}},function(t,e,n){var r=n(11);t.exports=function(t,e){var n=r(t),o=r(e);return n.getTime()===o.getTime()}},function(t,e,n){var r=n(0);t.exports=function(t){return 6===r(t).getDay()}},function(t,e,n){var r=n(0);t.exports=function(t){return 0===r(t).getDay()}},function(t,e,n){var r=n(76);t.exports=function(t){return r(new Date,t)}},function(t,e,n){var r=n(78);t.exports=function(t){return r(new Date,t)}},function(t,e,n){var r=n(79);t.exports=function(t){return r(new Date,t)}},function(t,e,n){var r=n(80);t.exports=function(t){return r(new Date,t)}},function(t,e,n){var r=n(82);t.exports=function(t){return r(new Date,t)}},function(t,e,n){var r=n(83);t.exports=function(t){return r(new Date,t)}},function(t,e,n){var r=n(85);t.exports=function(t){return r(new Date,t)}},function(t,e,n){var r=n(43);t.exports=function(t,e){return r(new Date,t,e)}},function(t,e,n){var r=n(87);t.exports=function(t){return r(new Date,t)}},function(t,e,n){var r=n(0);t.exports=function(t){return 4===r(t).getDay()}},function(t,e,n){var r=n(11);t.exports=function(t){return r(t).getTime()===r(new Date).getTime()}},function(t,e,n){var r=n(11);t.exports=function(t){var e=new Date;return e.setDate(e.getDate()+1),r(t).getTime()===r(e).getTime()}},function(t,e,n){var r=n(0);t.exports=function(t){return 2===r(t).getDay()}},function(t,e,n){var r=n(0);t.exports=function(t){return 3===r(t).getDay()}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t).getDay();return 0===e||6===e}},function(t,e,n){var r=n(0);t.exports=function(t,e,n){var o=r(t).getTime(),i=r(e).getTime(),a=r(n).getTime();if(i>a)throw new Error("The start of the range cannot be after the end of the range");return o>=i&&o<=a}},function(t,e,n){var r=n(11);t.exports=function(t){var e=new Date;return e.setDate(e.getDate()-1),r(t).getTime()===r(e).getTime()}},function(t,e,n){var r=n(88);t.exports=function(t){return r(t,{weekStartsOn:1})}},function(t,e,n){var r=n(9),o=n(10);t.exports=function(t){var e=r(t),n=new Date(0);n.setFullYear(e+1,0,4),n.setHours(0,0,0,0);var i=o(n);return i.setDate(i.getDate()-1),i}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t),n=e.getMonth(),o=n-n%3+3;return e.setMonth(o,0),e.setHours(0,0,0,0),e}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(0,0,0,0),e}},function(t,e,n){var r=n(0);t.exports=function(){var t=Array.prototype.slice.call(arguments).map(function(t){return r(t)}),e=Math.max.apply(null,t);return new Date(e)}},function(t,e,n){var r=n(0);t.exports=function(){var t=Array.prototype.slice.call(arguments).map(function(t){return r(t)}),e=Math.min.apply(null,t);return new Date(e)}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=Number(e);return n.setDate(o),n}},function(t,e,n){var r=n(0),o=n(14);t.exports=function(t,e,n){var i=n&&Number(n.weekStartsOn)||0,a=r(t),s=Number(e),u=a.getDay();return o(a,((s%7+7)%7<i?7:0)+s-u)}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=Number(e);return n.setMonth(0),n.setDate(o),n}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=Number(e);return n.setHours(o),n}},function(t,e,n){var r=n(0),o=n(14),i=n(75);t.exports=function(t,e){var n=r(t),a=Number(e),s=i(n);return o(n,a-s)}},function(t,e,n){var r=n(0),o=n(42);t.exports=function(t,e){var n=r(t),i=Number(e),a=o(n)-i;return n.setDate(n.getDate()-7*a),n}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=Number(e);return n.setMilliseconds(o),n}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=Number(e);return n.setMinutes(o),n}},function(t,e,n){var r=n(0),o=n(89);t.exports=function(t,e){var n=r(t),i=Number(e)-(Math.floor(n.getMonth()/3)+1);return o(n,n.getMonth()+3*i)}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=Number(e);return n.setSeconds(o),n}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=Number(e);return n.setFullYear(o),n}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t);return e.setDate(1),e.setHours(0,0,0,0),e}},function(t,e,n){var r=n(11);t.exports=function(){return r(new Date)}},function(t,e){t.exports=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),r=t.getDate(),o=new Date(0);return o.setFullYear(e,n,r+1),o.setHours(0,0,0,0),o}},function(t,e){t.exports=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),r=t.getDate(),o=new Date(0);return o.setFullYear(e,n,r-1),o.setHours(0,0,0,0),o}},function(t,e,n){var r=n(14);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r=n(55);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r=n(15);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r=n(58);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r=n(27);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r=n(59);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r=n(60);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r=n(36);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r=n(61);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n(223)),o=s(n(4)),i=s(n(29)),a=n(8);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(t,e){this.id=t,this.secret=e,this.servers=a.servers,this._permissions=new r.default(t,e)}return t.prototype.credentials=function(){return{id:this.id,secret:this.secret}},t.prototype.permissions=function(){return this._permissions},t.prototype.canAccess=function(t){return this.permissions().canAccess(t)},t.prototype.api=function(){return new o.default({server:this.servers.api,client:{id:this.id,secret:this.secret}})},t.prototype.map=function(){return new i.default({server:this.servers.maps,client:{id:this.id,secret:this.secret}})},t}();e.default=u,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=n(1),i=(r=n(4))&&r.__esModule?r:{default:r};var a=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},s=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=function(){function t(t,e){this.loading=!1,this.id=t,this.secret=e,this.get()}return t.prototype.get=function(){return a(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return this.hasLoaded()?this.permissions?[2,(0,o.cloneDeep)(this.permissions)]:[2,null]:(this.loading=!0,[4,new i.default({client:{id:this.id,secret:this.secret}}).endpoint("oauth2/permissions").get()]);case 1:return t=e.sent(),this.loading=!1,t.data&&(this.permissions=t.data,this.cached=new Date),[2,(0,o.cloneDeep)(this.permissions)]}})})},t.prototype.isLoading=function(){return this.loading},t.prototype.hasLoaded=function(){return null!=this.permissions},t.prototype.canAccess=function(t){var e=(0,o.get)(this.permissions,t);return!!e&&e.allow},t}();e.default=u,t.exports=e.default},function(t,e,n){t.exports=n(225)},function(t,e,n){"use strict";var r=n(6),o=n(90),i=n(227),a=n(44);function s(t){var e=new i(t),n=o(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var u=s(a);u.Axios=i,u.create=function(t){return s(r.merge(a,t))},u.Cancel=n(95),u.CancelToken=n(240),u.isCancel=n(94),u.all=function(t){return Promise.all(t)},u.spread=n(241),t.exports=u,t.exports.default=u},function(t,e){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(t,e,n){"use strict";var r=n(44),o=n(6),i=n(235),a=n(236);function s(t){this.defaults=t,this.interceptors={request:new i,response:new i}}s.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),(t=o.merge(r,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},o.forEach(["delete","get","head","options"],function(t){s.prototype[t]=function(e,n){return this.request(o.merge(n||{},{method:t,url:e}))}}),o.forEach(["post","put","patch"],function(t){s.prototype[t]=function(e,n,r){return this.request(o.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=s},function(t,e,n){"use strict";var r=n(6);t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},function(t,e,n){"use strict";var r=n(93);t.exports=function(t,e,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t}},function(t,e,n){"use strict";var r=n(6);function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var a=[];r.forEach(e,function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(o(e)+"="+o(t))}))}),i=a.join("&")}return i&&(t+=(-1===t.indexOf("?")?"?":"&")+i),t}},function(t,e,n){"use strict";var r=n(6),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,a={};return t?(r.forEach(t.split("\n"),function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e){if(a[e]&&o.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}}),a):a}},function(t,e,n){"use strict";var r=n(6);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=r.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(6);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,o,i,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(6);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=o},function(t,e,n){"use strict";var r=n(6),o=n(237),i=n(94),a=n(44),s=n(238),u=n(239);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.baseURL&&!s(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return c(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return i(e)||(c(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var r=n(6);t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(95);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o(function(e){t=e}),cancel:t}},t.exports=o},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(t,e,n,r){void 0===r&&(r=null),this.response=t,this.data=e,this.error=n,this.params=r}return t.prototype.headers=function(){return this.response?this.response.headers:void 0},t}();e.default=r,t.exports=e.default},function(t,e,n){"use strict";var r,o;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.QueryCondition=e.Sort=e.Operator=void 0,e.Operator=r,function(t){t.OR=";",t.AND=","}(r||(e.Operator=r={})),e.Sort=o,function(t){t.ASC="1",t.DESC="-1",t.NONE="0"}(o||(e.Sort=o={}));var i=function(){function t(t,e,n){void 0===n&&(n=r.AND),this.property=t,this.value=e,this.nextOperator=n}return t.prototype.toString=function(){return this.property+":"+this.value},t}();e.QueryCondition=i;var a=function(){function t(t){void 0===t&&(t=[]),this._conditions=t||[]}return t.prototype.addCondition=function(t){return this._conditions.push(t),this},t.prototype.removeCondition=function(t){var e=this._conditions.indexOf(t);return-1!==e&&this._conditions.splice(e,1),this},t.prototype.removeAllConditions=function(){return this._conditions=[],this},t.prototype.toString=function(){var t=this._conditions.length-1;return this._conditions.reduce(function(e,n,r){return e+=""+n.toString()+(r<t?n.nextOperator:"")},"")},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(245))&&r.__esModule?r:{default:r};var i=function(){function t(t,e,n,r){void 0===r&&(r=null),this.response=t,this.image=e,this.error=n,this.params=r,t&&t.headers&&(this.metadata=new o.default(t.headers))}return t.prototype.headers=function(){return this.response?this.response.headers:void 0},t}();e.default=i,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(1),o=function(t){var e,n,o,i;(0,r.isPlainObject)(t)&&(e=t["x-aeris-valid-date"],n=t["x-aeris-min-valid-date"],o=t["x-aeris-max-valid-date"],i=t["x-aeris-run-date"]),e&&(this.validDate=new Date(e)),n&&(this.minValidDate=new Date(n)),o&&(this.maxValidDate=new Date(o)),i&&(this.runDate=new Date(i))};e.default=o,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(1),o=function(){function t(t){this._opts={alpha:100,darkStyle:!1,text:!1,largeText:!1,metric:!1,blendMode:void 0,blur:0,filters:[],mask:void 0,includeText:!1},this._opts.darkStyle=/-dk/.test(t),this._opts.text=/-text/.test(t),this._opts.largeText=/-lg/.test(t),this.code=t.replace(/-(dk|text|lg)/,"").replace(/:.+$/,"")}return t.prototype.opt=function(t,e){return e?((0,r.set)(this._opts,t,e),this):(0,r.get)(this._opts,t)},t.prototype.options=function(t){return t&&(this._opts=t),this._opts},t.prototype.alpha=function(t){return this.opt("alpha",t),this},t.prototype.darkStyle=function(t){return this.opt("darkStyle",t),this},t.prototype.text=function(t){return this.opt("text",t),this},t.prototype.includeText=function(t){return this.opt("includeText",t),this},t.prototype.largeText=function(t){return this.opt("largeText",t),this},t.prototype.metric=function(t){return this.opt("metric",t),this},t.prototype.blendMode=function(t){return this.opt("blendMode",t),this},t.prototype.blur=function(t){return this.opt("blur",t),this},t.prototype.mask=function(t){return this.opt("mask",t),this},t.prototype.addFilter=function(t){return this._opts.filters.push(t),this},t.prototype.removeFilter=function(t){var e=this._opts.filters.indexOf(t);return-1!==e&&this._opts.filters.splice(e,1),this},t.prototype.removeAllFilters=function(){return this._opts.filters=[],this},t.prototype.toString=function(){var t,e=this._opts,n=this.code;return(e.includeText||e.text)&&(t=n+"-text",e.metric&&(t+="-metric"),e.largeText&&(t+="-lg"),e.text&&(n=t)),e.darkStyle&&(n+="-dk"),e.alpha<100&&(n=n+":"+e.alpha),e.blur>0&&(n=n+":blur("+e.blur+")"),e.blendMode&&(n=n+":blend("+e.blendMode+")"),e.filters.length>0&&(n=n+":"+e.filters.join(":")+")"),e.includeText&&t&&(n=n+","+t),n},t}();e.default=o,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Views=void 0;var r=u(n(97)),o=u(n(285)),i=u(n(52)),a=n(47),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(12));function u(t){return t&&t.__esModule?t:{default:t}}var c,l,p,f,d=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(){return(h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e}(r.default);e.Views=f,function(t){t.utils=h({},s),t.datasources={Tile:a.TileSource,Vector:a.VectorSource,Text:a.TextSource},t.setAccount=function(t){l=t},t.setServers=function(t){p=t},t.InteractiveMap=function(t,e,n){return(e=e||{}).account=l,e.servers=e.servers||p,new y(t,e,n)},t.Map=function(t,e){return(e=e||{}).account=l,e.servers=e.servers||p,new o.default(t,e)},t.Legend=function(t,e){return(e=e||{}).account=l,new i.default(t,e)}}(f||(e.Views=f={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=function(t){function e(e){var n=t.call(this,e)||this;return n.name=n.constructor.name,n.stack=(new Error).stack,n}return o(e,t),e}(Error);e.default=i,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"LeafletMapStrategy",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"MapboxMapStrategy",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"OpenLayersMapStrategy",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"GoogleMapStrategy",{enumerable:!0,get:function(){return a.default}});var r=s(n(250)),o=s(n(257)),i=s(n(261)),a=s(n(265));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=c(n(31)),o=c(n(254)),i=c(n(102)),a=n(12),s=n(1),u=c(n(2));function c(t){return t&&t.__esModule?t:{default:t}}var l,p=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(t){function e(e,n){var r=t.call(this,e,(0,s.extend)({map:{worldCopyJump:!0}},n))||this;return r._clickedMapLayer=!1,r}return p(e,t),Object.defineProperty(e.prototype,"$el",{get:function(){return(0,u.default)(this.map.getContainer())},enumerable:!0,configurable:!0}),e.prototype.loadDependencies=function(){return new Promise(function(t,e){if("undefined"==typeof L||void 0===L.map){Promise.all([(0,s.loadStyles)("https://unpkg.com/leaflet@1.4.0/dist/leaflet.css"),(0,s.loadScript)("https://unpkg.com/leaflet@1.4.0/dist/leaflet.js")]).then(function(){t()})}else t()})},e.prototype.setupMap=function(t){var e=this;this._factory=new o.default,this._eventMapping={load:"load",unload:"unload",resize:"resize",click:"click",dblclick:"dblclick",mousedown:"mousedown",mouseup:"mouseup",mouseover:"mouseover",mouseout:"mouseout",mousemove:"mousemove",zoom:"zoom",zoomstart:"zoom:start",zoomend:"zoom:end",move:"move",movestart:"move:start",moveend:"move:end",popupopen:"popupopen",popupclose:"popupclose"};var n=this.opts.map;if(n){var r=n.center,i=n.zoom;r&&(0,s.isset)(r.lat)&&(0,s.isset)(r.lng)&&(0,s.set)(this.opts,"center",{lat:r.lat,lon:r.lng}),i&&(0,s.set)(this.opts,"zoom",i)}if((0,a.isLeaflet)(t))this._map=t;else{if((0,s.isString)(t)&&(t=(0,u.default)(t)),(0,s.isArray)(t)&&t.length>0)t=t[0];else if((0,s.isDOM)(t)){t=t[0]}this._map=L.map(t,this.opts.map),(0,s.isset)(this.opts.center)||(0,s.set)(this.opts,"center",{lat:43,lon:-93}),(0,s.isset)(this.opts.zoom)||(0,s.set)(this.opts,"zoom",7);L.tileLayer("https://{s}.tile.osm.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(this.map)}this.map.createPane("admin"),this.map.getPane("admin").style.zIndex="210",setTimeout(function(){e.trigger("map:ready")},250)},e.prototype.setView=function(t,e){this.map.setView({lat:t.lat,lng:t.lon},e)},e.prototype.getCenter=function(){var t=this._map.getCenter();return{lat:t.lat,lon:t.lng}},e.prototype.setCenter=function(t){this._map.setView({lat:t.lat,lng:t.lon},this.getZoom())},e.prototype.getZoom=function(){return this._map.getZoom()},e.prototype.setZoom=function(t){this._map.setZoom(t)},e.prototype.getBounds=function(){var t=this.map.getBounds();return{north:t.getNorth(),west:t.getWest(),south:t.getSouth(),east:t.getEast()}},e.prototype.setBounds=function(t){var e=new L.LatLng(t.south,t.west),n=new L.LatLng(t.north,t.east);this.map.fitBounds(new L.LatLngBounds(e,n))},e.prototype.fitBounds=function(t,e){void 0===e&&(e=[10,10]);var n=new L.LatLng(t.south,t.west),r=new L.LatLng(t.north,t.east),o=new L.LatLngBounds(n,r);this.map.fitBounds(o,{padding:L.point(e[0],e[1])})},e.prototype.isTile=function(t){return t instanceof i.default},e.prototype.isMarker=function(t){return t instanceof L.Marker},e.prototype.isPolygon=function(t){return t instanceof L.Polygon},e.prototype.isPolyline=function(t){return t instanceof L.Polyline},e.prototype.addOverlay=function(t){(t instanceof L.Layer||t instanceof L.TileLayer)&&t.addTo(this.map)},e.prototype.removeOverlay=function(t){(t instanceof L.Layer||t instanceof L.TileLayer)&&t.remove()},e.prototype.addMarker=function(t,e){var n=this;if(this.isMarker(t))return t.addTo(this.map),void t.on("click",function(){return n.trigger("marker:click",{data:e,marker:t})});if((0,s.isPlainObject)(t)){var r=t.renderable,o=t.data;if(r)return void this.addMarker(r,o)}console.error("Cannot add marker "+t+", invalid map object",t)},e.prototype.removeMarker=function(t){if(this.isMarker(t))t.off("click"),t.remove();else if((0,s.isPlainObject)(t)){var e=t.renderable;e&&this.removeMarker(e)}},e.prototype.updateMarker=function(t,e,n){if(void 0===n&&(n=null),e&&this.isMarker(t)){var r=(0,s.get)(e,"data.value"),o=(0,s.get)(e,"style")||{};(0,s.isFunction)(o)&&(o=o({value:r}));var i=this.factory.markerIcon(o);i&&t.setIcon(i)}},e.prototype.addShape=function(e,n){var r=this;if(this.isPolygon(e)||this.isPolyline(e))return e.addTo(this.map),void e.on("click",function(t){r._clickedMapLayer=!0,r.trigger("shape:click",{data:n,shape:e}),setTimeout(function(){r._clickedMapLayer=!1},100)});t.prototype.addShape.call(this,e)},e.prototype.removeShape=function(e){if(this.isPolygon(e)||this.isPolyline(e))return e.off("click"),void e.remove();t.prototype.removeShape.call(this,e)},e.prototype.showShape=function(t){this.addShape(t)},e.prototype.hideShape=function(t){this.removeShape(t)},e.prototype.coordToPoint=function(t){if(!t)return null;var e=this.map.latLngToContainerPoint({lat:t.lat,lng:t.lon});return{x:e.x,y:e.y}},e.prototype.pointToCoord=function(t){if(!t)return null;var e=this.map.containerPointToLatLng([t.x,t.y]);return{lat:e.lat,lon:e.lng}},e.prototype.showCallout=function(t,e){(0,a.isCoordObject)(t)?this.map.openPopup(e,new L.LatLng(t.lat,t.lon)):this.isMarker(t)&&t.unbindPopup().bindPopup(e).openPopup()},e.prototype._setupEvents=function(){var e=this;t.prototype._setupEvents.call(this),this.map.on("moveend",function(t){e.trigger("change:bounds"),e.trigger("change:center")}),this.map.on("zoomend",function(t){e.trigger("change:zoom")})},e.prototype._shouldTriggerEvent=function(t){return"click"!==t||!1===this._clickedMapLayer},e.prototype._dataForMapEvent=function(t,e){if(!e)return null;var n=null;switch(t){case"click":case"dblclick":n={coord:{lat:e.latlng.lat,lon:e.latlng.lng},point:{x:e.containerPoint.x,y:e.containerPoint.y}}}return n},e}(r.default);e.default=f,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(4),o=s(n(100)),i=s(n(253)),a=n(1);function s(t){return t&&t.__esModule?t:{default:t}}var u,c=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(){return(l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},p=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},f=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},d=function(t){function e(e,n){var r=t.call(this,e,n)||this;if(r._opts.animatable){var o=new i.default;o.provider=r,o.on("data:add",function(t){return r.trigger("markers:add",{markers:t.data.items})}),o.on("data:remove",function(t){return r.trigger("markers:remove",{markers:t.data.items})}),o.on("data:update",function(t){return r.trigger("markers:update",{markers:t.data.items})}),r._animation=o}return r}return c(e,t),e.prototype.load=function(e){return this._animationMarkers=null,t.prototype.load.call(this,e)},e.prototype._processRecord=function(t){t=(0,a.cloneDeep)(t);var e=(0,a.get)(this._opts,"data.properties.value");return(0,a.isFunction)(e)||(e=(e||"").replace(/^periods\./,""),t.periods&&(e="periods[0]."+e)),t.value=t.value||((0,a.isFunction)(e)?e(t):(0,a.get)(t,e)),t},e.prototype._loadAnimationData=function(){var t=this;return new Promise(function(e,n){var o=t.service.param("limit")||300,i=t.service.param("plimit"),s=t.service.param("sort")||"dt:-1",u=t.style.marker||t.style;t.service.action(r.ApiAction.WITHIN).plimit(100).limit(o).sort(s).get().then(function(n){t.service.plimit(i);var r={};(n.data||[]).forEach(function(e){var n=t._processRecord(e),o=n.loc||{},i={lat:o.lat,lon:o.long||o.lon},s=n.id||i.lat+","+i.long,c=t.markersById?t.markersById[s]:null,p=(0,a.isFunction)(u)?u(n):u;if(c)r[s]={renderable:c.renderable,data:(0,a.extend)({},c.data,n),style:c.style};else if(!1===(0,a.isset)(p.spacing)){var f=t.strategy.factory.marker(t.key,{lat:i.lat,lon:i.lon},p);r[s]={data:l({},n,{awxjs_source:t.key}),renderable:f,style:p}}}),e(r)}).catch(function(t){console.error("Error requesting animation data for TextSource",t),n(t)})})},e.prototype.animationData=function(t){return p(this,void 0,void 0,function(){var t,e,n,r,o=this;return f(this,function(i){switch(i.label){case 0:return this._animationMarkers?[3,2]:(t=this,[4,this._loadAnimationData()]);case 1:t._animationMarkers=i.sent(),i.label=2;case 2:return e=this._animationMarkers,n=((0,a.get)(this._opts,"data.properties.timestamp")||"").replace(/^periods\./,""),r=(0,a.get)(this._opts,"data.properties.value"),(0,a.isFunction)(r)||(r=(r||"").replace(/^periods\./,"")),[2,Object.keys(e).reduce(function(t,i){var s=e[i],u=s.data,c=s.renderable;if(u&&u.periods){var l,p=u.periods.reduce(function(t,e){var o=1e3*(0,a.get)(e,n),i="";return(i=(0,a.isFunction)(r)?r(e):(0,a.get)(e,r))!==l&&(t[o]=i,l=i),t},{});return t[i]={data:p,renderable:c,style:o.style},t}return null},{})]}})})},e}(o.default);e.default=d,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.boundsFromCoords=void 0;e.boundsFromCoords=function(t){var e={north:null,south:null,west:null,east:null};return t.forEach(function(t,n){0===n?(e.north=t.lat,e.south=t.lat,e.west=t.lon,e.east=t.lon):(e.north=Math.max(e.north,t.lat),e.south=Math.min(e.south,t.lat),e.west=Math.min(e.west,t.lon),e.east=Math.max(e.east,t.lon))}),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(19)),o=a(n(101)),i=n(1);function a(t){return t&&t.__esModule?t:{default:t}}var s,u=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e){void 0===e&&(e=null);return e=(0,i.extend)({},{refresh:0},e),t.call(this,e)||this}return u(e,t),e.prototype._updateForTime=function(t){var e=this;if(this.dataByTime()){this.lastInterval||(this.lastInterval=this.from);var n,o=this.currentTime,i=Math.min(this.lastInterval,o),a=Math.max(this.lastInterval,o);if(o<this.lastInterval){var s=[],u=[];Object.keys(this.dataByTime()).sort().map(function(t){return parseInt(t,10)}).forEach(function(t){e.dataByTime()[t].forEach(function(t){-1===s.indexOf(t.id)&&(u.push(t),s.push(t.id))})}),n=u}else n=this._elementsInIntervalRange(i,a);n.length>0&&this.trigger(r.default.Event.DATA_UPDATE,{items:n}),this.lastInterval=o}},e.prototype._prepareDataItems=function(t){var e=this;if(!(this.increment<=0)&&(0,i.isPlainObject)(t)){var n=this._prepareIntervals(),o=t;Object.keys(o).forEach(function(r){var o=t[r],i=o.renderable,a=o.data,s=o.style;Object.keys(a).forEach(function(t){var o=parseInt(t,10),u=e.dataIntervalClosestToTime(o);o<e.to&&n[u]&&n[u].push({id:r,value:a[o],renderable:i,style:s})})}),this.trigger(r.default.Event.LOAD_DONE)}},e}(o.default);e.default=c,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(102))&&r.__esModule?r:{default:r},i=n(32),a=n(1);var s=function(){function t(){}return t.prototype.tileLayer=function(t,e,n){return new o.default(t,e,n)},t.prototype.marker=function(t,e,n){var r={};n&&(r.icon=this.markerIcon(n),n.zIndex&&(r.zIndexOffset=n.zIndex));var o=L.marker([e.lat,e.lon],r);if(n&&n.callout){var i=n.callout;if((0,a.isFunction)(n.callout))i=(0,n.callout)();var s=L.popup().setContent(i);o.bindPopup(s)}return o},t.prototype.markerIcon=function(t){if(t.html)return L.divIcon({html:t.html,iconSize:t.size,className:t.className||""});if(t.svg){var e=t.size||[12,12],n=e[0],r=e[1];return L.divIcon({html:i.SVG.draw(n,r,t.svg),iconSize:t.size,className:t.className||""})}if(t.icon){var o=t.icon;return L.icon({iconUrl:o.url,iconRetinaUrl:o.retinaUrl,iconSize:t.size,iconAnchor:o.anchor,className:t.className||""})}return null},t.prototype.polygon=function(t,e,n){var r;n&&(r={stroke:!1,fill:!1},n.stroke&&(r.stroke=!0,r.color=n.stroke.color,r.opacity=n.stroke.opacity,r.weight=n.stroke.width,r.lineCap=n.stroke.lineCap,r.lineJoin=n.stroke.lineJoin,r.dashArray=n.stroke.dashArray,r.dashOffset=n.stroke.dashOffset),n.fill&&(r.fill=!0,r.fillColor=n.fill.color,r.fillOpacity=n.fill.opacity,r.fillRule=n.fill.rule||"nonzero"));var o=[];return e.forEach(function(t){var e=t.toArray(),n=t.interior.map(function(t){return t.toArray()});o.push([e].concat(n))}),L.polygon(o,r)},t.prototype.polyline=function(t,e,n){var r,o=e.map(function(t){return[t.lat,t.lon]});return n&&(r={stroke:!1,fill:!1},n.stroke&&((r=(0,a.extend)(r,{stroke:!0},n.stroke)).weight=r.width,delete r.width)),L.polyline(o,r)},t}();e.default=s,t.exports=e.default},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=c(n(31)),o=c(n(258)),i=c(n(103)),a=n(1),s=n(12),u=c(n(2));function c(t){return t&&t.__esModule?t:{default:t}}var l,p=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=n(106).default,d=function(t){function e(e,n){var r=t.call(this,e,(0,a.extend)({accessToken:null,style:"mapbox://styles/mapbox/streets-v9"},n))||this;return r._pointAnimationUpdates={},r._shapeDataById={},r._clickedMapLayer=!1,r}return p(e,t),Object.defineProperty(e.prototype,"$el",{get:function(){return(0,u.default)(this.map.getContainer())},enumerable:!0,configurable:!0}),e.prototype.loadDependencies=function(){var t=document.createElement("style");return t.type="text/css",t.innerHTML=".mapboxgl-marker { line-height: 0; }",window.document.body.appendChild(t),new Promise(function(t,e){if("undefined"==typeof mapboxgl||void 0===mapboxgl.Map){Promise.all([(0,a.loadStyles)("https://api.tiles.mapbox.com/mapbox-gl-js/v0.51.0/mapbox-gl.css"),(0,a.loadScript)("https://api.tiles.mapbox.com/mapbox-gl-js/v0.51.0/mapbox-gl.js")]).then(function(){t()})}else t()})},e.prototype.setupMap=function(t){var e=this;this._factory=new o.default,this._eventMapping={load:"load",remove:"unload",resize:"resize",click:"click",dblclick:"dblclick",mousedown:"mousedown",mouseup:"mouseup",mouseover:"mouseover",mouseout:"mouseout",mousemove:"mousemove",zoom:"zoom",zoomstart:"zoom:start",zoomend:"zoom:end",move:"move",movestart:"move:start",moveend:"move:end"};var n=mapboxgl.version;if(n){var r=n.split("."),i=r[0],c=r[1];if(i=parseInt(i,10),c=parseInt(c,10),0===i&&c<50)throw new Error("AerisWeather SDK requires Mapbox GL JS version 0.50.0 or higher. You are using version "+n+".")}var l=this.opts.map;if(l){var p=l.center,f=l.zoom;if(p&&(0,a.isArray)(p)){var d=p[0],h=p[1];(0,a.isset)(h)&&(0,a.isset)(d)&&(0,a.set)(this.opts,"center",{lat:h,lon:d})}f&&(0,a.set)(this.opts,"zoom",f)}if((0,s.isMapbox)(t))this._map=t,setTimeout(function(){e.trigger("map:ready")},250);else{if((0,a.isString)(t)&&(t=(0,u.default)(t)),(0,a.isArray)(t)&&t.length>0)t=t[0];else if((0,a.isDOM)(t)){t=t[0]}mapboxgl.accessToken=this.opts.accessToken,this._map=new mapboxgl.Map((0,a.extend)({},this.opts.map,{container:t,style:this.opts.style})),(0,a.isset)(this.opts.center)||(0,a.set)(this.opts,"center",{lat:43,lon:-93}),(0,a.isset)(this.opts.zoom)||(0,a.set)(this.opts,"zoom",7),this.map.addControl(new mapboxgl.NavigationControl),this.map.on("load",function(){setTimeout(function(){e.trigger("map:ready")},250)})}},e.prototype.setView=function(t,e){this.map.jumpTo({center:{lat:t.lat,lon:t.lon},zoom:Math.max(1,e-1)})},e.prototype.getCenter=function(){var t=this._map.getCenter();return{lat:t.lat,lon:t.lng}},e.prototype.setCenter=function(t){this._map.setCenter({lat:t.lat,lon:t.lon})},e.prototype.getZoom=function(){return this._map.getZoom()+1},e.prototype.setZoom=function(t){this._map.setZoom(Math.max(0,t-1))},e.prototype.getBounds=function(){var t=this.map.getBounds();return{north:t.getNorth(),west:t.getWest(),south:t.getSouth(),east:t.getEast()}},e.prototype.setBounds=function(t){var e=mapboxgl.LngLat(t.west,t.south),n=mapboxgl.LngLat(t.east,t.north);this.map.fitBounds(new mapboxgl.LngLatBounds(e,n))},e.prototype.fitBounds=function(t,e){void 0===e&&(e=[10,10]);var n=new mapboxgl.LngLat(t.west,t.south),r=new mapboxgl.LngLat(t.east,t.north),o=new mapboxgl.LngLatBounds(n,r);this.map.fitBounds(o,{padding:mapboxgl.Point(e[0],e[1])})},e.prototype.isTile=function(t){return t instanceof i.default},e.prototype.isMarker=function(t){return t instanceof mapboxgl.Marker},e.prototype.isPolygon=function(t){return t instanceof f.Polygon},e.prototype.isPolyline=function(t){return t instanceof f.Polyline},e.prototype.addSource=function(e){t.prototype.addSource.call(this,e),this.isTile(e)&&e.updateVisibility()},e.prototype.addOverlay=function(t){t instanceof f.Tile&&t.addTo(this.map)},e.prototype.removeOverlay=function(t){t instanceof f.Tile&&t.remove()},e.prototype.addMarker=function(t,e){var n=this;if(this.isMarker(t)){t.addTo(this.map);var r=t.getElement();r&&(t.__aw_clickHandler=function(r){n.trigger("marker:click",{data:e,marker:t})},r.addEventListener("click",t.__aw_clickHandler))}else{if((0,a.isPlainObject)(t)){var o=t.renderable,i=t.data;if(o)return void this.addMarker(o,i)}console.error("Cannot add marker "+t+", invalid map object")}},e.prototype.removeMarker=function(t){if(this.isMarker(t)){t.remove();var e=t.getElement();e&&t.__aw_clickHandler&&e.removeEventListener("click",t.__aw_clickHandler)}else if((0,a.isPlainObject)(t)){var n=t.renderable;n&&this.removeMarker(n)}},e.prototype.updateMarker=function(t,e,n){void 0===n&&(n=null),e.data=e.data||{};var r=e.style,o=e.data.value;this._pointAnimationUpdates[n]||(this._pointAnimationUpdates[n]={});var i=this._pointAnimationUpdates[n];if(t instanceof mapboxgl.Marker&&(0,a.isset)(o)){var s=t.getLngLat(),u=s.lng,c=s.lat,l=c+","+u;i[l]||(i[l]={active:null});var p=i[l],f=p.active;if(f&&f.remove(),!p[o]){var d=this.factory.marker(null,{lat:c,lon:u},(0,a.isFunction)(r)?r({value:o}):r);p[o]=d,t.remove()}p[o].addTo(this.map),p.active=p[o]}},e.prototype.addShape=function(e,n){if(e instanceof f.Polygon||e instanceof f.Polyline)return e.addTo(this.map),void(this._shapeDataById[e.id]=n);t.prototype.addShape.call(this,e)},e.prototype.removeShape=function(e){e instanceof f.Polygon||e instanceof f.Polyline?e.remove():t.prototype.removeShape.call(this,e)},e.prototype.showShape=function(e){this.isPolygon(e)||this.isPolyline(e)?e.show():t.prototype.showShape.call(this,e)},e.prototype.hideShape=function(e){this.isPolygon(e)||this.isPolyline(e)?e.hide():t.prototype.hideShape.call(this,e)},e.prototype.coordToPoint=function(t){var e=this.map.project({lat:t.lat,lng:t.lon});return{x:e.x,y:e.y}},e.prototype.pointToCoord=function(t){var e=this.map.unproject([t.x,t.y]);return{lat:e.lat,lon:e.lng}},e.prototype.showCallout=function(t,e){var n=(new mapboxgl.Popup).setHTML(e);(0,s.isCoordObject)(t)?n.setLngLat({lat:t.lat,lng:t.lon}).addTo(this.map):this.isMarker(t)&&(t.setPopup(n),t.togglePopup())},e.prototype._setupEvents=function(){var e=this;this.map.on("moveend",function(t){e.trigger("change:bounds"),e.trigger("change:center")}),this.map.on("zoomend",function(t){e.trigger("change:zoom")}),this.map.on("click",function(t){var n=e.map.queryRenderedFeatures(t.point);if(0!==n.length){var r=!1;n.forEach(function(t){var n=t.layer.id;if(!1===r&&/^aeris-layer-/.test(n)&&"fill"===t.layer.type){var o=e._shapeDataById[n];e.trigger("shape:click",{shape:t,data:o}),r=!0,e._clickedMapLayer=!0,setTimeout(function(){e._clickedMapLayer=!1},100)}})}}),t.prototype._setupEvents.call(this)},e.prototype._shouldTriggerEvent=function(t){return"click"!==t||!1===this._clickedMapLayer},e.prototype._dataForMapEvent=function(t,e){if(!e)return null;var n=null;switch(t){case"click":case"dblclick":n={coord:{lat:e.lngLat.lat,lon:e.lngLat.lng},point:{x:e.point.x,y:e.point.y}}}return n},e}(r.default);e.default=d,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(103))&&r.__esModule?r:{default:r},i=n(32),a=n(1);var s=n(106).default,u=function(){function t(){}return t.prototype.tileLayer=function(t,e,n){return new o.default(t,e,n)},t.prototype.marker=function(t,e,n){var r={};n&&(r.icon=this.markerIcon(n));var o=new mapboxgl.Marker({element:r.icon});if(o.setLngLat([e.lon,e.lat]),n&&n.callout){var i=n.callout;if((0,a.isFunction)(n.callout))i=(0,n.callout)();var s=new mapboxgl.Popup;s.setHTML(i),o.setPopup(s)}return o},t.prototype.markerIcon=function(t){if(!t)return null;if(t.html&&console.warn("awxjs - HTML markers are not currently supported with Mapbox GL"),t.svg){var e=t.size||[12,12],n=e[0],r=e[1];if(document){var o=document.createElement("div");return o.innerHTML=i.SVG.draw(n,r,t.svg),t.zIndex&&(o.style.zIndex=""+t.zIndex),o}}if(t.icon){var a=new Image;return a.src=t.icon.url,a.width=t.size[0],a.height=t.size[1],a}return null},t.prototype.polygon=function(t,e,n){var r;return n&&((r={stroke:!1,fill:!1}).id=n.id,n.stroke&&(r.lineColor=n.stroke.color,r.lineOpacity=n.stroke.opacity,r.lineWidth=n.stroke.width,r.lineCap=n.stroke.lineCap,r.lineJoin=n.stroke.lineJoin,r.lineDasharray=n.stroke.dashArray,r.dashOffset=n.stroke.dashOffset),n.fill&&(r.fillColor=n.fill.color,r.fillOpacity=n.fill.opacity)),new s.Polygon(t,e,r)},t.prototype.polyline=function(t,e,n){var r,o={stroke:{color:"lineColor",opacity:"lineOpacity",width:"lineWidth",dashArray:"lineDashArray"}};n&&((r={style:{}}).id=n.id,n.stroke&&Object.keys(n.stroke).forEach(function(t){var e=o.stroke[t]||t;r.style[e]=n.stroke[t]}));e.map(function(t){return[t.lat,t.lon]});return new s.Polyline(t,e,r)},t}();e.default=u,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n(49)),o=s(n(48)),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(5)),a=n(1);function s(t){return t&&t.__esModule?t:{default:t}}var u,c=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e,n,r){void 0===r&&(r=void 0);var o=t.call(this,e,r.id)||this;return o._opts={},o._polygons=n,r=r||{},Object.keys(r).forEach(function(t){var e=i.hyphenate(t);e!==t&&(r[e]=r[t],delete r[t])}),o._opts=r,o}return c(e,t),Object.defineProperty(e.prototype,"strokeLayerId",{get:function(){return this.layerId+"-stroke"},enumerable:!0,configurable:!0}),e.prototype.addTo=function(e){(t.prototype.addTo.call(this,e),this._strokeLayer)&&(void 0!==e.getLayer(this.strokeLayerId)||e.addLayer(this._strokeLayer,this.layerId))},e.prototype.remove=function(){if(this.map){if(this._strokeLayer)void 0!==this.map.getLayer(this.strokeLayerId)&&this.map.removeLayer(this._strokeLayer);t.prototype.remove.call(this)}},e.prototype.invalidate=function(){this.source={type:"geojson",data:{type:"FeatureCollection",features:this._polygons.map(function(t){return{type:"Feature",geometry:o.default.toGeoJson([t])}})}};var t=(0,a.cloneDeep)(this._opts),e={fill:{},stroke:{}};if(["fill","line"].forEach(function(n){var r="line"===n?"stroke":"fill";Object.keys(t).filter(function(t){return new RegExp("^"+n+"-").test(t)}).map(function(n){var o=i.hyphenate(n);t[n]&&(e[r][o]=t[n])})}),this.layer={id:this.layerId,type:"fill",source:this.sourceId,layout:{},paint:e.fill},Object.keys(e.stroke).length>0&&(this._strokeLayer={id:this.layerId+"-stroke",type:"line",source:this.sourceId,layout:{},paint:e.stroke}),this.map){var n=this.map;this.remove(),this.addTo(n)}},e.prototype._style=function(t){return this._opts[t]},e}(r.default);e.default=l,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(49))&&r.__esModule?r:{default:r},i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(5)),a=n(1);var s,u=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e,n,r){void 0===r&&(r=void 0);var o=t.call(this,e,r.id)||this;return o._opts={},o._points=n,r=r||{},Object.keys(r.style).forEach(function(t){var e=i.hyphenate(t);e!==t&&(r.style[e]=r.style[t],delete r.style[t])}),o._opts=r,o}return u(e,t),e.prototype.invalidate=function(){this.source={type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:this._points.map(function(t){return[t.lon,t.lat]})}}]}};var t=(0,a.cloneDeep)(this._opts).style;if(this.layer={id:this.layerId,type:"line",source:this.sourceId,layout:{},paint:t},this.map){var e=this.map;this.remove(),this.addTo(e)}},e.prototype._style=function(t){return this._opts[t]},e}(o.default);e.default=c,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=p(n(31)),o=p(n(98)),i=p(n(262)),a=p(n(107)),s=p(n(110)),u=n(1),c=p(n(2)),l=n(12);function p(t){return t&&t.__esModule?t:{default:t}}var f,d=(f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=n(111).default,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._hasLoaded=!1,e._clickedMapLayer=!1,e}return d(e,t),Object.defineProperty(e.prototype,"$el",{get:function(){return(0,c.default)(this.map.getTarget())},enumerable:!0,configurable:!0}),e.prototype.loadDependencies=function(){return new Promise(function(t,e){if("undefined"==typeof ol||void 0===ol.Map){Promise.all([(0,u.loadStyles)("https://openlayers.org/en/v5.3.0/css/ol.css"),(0,u.loadScript)("https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.3.0/build/ol.js")]).then(function(){t()})}else t()})},e.prototype.setupMap=function(t){var e=this;this._factory=new i.default,this._eventMapping={unload:"unload",resize:"resize",dblclick:"dblclick",mousedown:"mousedown",mouseup:"mouseup",mouseover:"mouseover",mouseout:"mouseout",mousemove:"mousemove",zoom:"zoom",zoomstart:"zoom:start",zoomend:"zoom:end",movestart:"move:start",moveend:"move:end",popupopen:"popupopen",popupclose:"popupclose"},s.default.injectStyles();var n=(0,u.get)(this.opts,"map.view");if(n&&n instanceof ol.View){var r=ol.proj.toLonLat(n.getCenter()),o=r[0],a=r[1];(0,u.isset)(a)&&(0,u.isset)(o)&&(0,u.set)(this.opts,"center",{lat:a,lon:o}),(0,u.set)(this.opts,"zoom",n.getZoom())}if((0,l.isOpenLayers)(t))this._map=t;else{if((0,u.isString)(t)&&(t=(0,c.default)(t)),(0,u.isArray)(t)&&t.length>0)t=t[0];else if((0,u.isDOM)(t)){t=t[0]}this._map=new ol.Map((0,u.extend)({},this.opts.map,{target:t,layers:[new ol.layer.Tile({source:new ol.source.OSM})]})),(0,u.isset)(this.opts.center)||(0,u.set)(this.opts,"center",{lat:43,lon:-93}),(0,u.isset)(this.opts.zoom)||(0,u.set)(this.opts,"zoom",7)}setTimeout(function(){e.trigger("map:ready")},250)},e.prototype.setView=function(t,e){this.map.setView(new ol.View({center:ol.proj.fromLonLat([t.lon,t.lat]),zoom:e}))},e.prototype.getCenter=function(){var t=ol.proj.toLonLat(this.map.getView().getCenter()),e=t[0];return{lat:t[1],lon:e}},e.prototype.setCenter=function(t){this.map.getView().setCenter(ol.proj.fromLonLat([t.lon,t.lat]))},e.prototype.getZoom=function(){return this.map.getView().getZoom()},e.prototype.setZoom=function(t){this.map.getView().setZoom(t)},e.prototype.getBounds=function(){var t=this.map.getView().calculateExtent(this.map.getSize()),e=t[0],n=t[1],r=t[2],o=t[3],i=ol.proj.toLonLat([e,n]),a=i[0],s=i[1],u=ol.proj.toLonLat([r,o]),c=u[0];return{north:u[1],west:a,south:s,east:c}},e.prototype.setBounds=function(t){var e=ol.proj.fromLonLat([t.west,t.south]),n=e[0],r=e[1],o=ol.proj.fromLonLat([t.east,t.north]),i=[n,r,o[0],o[1]];this.map.getView().fit(i)},e.prototype.fitBounds=function(t,e){void 0===e&&(e=[10,10]),this.setBounds(t)},e.prototype.isTile=function(t){return t instanceof a.default},e.prototype.isMarker=function(t){return t instanceof h.Marker},e.prototype.isPolygon=function(t){return t instanceof h.Polygon},e.prototype.isPolyline=function(t){return t instanceof h.Polyline},e.prototype.addOverlay=function(t,e){t instanceof h.Tile?t.addTo(this.map,e):(t instanceof ol.layer.Base||t instanceof ol.layer.Tile)&&(e?this.map.getLayers().insertAt(e,t):this.map.addLayer(t))},e.prototype.removeOverlay=function(t){t instanceof h.Tile?t.remove():(t instanceof ol.layer.Base||t instanceof ol.layer.Tile)&&this.map.removeLayer(t)},e.prototype.addMarker=function(t,e){var n,r=this;if(this.isMarker(t)&&(n=t.popup,t=t.layer),t instanceof ol.layer.Vector)this.containsLayer(t)||(this.map.addLayer(t),t.on("marker:click",function(){r.trigger("marker:click",{data:e,marker:t}),n&&(r._activePopup&&r._activePopup.remove(),n.addTo(r.map),r._activePopup=n)}));else{if((0,u.isPlainObject)(t)){var o=t.renderable,i=t.data;if(o)return void this.addMarker(o,i)}console.error("Cannot add marker "+t+", invalid map object")}},e.prototype.removeMarker=function(t){if(this.isMarker(t)&&(t=t.layer),t instanceof ol.layer.Vector)t.un("click"),this.map.removeLayer(t);else if((0,u.isPlainObject)(t)){var e=t.renderable;e&&this.removeMarker(e)}},e.prototype.updateMarker=function(t,e,n){if(void 0===n&&(n=null),e&&this.isMarker(t)){var r=(0,u.get)(e,"data.value"),o=(0,u.get)(e,"style")||{};(0,u.isFunction)(o)&&(o=o({value:r}));var i=this.factory.markerIcon(o);i&&t.setStyle(new ol.style.Style({image:i}))}},e.prototype.showMarkers=function(t,e){var n=this;t.forEach(function(t){n.isMarker(t)&&(t=t.layer),t instanceof ol.layer.Vector&&t.setVisible(e)})},e.prototype.addShape=function(e,n){var r=this;if(this.isPolygon(e)||this.isPolyline(e)){if(!this.containsLayer(e.layer)){var o=this.getIndexBoundForGeom("point",!0);e.addTo(this.map,o),e.on("click",function(){return r.trigger("shape:click",{data:n,shape:e})})}}else t.prototype.addShape.call(this,e)},e.prototype.removeShape=function(e){if(this.isPolygon(e)||this.isPolyline(e))return e.off("click"),void e.remove();t.prototype.removeShape.call(this,e)},e.prototype.showShape=function(t){this.addShape(t)},e.prototype.hideShape=function(t){this.removeShape(t)},e.prototype.containsLayer=function(t){return-1!==this.map.getLayers().getArray().indexOf(t)},e.prototype.coordToPoint=function(t){var e=this.map.getPixelFromCoordinate(ol.proj.fromLonLat([t.lon,t.lat]));return e?{x:e[0],y:e[1]}:null},e.prototype.pointToCoord=function(t){var e=this.map.getCoordinateFromPixel(ol.proj.toLonLat([t.x,t.y]));if(e){var n=e[0];return{lat:e[1],lon:n}}return null},e.prototype.getInsertIndex=function(t,e){var n=this.map.getLayers().getArray(),r=n.indexOf(t);return-1!==r?Math.max(0,r+e):n.length},e.prototype.getIndexBoundForGeom=function(t,e){void 0===e&&(e=!1);var n=0;return this.map.getLayers().getArray().forEach(function(r,o){if(r instanceof ol.layer.Vector){var i=r.getSource().getFeatures();if(i&&i.length>0)i[0].getGeometry().getType().toLowerCase()===t.toLowerCase()&&(n=e?Math.min(n,o):Math.max(n,o))}}),Math.max(1,n)},e.prototype.showCallout=function(t,e){var n=new s.default;if(n.setHTML(e),(0,l.isCoordObject)(t))n.setCoordinate(t);else if(this.isMarker(t))n.setCoordinate(t.coordinate);else if(t instanceof ol.Feature){var r=t.getGeometry();if(r instanceof ol.geom.Point){var o=r.getCoordinates(),i=o[0],a=o[1];n.setCoordinate({lat:a,lon:i})}}this._activePopup&&this._activePopup.remove(),this._activePopup=n,n.addTo(this.map)},e.prototype._setupEvents=function(){var e=this;t.prototype._setupEvents.call(this),this.map.on("rendercomplete",function(){!1===e._hasLoaded&&(e._hasLoaded=!0,e.trigger("load"))}),this.map.on("click",function(t){var n=!1,r=!1;e.map.forEachFeatureAtPixel(t.pixel,function(t,i){if(!r){var a=t.getGeometry();a instanceof ol.geom.Point?(n=!0,i.dispatchEvent(new o.default("marker:click")),r=!0):a instanceof ol.geom.Polygon&&(e.trigger("shape:click",{shape:t}),r=!0)}},{hitTolerance:10}),r?(e._clickedMapLayer=!0,setTimeout(function(){e._clickedMapLayer=!1},100)):e.trigger("click",e._dataForMapEvent("click",t)),!n&&e._activePopup&&e._activePopup.remove()}),this.map.on("moveend",function(t){e.trigger("change:bounds"),e.trigger("change:center")}),this.map.on("zoomend",function(t){e.trigger("change:zoom")})},e.prototype._shouldTriggerEvent=function(t){return"click"!==t||!1===this._clickedMapLayer},e.prototype._dataForMapEvent=function(t,e){if(!e)return null;var n,r=null;switch(t){case"click":case"dblclick":r={coord:{lat:(n=ol.proj.toLonLat(e.coordinate))[1],lon:n[0]},point:{x:e.pixel[0],y:e.pixel[1]}}}return r},e}(r.default);e.default=y,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(21),o=l(n(107)),i=n(32),a=l(n(109)),s=l(n(110)),u=n(1),c=n(96);function l(t){return t&&t.__esModule?t:{default:t}}var p=n(111).default,f=function(){function t(){}return t.prototype.tileLayer=function(t,e,n){return new o.default(t,e,n)},t.prototype.marker=function(t,e,n){var r=new a.default(e,null,n);if(n){var o=this.markerIcon(n);if(o&&r.setStyle(new ol.style.Style({image:o})),n.callout){var i=n.callout;if((0,u.isFunction)(n.callout))i=(0,n.callout)();var c=new s.default(e);c.setHTML(i),r.setPopup(c)}}return r},t.prototype.markerIcon=function(t){var e;if(t.html&&console.warn("awxjs - HTML markers are not currently supported with OpenLayers"),t.svg){var n=t.size||[12,12],o=n[0],a=n[1];if(t.svg.text){var s=t.svg.text;if((0,r.isArray)(s))s.forEach(function(t){var e;t.autosize&&(e=i.SVG.calculateTextSize(t.value,t.size),o=e[0],a=e[1])});else{var u=s;u.autosize&&(e=i.SVG.calculateTextSize(u.value,u.size),o=e[0],a=e[1])}}a+=3;var c=i.SVG.draw(o,a,t.svg);return new ol.style.Icon({src:"data:image/svg+xml;base64,"+btoa(c),size:[o,a],imgSize:[o,a],crossOrigin:"anonymous"})}if(t.icon){var l=t.icon;return new ol.style.Icon({src:l.url,size:t.size,imgSize:t.size,anchor:l.anchor,crossOrigin:"anonymous"})}return null},t.prototype.polygon=function(t,e,n){var r;if(n){if((r={stroke:null,fill:null}).id=n.id,n.stroke){var o=(0,c.toRGB)(n.stroke.color),i=o.r,a=o.g,s=o.b;r.stroke={color:"rgba("+i+", "+a+", "+s+", "+(n.stroke.opacity||1)+")",width:n.stroke.width,lineCap:n.stroke.lineCap,lineJoin:n.stroke.lineJoin,lineDash:n.stroke.dashArray,lineDashOffset:n.stroke.dashOffset}}if(n.fill){var u=(0,c.toRGB)(n.fill.color);i=u.r,a=u.g,s=u.b;r.fill={color:"rgba("+i+", "+a+", "+s+", "+(n.fill.opacity||1)+")"}}}return new p.Polygon(t,e,r)},t.prototype.polyline=function(t,e,n){var r;if(n&&((r={stroke:null,fill:null}).id=n.id,n.stroke)){var o=(0,c.toRGB)(n.stroke.color),i=o.r,a=o.g,s=o.b;r.stroke={color:"rgba("+i+", "+a+", "+s+", "+(n.stroke.opacity||1)+")",width:n.stroke.width,lineCap:n.stroke.lineCap,lineJoin:n.stroke.lineJoin,lineDash:n.stroke.dashArray,lineDashOffset:n.stroke.dashOffset}}return new p.Polyline(t,e,r)},t}();e.default=f,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(50)),o=a(n(48)),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(5));function a(t){return t&&t.__esModule?t:{default:t}}var s,u=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e,n,r){void 0===r&&(r=void 0);var o=t.call(this,e,r.id)||this;return o._opts={},o._polygons=n,r=r||{},Object.keys(r).forEach(function(t){var e=i.hyphenate(t);e!==t&&(r[e]=r[t],delete r[t])}),o._opts=r,o}return u(e,t),e.prototype.addTo=function(e,n){t.prototype.addTo.call(this,e,n),this.layer||this.invalidate()},e.prototype.invalidate=function(){this.source=new ol.source.Vector({features:(new ol.format.GeoJSON).readFeatures({type:"FeatureCollection",features:this._polygons.map(function(t){return{type:"Feature",geometry:o.default.toGeoJson([t])}})},{featureProjection:"EPSG:3857"})});var t=this._opts,e=t.stroke,n=t.fill;if(this.layer=new ol.layer.Vector({source:this.source,style:new ol.style.Style({stroke:e?new ol.style.Stroke(e):null,fill:n?new ol.style.Fill(n):null})}),this.map){var r=this.map;this.remove(),this.addTo(r,this._targetIndex)}},e}(r.default);e.default=c,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(50))&&r.__esModule?r:{default:r},i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(5));var a,s=(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e,n,r){void 0===r&&(r=void 0);var o=t.call(this,e,r.id)||this;return o._opts={},o._points=n,r=r||{},Object.keys(r).forEach(function(t){var e=i.hyphenate(t);e!==t&&(r[e]=r[t],delete r[t])}),o._opts=r,o}return s(e,t),e.prototype.addTo=function(e,n){t.prototype.addTo.call(this,e,n),this.layer||this.invalidate()},e.prototype.invalidate=function(){this.source=new ol.source.Vector;var t=this._points.map(function(t){return ol.proj.transform([t.lon,t.lat],"EPSG:4326","EPSG:3857")}),e=new ol.Feature({geometry:new ol.geom.LineString(t)});this.source.addFeature(e);var n=this._opts.stroke;if(this.layer=new ol.layer.Vector({source:this.source,style:new ol.style.Style({stroke:n?new ol.style.Stroke(n):null})}),this.map){var r=this.map;this.remove(),this.addTo(r,this._targetIndex)}},e}(o.default);e.default=u,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=c(n(31)),o=c(n(266)),i=c(n(112)),a=n(1),s=c(n(2)),u=n(12);function c(t){return t&&t.__esModule?t:{default:t}}var l,p=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=n(268).default,d=function(t){function e(e,n){return t.call(this,e,(0,a.extend)({accessToken:null},n))||this}return p(e,t),Object.defineProperty(e.prototype,"$el",{get:function(){return(0,s.default)(this.map.getDiv())},enumerable:!0,configurable:!0}),e.prototype.loadDependencies=function(){var t=this;return new Promise(function(e,n){if("undefined"==typeof google||void 0===google.maps){Promise.all([(0,a.loadScript)("https://maps.googleapis.com/maps/api/js?key="+t.opts.accessToken)]).then(function(){e()})}else e()})},e.prototype.setupMap=function(t){var e=this;this._factory=new o.default,this._callout=new google.maps.InfoWindow,this._eventMapping={click:"click",dblclick:"dblclick",mouseover:"mouseover",mouseout:"mouseout",mousemove:"mousemove",zoom_changed:"zoom",drag:"move",dragstart:"move:start",dragend:"move:end"};var n=this.opts.map;if(n){var r=n.center,i=n.zoom;(0,a.isPlainObject)(r)&&(0,a.isset)(r.lat)&&(0,a.isset)(r.lng)&&(0,a.set)(this.opts,"center",{lat:r.lat,lon:r.lng}),i&&(0,a.set)(this.opts,"zoom",i)}if((0,u.isGoogle)(t))this._map=t;else{if((0,a.isString)(t)&&(t=(0,s.default)(t)),(0,a.isArray)(t)&&t.length>0)t=t[0];else if((0,a.isDOM)(t)){t=t[0]}this._map=new google.maps.Map(t,this.opts.map),(0,a.isset)(this.opts.center)||(0,a.set)(this.opts,"center",{lat:43,lon:-93}),(0,a.isset)(this.opts.zoom)||(0,a.set)(this.opts,"zoom",7)}setTimeout(function(){e.trigger("map:ready")},250)},e.prototype.setView=function(t,e){this.map.setOptions({center:{lat:t.lat,lng:t.lon},zoom:e})},e.prototype.getCenter=function(){var t=this.map.getCenter();return{lat:t.lat(),lon:t.lng()}},e.prototype.setCenter=function(t){this.map.setCenter({lat:t.lat,lng:t.lon})},e.prototype.getZoom=function(){return this.map.getZoom()},e.prototype.setZoom=function(t){this.map.setZoom(t)},e.prototype.getBounds=function(){var t=this.map.getBounds();if(t){var e=t.getNorthEast(),n=t.getSouthWest();return{north:e.lat(),west:n.lng(),south:n.lat(),east:e.lng()}}return null},e.prototype.setBounds=function(t){var e=new google.maps.LatLng(t.south,t.west),n=new google.maps.LatLng(t.north,t.east);this.map.fitBounds(new google.maps.LatLngBounds(e,n),0)},e.prototype.fitBounds=function(t,e){void 0===e&&(e=[10,10]);var n=new google.maps.LatLng(t.south,t.west),r=new google.maps.LatLng(t.north,t.east),o=new google.maps.LatLngBounds(n,r);this.map.fitBounds(o,{top:e[1],right:e[0],bottom:e[1],left:e[0]})},e.prototype.isTile=function(t){return t instanceof i.default},e.prototype.isMarker=function(t){return t instanceof google.maps.Marker},e.prototype.isPolygon=function(t){return t instanceof google.maps.Polygon},e.prototype.isPolyline=function(t){return t instanceof google.maps.Polyline},e.prototype.addSource=function(e){t.prototype.addSource.call(this,e),i.default},e.prototype.addOverlay=function(t){t instanceof f.Tile?t.addTo(this.map):t instanceof google.maps.ImageMapType?this.map.overlayMapTypes.push(t):t instanceof google.maps.GroundOverlay&&t.setMap(this.map)},e.prototype.removeOverlay=function(t){if(t instanceof f.Tile)t.remove();else if(t instanceof google.maps.ImageMapType){var e=this.map.overlayMapTypes.getArray().indexOf(t);-1!==e&&this.map.overlayMapTypes.removeAt(e)}else t instanceof google.maps.GroundOverlay&&t.setMap(null)},e.prototype.addMarker=function(t,e){var n=this;if(this.isMarker(t))return t.setMap(this.map),void t.addListener("click",function(){return n.trigger("marker:click",{data:e,marker:t})});if((0,a.isPlainObject)(t)){t.config=t.config||{},t.style=t.style||{};var r=t.renderable,o=t.data,i=t.style.callout;if(r)return o&&i&&r.addListener("click",function(){var t=(0,a.isFunction)(i)?i(o):i;n._callout.setContent(t),n._callout.open(n.map,r)}),void this.addMarker(r,o)}console.error("Cannot add marker "+t+", invalid map object")},e.prototype.removeMarker=function(t){if(this.isMarker(t))t.setMap(null);else if((0,a.isPlainObject)(t)){var e=t.renderable;e&&this.removeMarker(e)}},e.prototype.updateMarker=function(t,e,n){if(void 0===n&&(n=null),e&&this.isMarker(t)){var r=(0,a.get)(e,"data.value"),o=(0,a.get)(e,"style")||{};(0,a.isFunction)(o)&&(o=o({value:r}));var i=this.factory.markerIcon(o);i&&i.icon&&t.setIcon(i.icon)}},e.prototype.addShape=function(e,n){var r=this;if(this.isPolygon(e)||this.isPolyline(e))return e.setMap(this.map),void e.addListener("click",function(){return r.trigger("shape:click",{data:n,shape:e})});t.prototype.addShape.call(this,e)},e.prototype.removeShape=function(e){this.isPolygon(e)||this.isPolyline(e)?e.setMap(null):t.prototype.removeShape.call(this,e)},e.prototype.showShape=function(t){this.addShape(t)},e.prototype.hideShape=function(t){this.removeShape(t)},e.prototype.coordToPoint=function(t){var e=this.map.getProjection(),n=this.map.getBounds(),r=e.fromLatLngToPoint(n.getNorthEast()),o=e.fromLatLngToPoint(n.getSouthWest()),i=Math.pow(this.map.getZoom(),2),a=e.fromLatLngToPoint(new google.maps.LatLng(t.lat,t.lon));return{x:(a.x-o.x)*i,y:(a.y-r.y)*i}},e.prototype.pointToCoord=function(t){var e=this.map.getProjection(),n=this.map.getBounds(),r=e.fromLatLngToPoint(n.getNorthEast()),o=e.fromLatLngToPoint(n.getSouthWest()),i=Math.pow(this.map.getZoom(),2),a=e.fromPointToLatLng(new google.maps.Point(t.x/i*o.x,t.y/i+r.y));return{lat:a.lat(),lon:a.lng()}},e.prototype.showCallout=function(t,e){if((0,u.isCoordObject)(t))new google.maps.InfoWindow({position:new google.maps.LatLng(t.lat,t.lon),content:e}).open(this.map);else if(this.isMarker(t)){new google.maps.InfoWindow({content:e}).open(this.map,t)}},e.prototype._setupEvents=function(){var e=this;t.prototype._setupEvents.call(this);var n=function(){e.trigger("change:bounds"),e.trigger("change:center")};this.map.addListener("dragend",function(t){n()}),this.map.addListener("zoom_changed",function(t){n(),e.trigger("change:zoom")})},e.prototype._dataForMapEvent=function(t,e){if(!e)return null;var n=e.pixel||{x:void 0,y:void 0},r=null;switch(t){case"click":case"dblclick":r={coord:{lat:e.latLng.lat(),lon:e.latLng.lng()},point:{x:n.x,y:n.y}}}return r},e}(r.default);e.default=d,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(112))&&r.__esModule?r:{default:r},i=n(32),a=n(1);var s=function(){function t(){}return t.prototype.tileLayer=function(t,e,n){return new o.default(t,e,n)},t.prototype.marker=function(t,e,n){var r={};n&&(r=this.markerIcon(n),n.zIndex&&(r.zIndex=n.zIndex));var o=new google.maps.Marker((0,a.extend)({position:new google.maps.LatLng(e.lat,e.lon),optimized:!1},r));if(n&&n.callout){n.callout;if((0,a.isFunction)(n.callout))(0,n.callout)()}return o},t.prototype.markerIcon=function(t){var e;if(t.html&&console.warn("awxjs - HTML markers are not currently supported with Google Maps"),t.svg){var n=t.size||[12,12],r=n[0],o=n[1];if(t.svg.text){var s=t.svg.text;if((0,a.isArray)(s))s.forEach(function(t){var e;t.autosize&&(e=i.SVG.calculateTextSize(t.value,t.size),r=e[0],o=e[1])});else{var u=s;u.autosize&&(e=i.SVG.calculateTextSize(u.value,u.size),r=e[0],o=e[1])}}o+=3;var c=i.SVG.draw(r,o,t.svg);return{icon:{url:"data:image/svg+xml;base64,"+btoa(c),size:new google.maps.Size(r,o),scaledSize:new google.maps.Size(r,o),anchor:new google.maps.Point(r/2,o/2)}}}if(t.icon){var l=t.icon,p={icon:{url:l.url,size:new google.maps.Size(t.size[0],t.size[1]),scaledSize:new google.maps.Size(t.size[0],t.size[1])}};return l.anchor&&2===l.anchor.length&&(p.icon.anchor=new google.maps.Point(l.anchor[0],l.anchor[1])),p}return null},t.prototype.polygon=function(t,e,n){var r;n&&(r={stroke:!1,fill:!1},n.stroke?(r.strokeColor=n.stroke.color,r.strokeOpacity=n.stroke.opacity,r.strokeWeight=n.stroke.width):r.strokeOpacity=0,n.fill?(r.fillColor=n.fill.color,r.fillOpacity=n.fill.opacity):r.fillOpacity=0);var o=[];return e.forEach(function(t){var e=t.coordinates.map(function(t){return{lat:t.lat,lng:t.lon}}),n=t.interior.map(function(t){return t.coordinates.map(function(t){return{lat:t.lat,lng:t.lon}})});r.paths=[e].concat(n);var i=new google.maps.Polygon(r);o.push(i)}),o},t.prototype.polyline=function(t,e,n){var r;return n&&(r={stroke:!1,fill:!1},n.stroke?(r.strokeColor=n.stroke.color,r.strokeOpacity=n.stroke.opacity,r.strokeWeight=n.stroke.width):r.strokeOpacity=0),new google.maps.Polyline((0,a.extend)({},r,{path:e.map(function(t){return new google.maps.LatLng(t.lat,t.lon)})}))},t}();e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(3))&&r.__esModule?r:{default:r};var i,a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e,n){void 0===n&&(n=void 0);var r=t.call(this)||this;return r._hidden=!1,r.id="aeris-layer-"+e+(n?"-"+n:""),r}return a(e,t),Object.defineProperty(e.prototype,"map",{get:function(){return this._map},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHidden",{get:function(){return this._hidden},enumerable:!0,configurable:!0}),e.prototype.addTo=function(t,e){this.map!==t&&(this._map=t,this._targetIndex=e)},e.prototype.remove=function(){this.map&&(this._map=null)},e.prototype.show=function(){this._hidden=!1},e.prototype.hide=function(){this._hidden=!0},e.prototype.setOpacity=function(t){throw new Error("Subclasses of GoogleLayer should override setOpacity()")},e.prototype.setZIndex=function(t){throw new Error("Subclasses of GoogleLayer should override setZIndex()")},e.prototype.exists=function(){this.map;return!1},e.prototype.invalidate=function(){throw new Error("Subclasses must override `invalidate`")},e}(o.default);e.default=s,t.exports=e.default},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={Tile:((r=n(113))&&r.__esModule?r:{default:r}).default};e.default=o,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(270))&&r.__esModule?r:{default:r},i=n(51),a=n(1);var s=function(){function t(t){this._configs={"air-quality":o.default.airquality,convective:o.default.convectiveOutlook,"drought-monitor":o.default.droughtMonitor,earthquakes:o.default.earthquakes,fires:o.default.fires,"fire-outlook":o.default.fireOutlook,"lightning-strikes":o.default.lightningStrikes,records:o.default.records,"river-observations":o.default.rivers,stormcells:o.default.stormcells,stormreports:o.default.stormreports,text:o.default.text,"tropical-cyclones":o.default.tropicalcyclones,"tropical-cyclones-break-points":o.default.tropicalBreakpoints},t&&this.setStyles(t)}return t.prototype.getConfig=function(t){return this._configs[t]},t.prototype.setConfig=function(t,e){this._configs[t]=e},t.prototype.setStyle=function(t,e){var n=this.getConfig(t)||{};if((0,i.isTile)(t)){var r=void 0;r=e.raster?e.raster:e,n.style=(0,a.extend)(n.style,r)}else if((0,i.isVector)(t)||(0,i.isText)(t)){var o=void 0,s=void 0,u=void 0,c=(0,a.isset)(e.marker)||(0,a.isset)(e.polygon)||(0,a.isset)(e.polyline);e.marker?o=e.marker:!1===c&&(o=e),e.polygon?s=e.polygon:!1===c&&(s=e),e.polyline?u=e.polyline:!1===c&&(u=e),n.style=(0,a.extend)(n.style,{marker:o,polygon:s,polyline:u})}this._configs[t]=(0,a.cloneDeep)(n)},t.prototype.setStyles=function(t){var e=this;Object.keys(t).forEach(function(n){return e.setStyle(n,t[n])})},t.prototype.getStyle=function(t,e){var n=this.getConfig(t);if(n){var r=n.style;return r[e]?r[e]:r}},t.prototype.setTextStyle=function(t){this.setStyle("text",{marker:t})},t.prototype.getTextStyle=function(){return this.getStyle("text","marker")},t}();e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=v(n(271)),o=v(n(272)),i=v(n(273)),a=v(n(274)),s=v(n(275)),u=v(n(276)),c=v(n(277)),l=v(n(278)),p=v(n(279)),f=v(n(280)),d=v(n(281)),h=v(n(282)),y=v(n(283)),m=v(n(284));function v(t){return t&&t.__esModule?t:{default:t}}var g={airquality:r.default,convectiveOutlook:o.default,droughtMonitor:i.default,earthquakes:a.default,fires:s.default,fireOutlook:u.default,lightningStrikes:c.default,records:l.default,rivers:p.default,stormcells:f.default,stormreports:d.default,text:h.default,tropicalcyclones:y.default,tropicalBreakpoints:m.default};e.default=g,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.config=void 0;var r=n(1),o=function(t){switch(t=t.toLowerCase().replace(/\s/,"-")){case"good":return"#29e11f";case"moderate":return"#f8f92a";case"usg":return"#f9681b";case"unhealthy":return"#f60115";case"very-unhealthy":return"#7a2c83";case"hazardous":return"#65001b";default:return"#000000"}},i={request:{endpoint:"airquality"},style:{marker:function(t){var e=(0,r.get)(t,"periods.0");if(!e)return null;var n=(0,r.get)(e,"category");if(!n)return null;var i=function(t){switch(t=t.toLowerCase().replace(/\s/,"-")){case"moderate":return 12;case"usg":return 14;case"unhealthy":return 18;case"very-unhealthy":return 20;case"hazardous":return 24;default:return 10}}(n);return{className:"marker-airquality",svg:{shape:{type:"circle",fill:{color:o(n)},stroke:{color:"#ffffff",width:2}}},size:[i,i]}}},data:{properties:{id:"id",timestamp:"timestamp"}}};e.config=i;var a=i;e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.config=void 0;var r=n(4),o=n(1),i={default:"#000000",general:"#b3e6b1",marginal:"#6cbd69",slight:"#f4f964",enhanced:"#e0b767",moderate:"#e0686a",high:"#fe59ff"},a={request:{endpoint:"convective/outlook",action:r.ApiAction.SEARCH,parameters:{filter:"geo"}},style:{polygon:function(t){var e=(0,o.get)(t,"details.risk.type");return{fill:{color:i[e]||i.default,opacity:.7}}}},data:{properties:{id:"id",category:"details.risk.type",timestamp:{from:"details.range.minTimestamp",to:"details.range.maxTimestamp"},path:"geoPoly"}}};e.config=a;var s=a;e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.config=void 0;var r=n(4),o=n(1),i=function(t){switch(t=t.toLowerCase()){case"d0":return"#ffff00";case"d1":return"#fccc66";case"d2":return"#ff9b00";case"d3":return"#e10000";case"d4":return"#600000";default:return"#000000"}},a={request:{endpoint:"droughts/monitor",action:r.ApiAction.SEARCH,parameters:{filter:"geo"}},style:{polygon:function(t){var e=(0,o.get)(t,"details.category");return{fill:{color:i(e),opacity:.7}}}},data:{properties:{id:"id",category:"details.category",timestamp:{from:"details.range.minTimestamp",to:"details.range.maxTimestamp"},path:"geoPoly"}}};e.config=a;var s=a;e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.config=void 0;var r=n(1),o=function(t){switch(t=t.toLowerCase().replace(/\s/,"-")){case"mini":return"#6fb314";case"minor":return"#dfcb01";case"light":return"#ce8f00";case"moderate":return"#ff5d01";case"strong":return"#e90004";case"major":return"#ce0052";case"great":return"#b90285";case"catastrophic":return"#f500ff";default:return"#000000"}},i={request:{endpoint:"earthquakes"},style:{marker:function(t){var e=(0,r.get)(t,"report.type");(0,r.get)(t,"report.mag")>=9&&(e="catastrophic");var n=function(t){switch(t=t.toLowerCase().replace(/\s/,"-")){case"minor":return 18;case"light":return 20;case"moderate":return 22;case"strong":return 26;case"major":return 30;case"great":return 36;case"catastrophic":return 42;default:return 16}}(e);return{className:"marker-earthquake",svg:{shape:{type:"circle",fill:{color:o(e)},stroke:{color:"#ffffff",width:2}}},size:[n,n]}}},data:{properties:{id:"report.id",timestamp:"report.timestamp"}}};e.config=i;var a=i;e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.config=void 0;var r={request:{endpoint:"fires"},style:{marker:function(t){return{className:"marker-earthquake",svg:{shape:{type:"circle",fill:{color:"#ff0000"},stroke:{color:"#ffffff",width:2}}},size:[12,12]}}},data:{properties:{id:"report.id",timestamp:"report.timestamp"}}};e.config=r;var o=r;e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.config=void 0;var r=n(4),o=n(1),i=function(t){switch(t=t.toLowerCase()){case"elevated":return"#ffb367";case"critical":return"#ff666a";case"extreme":return"#fe59ff";default:return"#000000"}},a={request:{endpoint:"fires/outlook",action:r.ApiAction.SEARCH,parameters:{filter:"geo"}},style:{polygon:function(t){var e=(0,o.get)(t,"details.risk.type");return{fill:{color:i(e),opacity:.7}}}},data:{properties:{id:"id",path:"geoPoly",category:"details.risk.type",timestamp:{from:"details.range.minTimestamp",to:"details.range.maxTimestamp"}}}};e.config=a;var s=a;e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.config=void 0;var r=n(1),o=function(t){return t<1?"#f5f5f5":t<5?"#dddddd":t<10?"#bbbbbb":t<15?"#888888":"#545454"},i={request:{endpoint:"lightning"},style:{marker:function(t){var e=(0,r.get)(t,"ob.timestamp");if(!e)return null;var n=((new Date).getTime()-1e3*e)/6e4;return{className:"marker-record",svg:{shape:{type:"circle",fill:{color:o(n)},stroke:{color:"#ffffff",width:2}}},size:[14,14]}}},data:{properties:{id:"id",timestamp:"ob.timestamp"}}};e.config=i;var a=i;e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.config=void 0;var r=n(1),o=function(t){switch(t=t.toLowerCase().replace(/\s/,"-")){case"prcp":return"#2ef000";case"snow":return"#004fff";case"hsnd":return"#e402a4";case"maxt":return"#ff4b00";case"mint":return"#8700ff";case"himn":return"#eef500";case"lomx":return"#37b9f8";default:return"#000000"}},i={request:{endpoint:"records"},style:{marker:function(t){var e=(0,r.get)(t,"report.type");return{className:"marker-record",svg:{shape:{type:"circle",fill:{color:o(e)},stroke:{color:"#ffffff",width:2}}},size:[14,14]}}},data:{properties:{id:"id",timestamp:"report.timestamp"}}};e.config=i;var a=i;e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.config=void 0;var r=n(1),o=function(t){switch(t=t.toLowerCase().replace(/\s/,"-")){case"out_of_service":return"#535353";case"obs_not_current":return"#afb6ad";case"not_defined":return"#5f9de6";case"low_threshold":return"#7e5012";case"no_flooding":return"#0cff01";case"action":return"#ffff02";case"minor":return"#ff8700";case"moderate":return"#ff0000";case"major":return"#c000ff";default:return"#000000"}},i={request:{endpoint:"rivers"},style:{marker:function(t){var e=(0,r.get)(t,"ob.status");return{className:"marker-river",svg:{shape:{type:"circle",fill:{color:o(e)},stroke:{color:"#ffffff",width:2}}},size:[14,14]}}},data:{properties:{id:"id",timestamp:"ob.timestamp"}}};e.config=i;var a=i;e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.config=void 0;var r=n(1),o=function(t){switch(t=t.toLowerCase()){case"general":return"#2ED300";case"hail":return"#EBE100";case"rotating":return"#F17200";case"tornado":return"#FF2600";default:return"#000000"}},i={request:{endpoint:"stormcells"},style:{marker:function(t){var e=(0,r.get)(t,"traits.type");return{className:"marker-stormcell",svg:{shape:{type:"circle",fill:{color:o(e)},stroke:{color:"#ffffff",width:2}}},size:[12,12]}},polygon:function(t){var e=(0,r.get)(t,"traits.type");return{fill:{color:o(e),opacity:.5}}}},data:{properties:{id:"id",path:"forecast.cone.wide",category:"traits.type",timestamp:"ob.timestamp"}}};e.config=i;var a=i;e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.config=void 0;var r=n(1),o=function(t){switch(t=t.toLowerCase()){case"avalanche":return"#639fec";case"blizzard":return"#4100e2";case"flood":return"#117d00";case"fog":return"#767676";case"ice":return"#e100e2";case"hail":return"#62def7";case"lightning":return"#8c8c8c";case"rain":return"#38e600";case"snow":return"#175cef";case"tides":return"#40db83";case"tornado":return"#c50000";case"wind":return"#d8cc00";default:return"#000000"}},i={request:{endpoint:"stormreports"},style:{marker:function(t){var e=(0,r.get)(t,"report.cat");return{className:"marker-stormreport",svg:{shape:{type:"circle",fill:{color:o(e)},stroke:{color:"#ffffff",width:2}}},size:[14,14]}}},data:{properties:{id:"id",timestamp:"report.timestamp"}}};e.config=i;var a=i;e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.config=void 0;var r={style:{marker:function(t){return{className:"marker-text",svg:{text:{value:t.value||"",x:25,y:Math.round(16-(16-14*.7)/2),size:14,style:"bold",color:"rgb(0,0,0)",autosize:!0}},spacing:20}}}};e.config=r;var o=r;e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.config=void 0;var r=n(4),o=n(1),i=function(t){switch(t=t.toUpperCase()){case"DB":case"WV":case"I":case"LO":return"#4875fb";case"TD":return"#FFFF00";case"TS":return"#FFA801";case"H":case"H1":return"#DD0101";case"H2":return"#FF0491";case"H3":return"#DD00FD";case"H4":return"#FEAFFF";case"H5":return"#EFEFEF";case"TY":return"#DD0101";case"STY":return"#EFEFEF";default:return"#000000"}},a=function(t){switch(t=t.toUpperCase()){case"DB":case"WV":case"I":case"LO":return"data:image/png;base64,\n\t\t\tiVBORw0KGgoAAAANSUhEUgAAADIAAAAxCAYAAACYq/ofAAAAnklEQVR4Ae3PIQwB\n\t\t\tcQCF8dckkikGfaJsZnrRm6AXVaAnfdM0mz5FE1TZphLFuxfv2u3+u93d7fu2199P\n\t\t\t1Y2IiIiIjuruPxo9XhrcErt/Nb6u1Z7VCXIxJPL51Az5GbICAgQIECBAgAABAgQI\n\t\t\tkJwB8f7e2dt6uww7vDXcnNTrlA0JniFPQ/oqMiBAgACZGLL0kXngFoZMDWmpGRER\n\t\t\tERHFyMkdx1u9TkkAAAAASUVORK5CYII=";case"TD":return"data:image/png;base64,\n\t\t\tiVBORw0KGgoAAAANSUhEUgAAADIAAAAxCAYAAACYq/ofAAAHl0lEQVR42tWaCWwU\n\t\t\tVRjHv3a7pbSUUtrSC7a70HBoIXI15VAaCgoK0VQxQsELKoF4cgTLZUASEqMIBlSq\n\t\t\tIUgMlxoQ4gohyF0OURCMoQstCIKQcpWjlKMdfxOmcRxndndKm7Zf8k+TzrzjN+97\n\t\t\t733veyt27FtJzK4QT16mNIuXpmrrJWn+DfHM6F4LiInSMvWSuEcdk3bvoZVoN9qm\n\t\t\taQf6ES1Bk/8UV79V0ia8XiBKxFVIRwozJDxZgrRp0iq9TNwFdO4XpNjULbS5VFwj\n\t\t\tf5CkuDqB2CTJG8vFvb+zON2iM68kRT8pkU4x2PvSOuuCpHnpyB2k1IGunRDXvK2S\n\t\t\t3LrWEBSeRyV3Loo7S3S2QtpE3hbPwgES0Vs0+1Di0v+WtG9ouMpPpyrQLvQxeh0N\n\t\t\tRo+hbO3vMDQNLUCH0C1d2evHpV3BHkmx53bbJWUkBatwjykdxNncAJJ7Wlxqh0cL\n\t\t\txt930CWLzt9G31FPDu4WKTYML4jmI46l/AZUiRSftDu5V1K7SzAGtQuIS7hIsVvC\n\t\t\tUgUzgHwNiKJNUi+6ZgJwgXk1k4n+wCscfQihLynUOQWVFTNSByV1bDAgawFRKPwi\n\t\t\tlfxnKFlRYlhZ/E3gqivinv+KRMdIHVuSOELO3QdaBIxyWNp+KlbGsD3N8N08L2nn\n\t\t\tUiUsWTADyFhALlhA7AWiv9SzxUqoA4/oR3tHj0rbQiuQg4AogBQAEmkCsgYQq9FY\n\t\t\tA0g3sWk50jzurrR/Zpkk2PoIJ8XVhja/Qm+L3vC7QcWavwOSYbKzdzslLl+gJROY\n\t\t\t1+zCXKWMVv4EbcynrSwJwpwSEkaflxtBVvDPavzwCP6YYAIylUauWABU0pnPR0hU\n\t\t\tO6mFsZQ/RPkDuvruokNsxgXsZW6xY4CUA6IAshiQaBOQrYAYAUrowPxhEtlWHtCo\n\t\t\t5yWLj3QPHWEBeouFKFH8GSvAE0DcpIAKkg9IM0Os9QghQ6mu8lIanoB/A1w31lci\n\t\t\tOuKW+4wgRij6uZ2P3tEKZBovVGogIwBxGkDeBeSWCkBj42g0SurBqDvPD8RNH0sv\n\t\t\tC1KmvxHxFkP7l6Qp8eJINIl+FxD9DiT6dYiJEaLEEqJk0thAlI1y2BB7sCHaGjGO\n\t\t\tCF2BOW02EriWF9cKDeRaRYBU6UBsGSCDATmmbxyQfYD0tAkSAcgksxEBpAKQDwKB\n\t\t\tVACiNCiIZox6l8viPmkGg2tdxbWymwpIBCBvavUcRqv19dLPEia70y+INtkz1bim\n\t\t\tQUA04xCXQfnj6q6NOqAbOpAKQCYHBtFWrQYGib0unmdZZNKjJTSUAHaMYVRO0+eI\n\t\t\tQCDzAIlqSBCjEfclEDbt0YHcos/jLZdfDWQDILGNDCQEkH46kCp1pTUDWcnDuxrI\n\t\t\tVUCSGxOIdh6Jo2879UkKwvgUI8j4Yt0ZGfqn+AqORgbSDJB8XRt3AJloBOkMyA0d\n\t\t\tiBeQuIYGMVo8UTlbRHXNbg/IUrPo9zdgal5Sj7pdGyFIDCDbtDaqAdlvBjJX716A\n\t\t\tFHJmj21kIM0BmVPTBiC3zUDiAbms70wZgZ9otlNSWvaRiLAGBgkDJFcPYnVm/8hH\n\t\t\tOK8DORAjoQlrJbEj0e8ywodOgUDs6Kyk3Vwi8bPswADSIRiQWEDKDA3mo7naeXxk\n\t\t\tQ4OQRYkni6IDsc5rzTiuW8HQNXRJAyki1E5vKiAhgBSpq4JFliSvSYBoud+2wPxh\n\t\t\tAbKFo67HANILkBU8L0LbgtROQDYBMkZMjMWiC1mU2WRR2luAVANSHAgkBhCvmpYx\n\t\t\tgyHxMFzqyfhQnbTEmwKIz8+IVAGy2Wqyt/HdT+tXmADoQdaTi0qTOjLqclCnet7f\n\t\t\tXvPxSHaUc9Ez07D8Oli1cmpyX4BM9zdHBjEai3jxLKr2A5P7oABDJFIFeJz69hvr\n\t\t\tB+QUID0NIOGAvFqTFASkr2h3Gy8zfK393Fj153kh7103AdlIXstTG4BciYqk/PPU\n\t\t\t8zNSTCAUDlU7TDbEFoAs17Lx5wSrAWmF1pEQTgxwGeqk8iG8+xm6rIEogAy1C0Fa\n\t\t\tdQBlT5kA6EGuqrk0E5DWgJwE5N7/rhUYnocp/CsTqD8TKWDozkVPDO/mUmY3HfoE\n\t\t\t90iuxYgkUHau1U0XID5APCb3I5naweo6IElmB6ssHl6EdhLUEVLPBkgcIAvNINT8\n\t\t\tMnnmdSbnkWhAFqtuRVz4vb8k9nO8dF5d4zmP9OA8ElrXAHnSIvTK/blRghQLkDJA\n\t\t\txpuAJANyjT6W09d08Wcsvx7fv414CRp7cRnqeFCAcRIdTq5qMHVusgD4HS3WQI4A\n\t\t\tEms4s0fycaf7eE4fZwd7Gepg+V2l3cgqaBeaSkfSiH6DzndNkVahF9mdKTsLlVqN\n\t\t\tAO68eoHEOduLM6NSPGe5FVsvBuNspM7jckAOAuKwe8/+AvfsRhc4ir5EM9Aw9CjK\n\t\t\t1tQPjUJz0Ep0NkCs5SNEGa67VmgJyGhAJhpudWMB+YKPe4aPnFbbXz6EsY+Mo9ET\n\t\t\tSKkjnSYuG0981sxkh3f+JMktRTPcOhz3zgfiHmGTjaXexj5iU+VoNV92gNgwXLMP\n\t\t\tXnEF7xgi9WHcwHY+I643tF/1eNEOwy9+tqClaAKd6arOF7FpRL+98YadeMVQaarG\n\t\t\twpKJB6wm1grqbvIfGtZ9jk1z5nQAAAAASUVORK5CYII=";case"TD-FLIPPED":return"data:image/png;base64,\n\t\t\tiVBORw0KGgoAAAANSUhEUgAAADIAAAAxCAYAAACYq/ofAAAAGXRFWHRTb2Z0d2Fy\n\t\t\tZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACgpJREFUeNrMWgl0VNUZ/mbLSsiELCZM\n\t\t\tlgGJRCgWKKAsNimboVZQFj3UQwq0hRZaelrSA1Joe6QCbZEjEGyB44JGqGDLUmSr\n\t\t\tKHOIIBBCElE2JetkJwwJIRsz0+8mb8jzMW+SgXiY/5z/ZO59d+67//237/8ngA/S\n\t\t\tEPgH1MKcehXxiz9EtK4r39Hc68veROSACQh8ogHOPhw+Rg4j26XH4uW15GLyuQjo\n\t\t\tjq+BrXAtbLe7uv934GewoPcUGxw/uYLWH6eivL7bBPkAD00YBv9pTXA+Lx3cG6oj\n\t\t\tHwyD9h9bUG9Z0SanZ0qCQZ8F03MU5s9FaH1qHMpL71mQQ4jRJ8IwuxXOpRw+3E3W\n\t\t\tUxIK7Svv4ebb6bjWLH+QjADDnxAWOBblQnC+0BDyGUzpNtjnWmEfmYKyUq8FOYqY\n\t\t\t1AQYNtyGM1E2LczlY3Il+TS5WjIlQc1tVgH0bbtQcS7PmrsSAu3iPWj470LUYBQC\n\t\t\tQj9GzKTdaNDPRFWma5EZ+phTMO2ugyO8CvbE0Si7ayO9u90/RW9dFHSZNPipFMKP\n\t\t\tU1nkfZzbSfUWn0Oz08PhTro+pMOoWQrj0BrYp3M4w41GE+vh2DcFwe83wzkrA3Vx\n\t\t\tnHuVfIacKVtXTp5HziMfIU/sVOcnYepzGXFfX0Sck3ygGuZhVK/ufm3pZwjRMxJN\n\t\t\t555fSHsr+Tw5Q3wuRHw+/fEbmjRBH1SBhGU8m5Nn/I1H08qGaTxV/Q6vu9II7c+/\n\t\t\tB2uOFbcd3RlaX0QPbQYiplfCvloywbsoAJqabDQvn47KzfL5aOhichB7iVp0kPsN\n\t\t\tg7XG9Uzr+pCL2CQKsT0Y2q1jUDYqGkXZ3S2EIDq4IwyFO5ehdgQPtl5lWQQ5VSXy\n\t\t\tbSSHktfJH7QJ8jliB/IWtgdCM3UQSl6mTTd25VCbERl3G33TUhF0L9FMKx3srjjM\n\t\t\t8I6h8B+4B9F9FI8ayMJiwEufKi7/zma0SaMBmnR/aFIHoDTrOhx2T2/fgShjEeKf\n\t\t\t4/csDJXFN+FI4fRNbySYgeBkJtQzFbCv4LCXyrIo8gvyCa5n5i2t6AGthcMg8iL5\n\t\t\trTxLQRY/ipIqHsrtjoQJ4YQLM3n4w4QP5Y1w/ofT37+TatpDcZdpFxosc1E9mKa1\n\t\t\tgMMLKsuE+UxyM99CtlArGlrRbFpTkMc8cgy9A0zQpVI9kzkUmTxYuYYH2T8NlYuO\n\t\t\torHgXn2GZqn7F6LG8bZXcjhC/swPmqILaJn2NCrOdjiPTkeTSuGlfySEYqKeMwil\n\t\t\t27UqeWQLhbBRiN0cznEnhERvkQvux/kP4ZbdiMIj81HNAKMby6kTssdhSq3Qf+30\n\t\t\t47ygdh3opKQLrcr+vyYvlrK4W+JL907hTVEb3RLNLGgSAn2ShqrRD0EnnPjdFjh7\n\t\t\tJsFvCmGScrkAn19JgqSoZnZCAAE1NhGitBKi/JXZ3ehm2RvkItdgLcLDmCMSb8DR\n\t\t\tg0PhbLpI6K4THF55HXX1XRXoNFEOw/Mlot80ot/VBIwzpHxzVbZM7G+7g2DUBJF8\n\t\t\tZBTN6y/uhOCNnfohKi6dYKCU0TApxveXzZ0iLySf9VZD5+nT4SgUgeBlT+sYqDQM\n\t\t\tQslqWIuxT7eVPhKp8n1x4Mu+VIyp+cjfyPJkJBDuOyJfUBunn0L5KYU2fE8QArIw\n\t\t\t2vYcaiNQNr2E/FJb0gUyJEeDr2tkeRsCkCgcun8zju9PQkkZa4Fl9I1jp9H8oM8t\n\t\t\tXGKwaj1C9BtBDDOHIcFfNr1KMi2m8rKtD1oCJkQBcMOYEPWeCqspkAnB+nrrcJQW\n\t\t\tFOK2L1mRnysJysimNK20tnKggzaRr/uYO/jJcB4IUZw0+zy9rB4JIIwf4pT8hoXV\n\t\t\twaGwllp9SxuQLnqyLDEeUzp7sqyJIGi/hP99hgiLDPmI/QH9I0wmSK7SRwa7BOlJ\n\t\t\t+QajdB8RaZOPaUPAn1kKzLVNqZEE2Thfau34DJmg19D8B9TB8YxUfzhZSRYQwn+p\n\t\t\tFMQsG+dJBcwDpcfgpzsFU6isYtysKLC2eexrSbX0fTceqmF/fBFCsxchVHUN89at\n\t\t\tPWhYsxA1KxW9316fwjSfZYKRa5bkwPQ8y/CBsiVV5PWdCWKR4MiDpHDWI79IgqHy\n\t\t\tDExxFGKDrIfVWA/H+mGwNnUmyAMl8bOCaNcSEsW3uYdo9HSQU6rzN6phLZu0yBdI\n\t\t\tIO/fSZ91UiPCdWBbLRw/pTZa1CCKcPCpalrag+h14xG4/0mUWc6h2V3L6Dram9q1\n\t\t\tXkQ8cchb5ELXxAhq4zBiJlXCbnazuJ5a+iMr2Fx3KNJFhTIHN0vPWuV9M27y0Q5E\n\t\t\tZbEm2UxEvI81yZ0SNh3Xsslp3aSNuSrPRNvpeGcwPk8mSIIbzeyUhH2St5X5JiLz\n\t\t\tbDD/chwCQ7rLnkYRfVAbQ7n/QHfPaQb9WFacvYS440TqE90Kwkx+kZHgmsYVwtvB\n\t\t\t2R16FhW5OWguCOhohfVh5n99EyLyKdCyHyEoshtkeUTq4KiR8IuD5A1tFbmHwmqv\n\t\t\tZE7fVQoi6yraFHNmCvTKWoSXUKB/zkBw3L1IkExtHED0SGrjcTeH/4T+MZvviSPS\n\t\t\tfaY/SnbR2Rs8CSLq8kbCgJ6EA30FLFA8P+wqstyQP180fyV6FV+Hed4ceG1xA6SO\n\t\t\tiwtDZftBM/9rtMbw8GMTUbItBWVVbrooepra29pv9nOs2QxtV6TJycoO43RU5p9E\n\t\t\t07lA9U7r+wwEo3+Fmm1vocutLNDPaArRw3kRMdz7t4yKZh5+eF8Ub2FQqXWPHrUo\n\t\t\tQHzU54h9gzkj113NvlIKibPktbuMjkjwwB25gKdXgFN0K40o3MbDxyWg+LWZqLJ6\n\t\t\tWs/KVfclYkc3w3mUhVUzv/faXYKMhHUvMVIWHT+G+GaCGXqlr3xAVvuZ+AnauCUD\n\t\t\tEatpWqHfQj2iKUNC75MwrWuEM4vo9zjR7zxPfa3fS079ByiadLytGxY0XZCayAel\n\t\t\tuC7XgJbCLF0C4+VrMC9fgJ4R9ysAL1NTSQGOofdi+m8e3zyfF53OSLvAY4OOmTPf\n\t\t\tCvsafumRM4id9DAMSq38T/q7XaqfX8LdvzxFUbMriXy/uoi4d6thHk/hgrwRgIDR\n\t\t\trwbmsYcQk0nQKLr+f+eBb9KPR9KfX5Wv7ex39v1D4Z/CLw1h9LjSEdqigl5A8KqJ\n\t\t\tKH+P2hE/JYsmdr8X0WP1DTimetC0aN2LPnCOBAS/kHVtRDIWTUHRsO4vld5JsmbI\n\t\t\tLYbgjUQXK3jRrcqNOxOE3mv4zAht2RhYF15Ea7nrGWN+SAbqmg7gVmtHA6wXsUXI\n\t\t\t0zY4BOAbo5KLvKV6PTQbitC6bhzKVf/voyv/whGdCMMJCrMrGWWrzqPlRlfeTjMa\n\t\t\tlA5j2rX2fxYwe3l4UWecYB7ZeQEtu9RCsFeCCPoQ0T0ehV8mhdnBW9nNOO9VGUyH\n\t\t\tNzFRJtNnEiWziZcBUk07jIIIuTnMI7kEo+cZVGq+lQKBMB5XEb+OWXuagNq+Voz9\n\t\t\tX4ABABraXKFeUC2rAAAAAElFTkSuQmCC";case"TS":return"data:image/png;base64,\n\t\t\tiVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAM1BMVEUAAADeDx3e\n\t\t\tDx3eDx3eDx3eDx3eDx3eDx3eDx3eDx3eDx3eDx3eDx3eDx3eDx3eDx3eDx3haVmj\n\t\t\tAAAAEXRSTlMAMCC/cID/YM+PQO+vEN+fUCJrQLgAAAHWSURBVHgBlZVhssIgDIRT\n\t\t\tgC2QBnr/075RMLymdBy/f1o3JpstkGVz9BvOB/qNiJ1+wiVk+kcpMca9OHpkY/j5\n\t\t\tISd84CPIk4KFOnuFoZVFVwyM0c+KBYcjQwIqvZADa9iYmQHso79H2mUQAPxu6qqo\n\t\t\tobyIrfeahBQPIA8pjEiGhfWiKQBQnrpqTn2cvTUAIJL0ZfCorgoA+O7BGi9j5squ\n\t\t\tL6LbsWHC3nvGhLdRPXl1GJG8Ps9bX2+oC436heh0z0JKnJphQn+IF7Ghs9voAWYp\n\t\t\tKmGrsJpMSummmO+VgA/FSDosdMNra0tJpDsnYMcUTBwt0Gn8HF+ptOK4V6ywZRSz\n\t\t\tnGCrfJfo8/BVotDAfZFkKNvNeQgtSLhvc7fOX3CYnGQ8W3fWlqs+TZnFn1QjIW9e\n\t\t\tC0UPhKCzDNz6tZiHZy0qOcVmk8v1AunEookRL+qaPbhIIutL8ZZwX21yqlFSDmWP\n\t\t\tHkrsDh29Uv10cjKeqNJTs+sUeZy7CQ+UkV2ZqeQhD4wVYWy7XdbL0fWB6/pe2cxW\n\t\t\tWm84v6/fPS0UlHX4QYTFxqraYDy7xaduINgoNaxoolFvdMOp6B6DaLKnSPCY+KA/\n\t\t\t2lYKpZzxxbld838I/YRHpN9ofqN//AHYjCHIaCdi5QAAAABJRU5ErkJggg==";case"H1":case"H2":case"H3":case"H4":case"H5":case"H":case"TY":case"STY":return"data:image/png;base64,\n\t\t\tiVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAM1BMVEUAAADeDx3e\n\t\t\tDx3eDx3eDx3eDx3eDx3eDx3eDx3eDx3eDx3eDx3eDx3eDx3eDx3eDx3eDx3haVmj\n\t\t\tAAAAEXRSTlMAMCC/cID/YM+PQO+vEN+fUCJrQLgAAAGJSURBVHgBldXR0qsgDATg\n\t\t\tFWBFMMD7P+2RNoPH/tLid9eLnZI1A/i0GDxjrMMzniseMYEb/hOj936NBkNLoj1/\n\t\t\tbIFUaXcySiTB25r5oUT8YRKpo9fMG7vBh0BmNLLzXnK42Eiuer6hchmEZMKhXhPZ\n\t\t\txcaXzCYIOkty06jqIdEK8yUTeYijUxVz9ligCg+AhB+D+96q8GCBjSNWdOacDJr6\n\t\t\trmPhWFrwIsH2hulhOZXpfdEbfpWMZtCw8YXf9YLPSOIPG7rIxvKneIlMCc8jXKGE\n\t\t\tsywUOM1AZc5yUPvzkzlOgzKctkBZzopQK2dVPO7M90jlT7lHpqdxOktnEr/LsUeq\n\t\t\tzO2mj31jxMpMa0lekYTGBzOR8e+GdjSSk85UE0eywPOw9ik2vXcDB6LurpxbmTTu\n\t\t\t0nDn8+W1KCSTNziIz/fvyqJ/dmaavL2e3zXcJLDp8J3/uVZZ78tu3Faq/Qs4XEnh\n\t\t\tnSJ91Qv+MGX4fsH3K/mDOMuTdQK1aOJerL6pC04SuAsesfR4ptgF//kH34UpW6ne\n\t\t\tP+cAAAAASUVORK5CYII=";default:return null}},s={request:{endpoint:"tropicalcyclones/archive",action:r.ApiAction.SEARCH,parameters:{filter:"geo",limit:50}},style:{marker:function(t){var e=(0,o.get)(t,"loc").lat,n=(0,o.get)(t,"details.stormCat"),r=e<0;return t.isCurrent?{className:"marker-tropicalcyclone",svg:{image:{url:a(r&&"TD"===n?n+"-flipped":n),size:[30,30],transform:r&&"TD"!==n?"scale(-1, 1) translate(-80, 0)":""},text:[{value:"STY"===n?"S":n.replace(/[^\d]/g,""),anchor:"start",position:"center",translate:{y:-3},size:20,color:"#ffffff",autosize:!1},{value:(0,o.get)(t,"details.stormShortName"),anchor:"start",translate:{y:22},autosize:!1}]},size:[80,55],zIndex:50}:{className:"marker-tropicalcyclone",svg:{shape:{type:"circle",fill:{color:i(n)},stroke:{color:"#ffffff",width:2},size:[14,14]},text:t.label?{value:(0,o.get)(t,"details.stormShortName"),anchor:"start",translate:{y:12},autosize:!1}:null},size:t.label?[60,40]:[14,14],zIndex:t.label?50:null}},polygon:function(t){return{fill:{color:"#ffffff",opacity:.7}}},polyline:function(t){var e=(0,o.get)(t,"details.stormCat");return{stroke:{color:i(e),width:3}}}},data:{properties:{id:"id",category:"details.stormCat",timestamp:"timestamp",points:["track","forecast"],path:"errorCone"},formatter:function(t){return(0,o.isArray)(t)&&t.forEach(function(t){var e=t.profile,n=t.position,r=t.track,i=t.forecast;if(r&&r.length>0){var a,s=0;r.forEach(function(t,r){var i=t.loc,u=i.lat,c=i.long;if(0===r?a=c:a<0&&c>0?s=-360:a>0&&c<0&&(s=360),t.loc.long+=s,t.isForecast=!1,a=c,n){var l=n.loc,p=l.lat,f=l.long;t.isCurrent=u===p&&c===f}else 0===r&&((0,o.set)(t,"details.stormShortName",e.name),t.label=!0)})}i&&i.length>0&&i.forEach(function(t,e){t.isForecast=!0,t.isCurrent=!1})}),t}}};e.config=s;var u=s;e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.config=void 0;var r=n(4),o=n(1),i=function(t){switch(t=(t||"").toUpperCase()){case"TR.A":return"#ffe401";case"TR.W":return"#ff9000";case"HU.A":return"#ff00d2";case"HU.W":return"#ff0017";default:return"#000000"}},a={request:{endpoint:"tropicalcyclones",action:r.ApiAction.ID,parameters:{filter:"geo",fields:"id,profile,breakPointAlerts",limit:50}},style:{polyline:function(t){var e=(0,o.get)(t,"alertType");return{stroke:{color:i(e),width:6}}}},data:{properties:{id:"id",category:"[path].alertType",path:"breakPointAlerts"},geometry:function(t){return t.coords}}};e.config=a;var s=a;e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(7),o=m(n(3)),i=m(n(286)),a=m(n(29)),s=m(n(288)),u=m(n(52)),c=m(n(45)),l=m(n(51)),p=m(n(22)),f=n(1),d=n(5),h=n(8),y=m(n(2));function m(t){return t&&t.__esModule?t:{default:t}}var v,g=(v=function(t,e){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_={combined:["layers"],split:["base","past","future","overlays","past-text","future-text"]},b=function(){function t(t){this._opts=(0,f.extend)({format:"MM/DD/YYYY hh:mm A",continuous:!0},t),this.element=(0,y.default)('<div class="awxjs__map-overlay__timestamp"></div>')}return t.prototype.continuous=function(){return!0===this._opts.continuous},t.prototype.update=function(t){var e=new Date(t);this.element.html((0,r.format)(e,this._opts.format))},t}(),w=function(t){function e(n,r){void 0===r&&(r=void 0);var o=t.call(this)||this;if(o._ready=!1,o.handleLayerChange=function(t){if(o.timeline){var n=o.config.hasText(),r=o.timeline.get("pastText"),i=o.timeline.get("futureText");r&&r.enabled(n),i&&i.enabled(n)}o.trigger(e.Event.CHANGE_DATA,{layers:o.config.data()})},o.handleOffsetChange=function(t){var e=t.data.offset;if((0,f.isset)(e)&&(/^-/.test(e=""+e)||"0"===e||"current"==e?(0,f.get)(o.opts,"animation.alwaysShowFuture")||["future","futureText"].forEach(function(t){return o._targets[t].hide()}):(0,f.get)(o.opts,"animation.alwaysShowPast")||["past","pastText"].forEach(function(t){return o._targets[t].hide()}),o._timestamp)){var n=(0,f.offsetToTime)(o.config.offset());o._timestamp.update(n)}},o._loadingGroups=[],o.update=(0,f.debounce)(function(t){if(o._ready){var n=(o.config.data()||[]).length>0;o._animator.past.enabled(n),o._animator.pastText.enabled(n),o._animator.future.enabled(n),o._animator.futureText.enabled(n);var r=t||o._loadingGroups;if(0!==(r=o._adjustTypesForUpdate(r)).length){if(o.timeline&&o.timeline.reset(),o._timestamp&&(!o.timeline||!o.timeline.isEnabled())){var i=(0,f.offsetToTime)(o.config.offset());o._timestamp.update(i)}o.trigger(e.Event.LOAD_START);var a=function(){0===u.length&&(Object.keys(s).forEach(function(t){o.setImage(t,s[t])}),o.trigger(e.Event.LOAD_DONE))},s={},u=r.slice(0);r.forEach(function(t){var e="future"==t,n=t;if("past"===t||"future"===t?n="data":"pastText"!==t&&"futureText"!==t||(n="text"),(0,f.isset)(o.config.opts("layers."+n))){if(o.timeline&&("data"===n||"text"===n)){var r=o.timeline.get(t);return void(r&&(r.canShow()?r.once("load:image load:error",function(e){u.splice(u.indexOf(t),1),a()}):(u.splice(u.indexOf(t),1),a()),r.goToTime(o.timeline.currentTime)))}var i=o._request.clone();i.setParams(o.config.toRequestOpts([n],e)),i.get().then(function(e){u.splice(u.indexOf(t),1),e.image&&(s[t]=e.image.src),a()}).catch(function(t){console.error("ERROR",t)})}else o.setImage(t,null)})}}},500),!n)throw new Error("[awxjs] Invalid DOM target specified for MapView");return["base","data","overlays"].forEach(function(t){var e="map.layers."+t,n=(0,f.get)(r,e);(0,f.isString)(n)&&(0,f.set)(r,e,n.replace(/\s/,"").split(","))}),o._opts=(0,f.extend)({account:null,map:{layers:{base:["flat"],overlays:["admin"]},size:{width:600,height:400},autoFuture:!0,combine:!1},animation:{enabled:!0,from:-7200,to:0,autoplay:!1,alwaysShowPast:!1,alwaysShowFuture:!1},overlays:{title:void 0,timestamp:"MM/DD/YYYY hh:mm A",branding:{html:void 0,img:void 0}},legend:{enabled:!0},controls:{layers:void 0,regions:void 0}},r),o._target=(0,y.default)(n),o._config=new i.default(o._opts.map),o._config.on("change",function(){return o.trigger(e.Event.CHANGE)}),o.account&&(o._request=new a.default({server:(0,f.get)(o._opts,"servers.maps"),client:o.account.credentials()})),o._layers=new l.default,o._layers.fetch().then(function(t){o.config.layers=o._layers,o.render()}),o}return g(e,t),Object.defineProperty(e.prototype,"$el",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$map",{get:function(){return this._map},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$container",{get:function(){return(0,y.default)("."+h.Globals.cssPrefix+"map-container",this.$el)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"account",{get:function(){return this.opts.account},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opts",{get:function(){return this._opts},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeline",{get:function(){return this._animator?this._animator.timeline:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"legend",{get:function(){return this._legend},enumerable:!0,configurable:!0}),e.prototype.el=function(t){return(0,y.default)(t,this.$el)},e.prototype.setLayers=function(t,e){this.config.setLayers(t),e&&this.setLegend(e)},e.prototype.setLegend=function(t){if(this._legendUrl=null,t)if((0,f.isString)(t)){var e=t;e.match(/^(https?:)?\/\//)?(this._legendUrl=e,this.legend.setUrl(e)):this.legend.set(e.replace(/\s/g,"").split(","))}else(0,f.isArray)(t)&&this.legend.set(t)},e.prototype.setMetric=function(t){this.config.setMetric(t)},e.prototype.render=function(){this.$el.empty(),this.$el.html('\n\t\t\t<div class="awxjs__mapview">\n\t\t\t\t<ul class="awxjs__map-nav"></ul>\n\t\t\t\t<div class="awxjs__map-container">\n\t\t\t\t\t<div class="awxjs__map">\n\t\t\t\t\t\t<ul class="awxjs__map-region-nav horizontal"></ul>\n\t\t\t\t\t\t<ul class="awxjs__map-anim-controls">\n\t\t\t\t\t\t\t<li data-anim-action="toggle"><button>Play</button></li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="awxjs__map-legend"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t');var t=this.opts,n=(0,y.default)("."+h.Globals.cssPrefix+"map-container > ."+h.Globals.cssPrefix+"map",this.$el);this._map=n;var r=n.width()||320,o=n.height()||300;t.map.size&&(r=t.map.size.width||r,o=t.map.size.height||o,"auto"===r&&(r=n.width(),t.map.size.width=r,t.map.size.autoscale&&(0,y.default)(window).on("resize",function(e){var r=n.width();t.map.size.width=r})));var i=this.config.size(),a=i.width,s=i.height;a&&s&&(n.width(a).height(s),this.$container.width(a)),t.map.region&&!t.map.bounds&&this.config.setRegion(t.map.region);var u=this.opts.overlays,c=this.opts.controls,l=this.opts.animation,p=this.opts.legend;this.setupContainers(n),u&&this.setupOverlays(u),c&&this.setupControls(c),l&&this.setupAnimation(l),p&&this.setupLegend(p),this.setupEvents(),this.trigger(e.Event.READY),this._ready=!0,this.updateGroups()},e.prototype.setupEvents=function(){var t=this;if(this.config.on("change:data change:offset",function(e){t.updateGroups(["past","future"])}),this.config.on("change:units",function(e){t.updateGroups(["pastText","futureText"])}),this.config.on("change:data",this.handleLayerChange),this.config.on("change:bounds change:size",function(e){t.updateGroups()}),this.config.on("change:size",function(e){var n=e.data,r=n.width,o=n.height;r&&o&&(t.$map.width(r).height(o),t.$container.width(r))}),this.timeline||(this.config.on("change:offset",this.handleOffsetChange),this.config.setOffset(this.config.offset())),this._timestamp&&this.timeline){var e=this._timestamp;!1===e.continuous()?this.timeline.on("advance:image",function(t){e.update(t.data.time)}):this.timeline.on("advance",function(t){e.update(t.data.time)}),this.timeline instanceof c.default&&Object.keys(this.timeline.animations).forEach(function(n){var r,o=t.timeline.get(n);o.isEnabled()&&("past"===n?r=o:"future"===n&&(r=o)),r&&r.on("load:progress",function(t){r.canShow()&&e.update(t.data.time)})})}},e.prototype.setupContainers=function(t){var e=this,n=h.Globals.cssPrefix+"map__layers";t.append('<div class="'+n+'"></div>');var r=this.el("."+n);this._indicator=new p.default,this._indicator.appendTo(r[0]),this.on("load:start",function(){e._indicator.startAnimating()}),this.on("load:done",function(){e._indicator.stopAnimating()});var o=this.opts.map.combine?_.combined:_.split,i={};o.forEach(function(t,e){var n=h.Globals.cssPrefix+"map-layer-"+t;r.append('<div class="'+n+'"></div>');var o=(0,d.camelcase)(t),a=(0,y.default)("."+n,r);a.css({position:"absolute",top:0,left:0,bottom:0,right:0,"z-index":e}),i[o]=a}),this._targets=i},e.prototype.setupControls=function(t){var e=this;if(t.layers){var n=this.el("."+h.Globals.cssPrefix+"map-nav");t.layers.forEach(function(t){n.append('<li data-map-layer="'+t.value+'"><button>'+t.title+"</button></li>")});var r=(0,y.default)("li",n);r.on("click",function(t){t.preventDefault();var n="button"===t.target.tagName.toLowerCase()?(0,y.default)(t.target).parent():(0,y.default)(t.target),o=n.allData("map-layer");r.removeClass("selected"),n.addClass("selected"),o&&e.config.setData(o.split(","))}),this.on("ready",function(t){var n=(0,f.get)(e.opts,"map.layers.data")||null;n?r.each(function(t,e){var r=(0,y.default)(t);r.allData("map-layer")===n.join(",")?r.click():0===e&&r.click()}):r.get(0).click()})}if(t.regions){var o=this,i=this.el("."+h.Globals.cssPrefix+"map-region-nav");t.regions.forEach(function(t){var e=Object.keys(t).reduce(function(e,n){if("title"!==n){var r=t[n];(0,f.isObject)(r)&&("center"===n?r=r.lat+","+r.lon:"bounds"===n&&(r=r.north+","+r.west+","+r.south+","+r.east)),e.push("data-map-"+n+'="'+r+'"')}return e},[]);i.append("<li "+e.join(" ")+"><button>"+t.title+"</button></li>")});var a=(0,y.default)("li",i);a.on("click",function(t){t.preventDefault();var n="button"===t.target.tagName.toLowerCase()?(0,y.default)(t.target).parent():(0,y.default)(t.target),r=n.allData("map-zoom"),i=n.allData("map-center")||(0,f.get)(e.opts,"map.center"),s=n.allData("map-region"),u=n.allData("map-bounds");if(a.removeClass("selected"),n.addClass("selected"),s)o.config.setRegion(s);else if(u){var c=u.split(",");4===c.length&&o.config.setBounds({north:c[0],west:c[1],south:c[2],east:c[3]})}else i&&!(0,f.isEmpty)(i)?(0,f.isset)(r)&&r>0?o.config.setCenter(i,r):o.config.setCenter(i,e.config.zoom()):r>0&&o.config.setZoom(r)}),this.on("ready",function(t){var n=(0,f.get)(e.opts,"map.zoom")||null;(0,f.isset)(n)?a.each(function(t,e){var r=(0,y.default)(t);r.allData("map-zoom")===""+n?r.click():0===e&&r.click()}):a.get(0).click()})}},e.prototype.setupOverlays=function(t){var e=h.Globals.cssPrefix+"map__overlays";this.$map.append('<div class="'+e+'"></div>');var n=this.el("."+e);if(t.timestamp){var r=t.timestamp;(0,f.isString)(r)&&(r={format:r});var o=new b(r);o.element.css({"z-index":10}),n.append(o.element),this._timestamp=o}if(t.title){var i=h.Globals.cssPrefix+"map-overlay__title";n.append('<div class="'+i+'">'+t.title+"</div>"),(0,y.default)("."+i,n).css({"z-index":11})}if(t.branding){var a=t.branding,s=a.img,u=a.html;i=h.Globals.cssPrefix+"map-overlay__branding";n.append('<div class="'+i+'"></div>');var c=(0,y.default)("."+i,n);c.css({"z-index":12}),(0,f.isset)(s)?c.html('<img src="'+s+'" />'):(0,f.isset)(u)&&c.html(u)}},e.prototype.setupAnimation=function(t){var e=this,n=this.el(".awxjs__map-anim-controls > li");if(!t.enabled)return this.config.setOffset((0,f.get)(this.opts,"map.offset")||0),void n.remove();var r=new s.default({past:this._targets.past,future:this._targets.future,pastText:this._targets.pastText,futureText:this._targets.futureText},t);r.provider=this,this._animator=r;var o=r.timeline;o.on("load:start",function(){e._indicator.startAnimating()}),o.on("load:done load:error",function(){e._indicator.stopAnimating()}),this.config.opts("autoFuture",o.containsFuture()),o.on("end:change",function(t){e.config.opts("autoFuture",o.containsFuture())}),o.on("start:change end:change",function(t){o.canAnimate()?n.show():n.hide()}),o.canAnimate()||n.hide(),this.on("ready",function(){e.config.on("change:data change:size change:zoom change:offset change:center change:bounds",function(t){}),e.config.on("change:units",function(t){o.stop();var e=o.get("pastText");e&&e.reset();var n=o.get("futureText");n&&n.reset()}),o.isAutoPlay()?o.play():o.goToInit()}),n.each(function(t){var e=(0,y.default)(t);if("toggle"===e.allData("anim-action")){var n=(0,y.default)("button",e);o.on("play load:start",function(){n.html("Stop")}),o.on("stop",function(){n.html("Play")})}}).on("click",function(t){t.preventDefault();var e=("button"===t.target.tagName.toLowerCase()?(0,y.default)(t.target).parent():(0,y.default)(t.target)).allData("anim-action");"toggle"===e?o.toggle():"play"===e?o.play():"pause"===e?o.pause():"stop"===e&&o.stop()})},e.prototype.setupLegend=function(t){var e=this,n=this.el(".awxjs__map-legend");if(t.enabled){var r=new u.default(n,(0,f.extend)({size:{width:this.$map.width()}},t));this._legend=r;var o=(0,f.debounce)(function(){if(!e._legendUrl){var t=e.config.data(),n={account:e.account};t&&-1!==t.indexOf("alerts")&&(n.within={bounds:e.config.bounds(),center:e.config.center(),zoom:e.config.zoom(),size:e.config.size()}),r.set(t,n)}},50);this.config.on("change:data change:bounds",function(t){o()}),this.config.on("change:size",function(t){r.setWidth(t.data.width)}),this.config.on("change:metric",function(t){r.setMetric(t.data.metric)}),o()}else n.remove()},e.prototype.setImage=function(t,e){var n=(0,y.default)("."+h.Globals.cssPrefix+"map-layer-"+t,this.$el);n&&(n.empty(),e&&n.append('<img src="'+e+'" width="'+this.config.size().width+'" height="'+this.config.size().height+'">'))},e.prototype.updateGroups=function(t){var e=this;(t=t||["base","past","future","overlays"]).forEach(function(t){-1===e._loadingGroups.indexOf(t)&&e._loadingGroups.push(t)}),this.update()},e.prototype._adjustTypesForUpdate=function(t){var e=t.splice(0),n=(new Date).getTime();if(this.timeline&&this.timeline.isEnabled()){var r=e.indexOf("past");r>-1&&this.timeline.startDate().getTime()>n&&e.splice(r,1);var o=e.indexOf("future");o>-1&&this.timeline.endDate().getTime()<=n&&!1===this._animator.timeline.get("future").canShow()&&e.splice(o,1)}return this.config.hasText()&&(e.indexOf("past")>-1&&e.push("pastText"),e.indexOf("future")>-1&&e.push("futureText")),e},e.prototype.animationUrlForDate=function(t,e){var n=this._request.clone(),r=/text$/i.test(t.key)?"text":"data",o=this.config.toRequestOpts([r],t.isFuture());return"data"===r&&(0,f.isset)(o.layers.data)||"text"===r&&(0,f.isset)(o.layers.text)?(n.setParams(o),n.date(e),n.url()):null},e.prototype.animationSizeForImage=function(t){return this.config.size()},e.Event={READY:"ready",CHANGE:"change",CHANGE_DATA:"change:data",LOAD_START:"load:start",LOAD_DONE:"load:done"},e}(o.default);e.default=w,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=n(7),i=(r=n(3))&&r.__esModule?r:{default:r},a=n(287),s=n(1);var u,c=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e){void 0===e&&(e=void 0);var n=t.call(this)||this;return n.onChange=(0,s.debounce)(function(){n.trigger("change")},500),n._opts=(0,s.extend)({},{layers:{base:void 0,data:void 0,overlays:void 0,text:void 0},center:void 0,zoom:3,bounds:void 0,size:{width:600,height:400},offset:"0",date:void 0,autoFuture:!0,combined:!1,metric:!1},e),n}return c(e,t),Object.defineProperty(e.prototype,"layers",{get:function(){return this._layers},set:function(t){this._layers=t},enumerable:!0,configurable:!0}),e.prototype.opts=function(t,e){return(0,s.isset)(e)?((0,s.set)(this._opts,t,e),null):(0,s.get)(this._opts,t)},e.prototype.data=function(){return this.opts("layers.data")},e.prototype.setData=function(t){var e=this;if(this._opts.combined)this.opts("layers.data",t);else{var n=[],r=[];t.forEach(function(t){/-text-?/.test(t)&&e.layers.inGroup(t,"text")?n.push(t):r.push(t)}),this.opts("layers.data",r),this.opts("layers.text",n)}return this.trigger("change:data",{data:t}),this.onChange(),this},e.prototype.base=function(){return this.opts("layers.base")},e.prototype.setBase=function(t){return this.opts("layers.base",t),this.trigger("change:base",{base:t}),this.onChange(),this},e.prototype.overlays=function(){return this.opts("layers.overlays")},e.prototype.setOverlays=function(t){return this.opts("layers.overlays",t),this.trigger("change:overlays",{overlays:t}),this.onChange(),this},e.prototype.hasOverlays=function(){var t=this.overlays();return t&&!(0,s.isEmpty)(t)},e.prototype.text=function(){return this.opts("layers.text")},e.prototype.setText=function(t){return this.opts("layers.text",t),this.trigger("change:text",{text:t}),this.onChange(),this},e.prototype.hasText=function(){var t=this.text();return t&&!(0,s.isEmpty)(t)},e.prototype.setLayers=function(t){return(t=t||{}).base&&this.setBase(t.base),t.data&&this.setData(t.data),t.overlays&&this.setOverlays(t.overlays),t.text&&this.setText(t.text),this},e.prototype.offset=function(){return this.opts("offset")},e.prototype.setOffset=function(t){return this.opts("offset",""+t),this.trigger("change:offset",{offset:t}),this.onChange(),this},e.prototype.setDate=function(t){t instanceof Date?this.setOffset(function(t){var e=new Date(t.getTime()+60*t.getTimezoneOffset()*1e3);return(0,o.format)(e,"YYYYMMDDHHmm00")}(t)):this.setOffset(""+t)},e.prototype.center=function(){var t=this.opts("center");if(t&&/^[\d\.-]+,[\d\.-]+$/.test(t)){var e=t.split(",");if(e&&2===e.length)return{lat:parseFloat(e[0]),lon:parseFloat(e[1])}}return t},e.prototype.setCenter=function(t,e){if(void 0===e&&(e=null),(0,s.isPlainObject)(t)){var n=t;t=n.lat+","+n.lon}return this.opts("center",t),delete this._opts.bounds,e>=0&&this.opts("zoom",e),this.trigger("change:center"),this.trigger("change:bounds"),this.onChange(),this},e.prototype.zoom=function(){return this.opts("zoom")},e.prototype.setZoom=function(t){return this.opts("zoom",t),this.trigger("change:zoom"),this.trigger("change:bounds"),this.onChange(),this},e.prototype.bounds=function(){return this.opts("bounds")},e.prototype.setBounds=function(t){return this.opts("bounds",t),delete this._opts.center,this.trigger("change:bounds"),this.onChange(),this},e.prototype.setRegion=function(t){var e=a.Regions.get(t);return e&&(e.center?this.setCenter(e.center.lat+","+e.center.lon,this.zoom()):e.bounds&&this.setBounds(e.bounds)),this},e.prototype.size=function(){var t=this.opts("size");return t&&t.width&&t.height?{width:t.width,height:t.height}:null},e.prototype.setSize=function(t,e){if("auto"===e){var n=this.opts("size.factor");n&&(e=Math.round(t*n))}return this._opts.size={width:t,height:e},this.trigger("change:size",this.size()),this.trigger("change:bounds"),this.onChange(),this},e.prototype.metric=function(){return this.opts("metric")},e.prototype.setMetric=function(t){return this.opts("metric",t),this.trigger("change:metric",{metric:t}),this.onChange(),this},e.prototype.toRequestOpts=function(t,e){var n=this;void 0===e&&(e=!1);var r=[];if((t=t||["base","data","overlays","text"]).forEach(function(t){var e=n.opts("layers."+t);(0,s.isEmpty)(e)||(r=r.concat(e))}),r){var o=r.slice();if(t.indexOf("text")>-1&&(o=o.map(function(t){if(/-text-?/.test(t)&&n.layers.hasMetric(t)){var e=n.opts("metric")?"text-metric":"text",r=t.match(/^([\w-]+-text)(-metric)?(-(dk|lg)){0,2}/);return r[1].replace(/-text.*$/,"")+"-"+e+(r[3]||"")}return t.replace(/-metric/,"")})),-1!==t.indexOf("data")||-1!==t.indexOf("text")){this.layers.future();var i=this.layers.futureCodes();this.opts("autoFuture")&&r.forEach(function(t){var e=n.layers.find("id","f"+t,!0);e&&-1===o.indexOf(e.id)&&o.splice(r.indexOf(t)+1,0,e.id)});var a=function(t){var e=-1!==i.indexOf(t);return e||i.forEach(function(n){var r=new RegExp("^"+n+"-");!e&&r.test(t)&&(e=!0)}),e};o=o.filter(function(t){return!(!n.layers.inGroup(t,"overlay")&&!n.layers.inGroup(t,"masks"))||(e?a(t):!a(t))})}r=0===o.length?null:o}var u=this.center();if((0,s.isPlainObject)(u)){var c=u;u=c.lat+","+c.lon}return{layers:{base:-1!==t.indexOf("base")?this.base():null,data:-1!==t.indexOf("data")?r:null,overlays:-1!==t.indexOf("overlays")?this.overlays():null,text:-1!==t.indexOf("text")?r:null},p:u,zoom:this.zoom(),bounds:this.bounds(),size:this.size(),offset:this.offset(),metric:this.metric(),format:"png"}},e}(i.default);e.default=l,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Regions=void 0;var r,o={us:{name:"United States",bounds:{north:56.26,west:-131.39,south:15.45,east:-61.17}},usne:{name:"Northeast",bounds:{north:50.37,west:-87.71,south:36.42,east:-61.96}},usec:{name:"Mid-Atlantic",bounds:{north:42.16,west:-88.18,south:31.62,east:-70.55}},usse:{name:"Southeast",bounds:{north:38.85,west:-99.23,south:22.31,east:-73.48}},usnc:{name:"Northern Plains",bounds:{north:51.18,west:-107.8,south:37.44,east:-82.05}},usov:{name:"Lower Ohio Valley",bounds:{north:43.1,west:-97.1,south:32.7,east:-79.48}},usce:{name:"Central Plains",bounds:{north:47.37,west:-110.83,south:34.78,east:-88.42}},ussc:{name:"Southern Plains",bounds:{north:40.85,west:-111.05,south:24.69,east:-85.3}},usnw:{name:"Pacific Northwest",bounds:{north:52.5,west:-129.33,south:39.13,east:-103.53}},uswc:{name:"West Coast",bounds:{north:45.95,west:-129.02,south:33.06,east:-106.61}},ussw:{name:"Southwest",bounds:{north:44.15,west:-127.01,south:28.7,east:-101.21}},usak:{name:"Alaska",bounds:{north:72.87,west:-196.96,south:48.81,east:-127.18}},ushi:{name:"Hawaii",bounds:{north:24.61,west:-162.77,south:16.55,east:-151.3}},ca:{name:"Canada",bounds:{north:75.85,west:-146.95,south:38.96,east:-43.95}},mx:{name:"Mexico",bounds:{north:36.63,west:-119.4,south:11.44,east:-82.13}},crb:{name:"Caribbean",bounds:{north:29.57,west:-91.45,south:5.18,east:-57}},nam:{name:"North America",bounds:{north:75.32,west:-185.45,south:-4.57,east:-22.68}},sam:{name:"South America",bounds:{north:19.97,west:-125.51,south:-58.45,east:-1.75}},eur:{name:"Europe",bounds:{north:72.5,west:-41.5,south:30.3,east:59.41}},afr:{name:"Africa",bounds:{north:44.47,west:-44.83,south:-41.25,east:82.1}},mide:{name:"Middle East",bounds:{north:46.01,west:23.29,south:8.93,east:80.77}},aus:{name:"Australia",bounds:{north:-.18,west:107.05,south:-50.01,east:184.22}},nas:{name:"Northern Asia",bounds:{north:81.09,west:24.61,south:22.27,east:189.84}},sas:{name:"Southern Asia",bounds:{north:55.97,west:59.59,south:-15.45,east:171.04}},asia:{name:"Asia",bounds:{north:78.06,west:12.66,south:-14.94,east:206.02}},world:{name:"World",bounds:{north:85,west:-170.16,south:-67.07,east:191.6}}};e.Regions=r,function(t){t.get=function(t){return o[t]},t.set=function(t,e){o[t]=e},t.slug=function(e){var n=t.get(e);if(n)return n.slug||(""+n.name).toLowerCase().replace(/\s+/,"-")},t.asArray=function(e,n){var r=[];return e.forEach(function(e){var o=t.get(e);if(o){var i={};Object.keys(n).forEach(function(r){var a=n[r],s=r;i[s]="key"===a||"code"===a?e:"slug"===a?t.slug(e):o[a]}),r.push(i)}}),r}}(r||(e.Regions=r={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(46)),o=a(n(45)),i=n(1);function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(t,e){this._targets=t,this._opts=(0,i.extend)({enabled:!0,autoplay:!1,alwaysShowPast:!1,alwaysShowFuture:!1},e),this.init()}return Object.defineProperty(t.prototype,"timeline",{get:function(){return this._timeline},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"provider",{set:function(t){var e=this;Object.keys(this.timeline.animations).forEach(function(n){var o=e.timeline.animations[n];o instanceof r.default&&(o.provider=t)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"past",{get:function(){return this.timeline.get("past")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"future",{get:function(){return this.timeline.get("future")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pastText",{get:function(){return this.timeline.get("pastText")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"futureText",{get:function(){return this.timeline.get("futureText")},enumerable:!0,configurable:!0}),t.prototype.init=function(){var t=this._targets,e=new o.default(this._opts);if(this._timeline=e,t.past){var n=new r.default(t.past,(0,i.extend)({},this._opts,{key:"past",alwaysShow:this._opts.alwaysShowPast}));e.add("past",n)}if(t.future){var a=new r.default(t.future,(0,i.extend)({},this._opts,{key:"future",future:!0,alwaysShow:this._opts.alwaysShowFuture}));e.add("future",a)}if(t.pastText){var s=new r.default(t.pastText,(0,i.extend)({},this._opts,{key:"pastText",alwaysShow:this._opts.alwaysShowPast}));e.add("pastText",s)}if(t.futureText){var u=new r.default(t.futureText,(0,i.extend)({},this._opts,{key:"futureText",future:!0,alwaysShow:this._opts.alwaysShowFuture}));e.add("futureText",u)}},t}();e.default=s,t.exports=e.default},function(t,e,n){"use strict";var r,o,i;Object.defineProperty(e,"__esModule",{value:!0}),e.LegendLabelPosition=e.LegendOrientation=e.LegendType=void 0,e.LegendType=r,function(t){t.BAR="bar",t.POINT="point"}(r||(e.LegendType=r={})),e.LegendOrientation=o,function(t){t.VERTICAL="v",t.HORIZONTAL="h"}(o||(e.LegendOrientation=o={})),e.LegendLabelPosition=i,function(t){t.TOP="t",t.BOTTOM="b",t.LEFT="l",t.RIGHT="r"}(i||(e.LegendLabelPosition=i={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(53))&&r.__esModule?r:{default:r},i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(4)),a=n(105),s=n(1);var u,c=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t,e,n,r){var o={lat:t,lon:e},i=a.Mercator.pointToCoord(0,0,n,o,r),s=a.Mercator.pointToCoord(r.width,r.height,n,o,r);return i.lat=parseFloat(i.lat.toFixed(2)),i.lon=parseFloat(i.lon.toFixed(2)),s.lat=parseFloat(s.lat.toFixed(2)),s.lon=parseFloat(s.lon.toFixed(2)),i.lat+","+i.lon+","+s.lat+","+s.lon},p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.update=function(t){t.within&&(this.opts.within=t.within),this._update()},e.prototype._update=function(){var t=this;this.account?(this._request||(this._request=(0,s.debounce)(function(e){t._getVtecCodes(e).then(function(e){if(t.opts.keys=e.join(","),0===e.length)return t.hide(),void t.reset();t.show(),t._load()})},1e3)),this._request(this.opts.within)):console.warn("Cannot render advisories/alerts legend, no valid Aeris account defined")},e.prototype._getVtecCodes=function(t){var e=this,n=t.size,r=t.center,o=t.bounds,i=t.zoom;return i=parseInt(i,10),new Promise(function(t,a){if(!o){if(!n||Number.isNaN(n.width)||Number.isNaN(n.height))return void a(new Error("Size is not a number"));!o&&r&&((0,s.isString)(r)&&/^[\d\.-]+,[\d\.-]+/.test(r)?(r=r.split(","),o=l(r[0],r[1],i,n)):(0,s.isObject)(r)&&r.lat&&r.lon&&(o=l(r.lat,r.lon,i,n)))}o?e._getAdvisories(o).then(function(e){t(e)}):r&&e._getPlace(r,n,i).then(function(n){e._getAdvisories(n).then(function(e){t(e)})})})},e.prototype._getPlace=function(t,e,n){var r=this;return new Promise(function(o,a){new i.default({client:r.account.credentials()}).endpoint("places").place(t).limit(1).get().then(function(t){if(t.data){var r=t.data.loc,i=r.lat,s=r.long,u=l(i,s,n,e).split(",").map(function(t){return parseFloat(t)});4===u.length?o({north:u[0],west:u[1],south:u[2],east:u[3]}):a()}})})},e.prototype._getAdvisories=function(t){var e=this;return new Promise(function(n,r){var o=new i.default({client:e.account.credentials()}),a=!0;e.account.canAccess("advisories_summary")?o.endpoint("alerts/summary").fields("summary.typeCodes,summary.types.type,summary.types.code"):(o.endpoint("alerts").fields("details.type,details.name").limit(300),a=!1),o.action(i.ApiAction.WITHIN).bounds(t).get().then(function(t){var e=t.data||{},r=[],o=[];e&&(a?(e=e[0]||e,((0,s.get)(e,"summary.types")||[]).forEach(function(t){var e=t.code,n=t.type;e&&-1===r.indexOf(e)&&-1===o.indexOf(n.toUpperCase())&&(r.push(e),o.push(n.toUpperCase()))})):e.forEach(function(t){var e=t.details,n=e.type,i=e.name;n&&-1===r.indexOf(n)&&-1===o.indexOf(i.toUpperCase())&&(r.push(n),o.push(i.toUpperCase()))}));n(r)})})},e}(o.default);e.default=p,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n(3)),o=s(n(53)),i=n(1),a=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}var u,c=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e,n){var r=t.call(this)||this;return r._loaded=[],r._key=e,r._opts=(0,i.extend)({types:null},n),r._target=(0,a.default)('<div class="awxjs__legend awxjs__legend-group awxjs__legend-'+e+'"></div>'),r._legends={},r._opts.types&&(r.trigger("load:start"),Object.keys(r._opts.types).forEach(function(t){var e=(0,i.extend)({},n,(0,i.cloneDeep)(r._opts.types[t]));delete e.types;var a=new o.default(t,e);a.on("load:done",function(){r._loaded.push(t),r._checkLoaded()}),r._legends[t]=a,r.$el.append(a.$el)})),r}return c(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return this._key},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opts",{get:function(){return this._opts},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$el",{get:function(){return this._target},enumerable:!0,configurable:!0}),e.prototype.show=function(){this.$el.show()},e.prototype.hide=function(){this.$el.hide()},e.prototype.setSize=function(t){var e=this;Object.keys(this._legends).forEach(function(n){var r=e.opts.types[n];e._legends[n].setSize({width:t.width*r.factor,height:t.height})})},e.prototype.getSize=function(){var t=this,e=this.$el.bounds(),n=0,r=e.height;return Object.keys(this._legends).forEach(function(e){var o=t._legends[e];if(o.$el){var i=o.$el.bounds();n+=i.width,r=Math.max(r,i.height)}}),{width:n,height:r}},e.prototype.setMetric=function(t){var e=this;Object.keys(this._legends).forEach(function(n){e._legends[n].setMetric(t)})},e.prototype.reset=function(){this.$el.empty(),this._legends=null,this._loaded=[]},e.prototype.update=function(t){var e=this;this.trigger("load:start"),Object.keys(this._legends).forEach(function(t){e._legends[t].update()})},e.prototype._checkLoaded=function(){var t=this;this._loaded.length===Object.keys(this._opts.types).length&&(this.trigger("load:done"),setTimeout(function(){var e=t.getSize();t.$el.css("width",e.width+"px"),t.trigger("resize",e)},150))},e}(r.default);e.default=l,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Apps=void 0;var r,o=(r=n(293))&&r.__esModule?r:{default:r};var i,a,s,u,c=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e}(o.default);e.Apps=u,function(t){t.setAccount=function(t){a=t},t.setServers=function(t){s=t},t.InteractiveMapApp=function(t,e){return(e=e||{}).account=a,e.servers=e.servers||s,new l(t,e)}}(u||(e.Apps=u={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=v(n(3)),o=n(4),i=v(n(97)),a=v(n(294)),s=v(n(296)),u=v(n(299)),c=v(n(304)),l=v(n(305)),p=n(30),f=n(33),d=n(117),h=n(1),y=v(n(2)),m=n(21);function v(t){return t&&t.__esModule?t:{default:t}}var g,_=(g=function(t,e){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),b=function(t){function e(e,n){var r=t.call(this)||this;if(!e)throw new Error("[awxjs] Invalid DOM target specified for InteractiveMapApp");var o=(0,f.viewportSizeClass)();if(n=(0,h.extend)({map:{account:n.account,servers:n.servers},panels:{layers:{title:"Layers",enabled:!0,toggleable:"compact"===o.width,className:"app__ui-panel-layers",position:{pin:"topright",translate:{x:-10,y:10}},icon:'\n\t\t\t\t\t\t<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 80.5">\n\t\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t\t<path d="M98.5,51.3l-13.7-7.3L58,58.2c-2.5,1.3-5.2,2-8,2c-2.8,0-5.5-0.7-8-2L15.2,44.1L1.5,51.3C0.6,51.8,0,52.8,0,53.8\n\t\t\t\t\t\t\t\t\ts0.6,2,1.5,2.5l43.5,23c3.2,1.7,6.9,1.7,10.1,0l43.5-23c0.9-0.5,1.5-1.4,1.5-2.5S99.4,51.8,98.5,51.3L98.5,51.3z"/>\n\t\t\t\t\t\t\t\t<path d="M1.5,29.2l43.5,23c1.6,0.8,3.3,1.2,5,1.2c1.7,0,3.5-0.4,5-1.3l43.5-23c0.9-0.5,1.5-1.4,1.5-2.5c0-1-0.6-2-1.5-2.5L55,1.3\n\t\t\t\t\t\t\t\t\tC53.5,0.4,51.7,0,50,0c-1.7,0-3.4,0.4-5,1.3l-43.5,23C0.6,24.7,0,25.7,0,26.7C0,27.8,0.6,28.7,1.5,29.2L1.5,29.2z"/>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t'},timeline:{enabled:!0,position:{pin:"compact"===o.width?"bottomleft":"bottom",translate:{x:"compact"===o.width?10:0,y:-10}}},info:{enabled:!0,position:{pin:"topleft",translate:{x:10,y:10}},marker:{svg:{shape:{type:"circle",fill:{color:"#15a8e1"},stroke:{color:"#ffffff",width:2}}},size:[20,20]}},legends:{title:"Legends",enabled:!0,toggleable:!0,position:{pin:"bottomright",translate:{x:-10,y:-10}},icon:'\n\t\t\t\t\t\t<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 90 90">\n\t\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t\t<path d="M45,9c19.9,0,36,16.1,36,36S64.9,81,45,81S9,64.9,9,45C9,25.1,25.1,9,45,9 M45,0C20.1,0,0,20.1,0,45s20.1,45,45,45\n\t\t\t\t\t\t\t\t\ts45-20.1,45-45C90,20.1,69.9,0,45,0z"/>\n\t\t\t\t\t\t\t\t<path d="M48.7,29.3c0,1-0.4,1.9-1.1,2.7c-0.7,0.7-1.6,1.1-2.6,1.1c-0.5,0-0.9-0.1-1.4-0.3c-0.4-0.2-0.8-0.5-1.2-0.8\n\t\t\t\t\t\t\t\t\tc-0.3-0.3-0.6-0.7-0.8-1.2c-0.2-0.5-0.3-0.9-0.3-1.5c0-0.5,0.1-0.9,0.3-1.3c0.2-0.4,0.5-0.8,0.8-1.2c0.3-0.3,0.7-0.6,1.2-0.8\n\t\t\t\t\t\t\t\t\tc0.4-0.2,0.9-0.3,1.4-0.3s0.9,0.1,1.4,0.3c0.4,0.2,0.8,0.5,1.2,0.8c0.4,0.3,0.6,0.7,0.8,1.1C48.6,28.3,48.7,28.8,48.7,29.3\n\t\t\t\t\t\t\t\t\tL48.7,29.3z M48.3,59.8c0,1.1-0.3,2-0.9,2.6c-0.6,0.7-1.4,1-2.4,1s-1.8-0.3-2.4-1c-0.6-0.7-0.9-1.5-0.9-2.6v-18\n\t\t\t\t\t\t\t\t\tc0-1.1,0.3-2,0.9-2.6c0.6-0.7,1.4-1,2.4-1s1.8,0.3,2.4,1c0.6,0.7,0.9,1.5,0.9,2.6V59.8z"/>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t'},search:{enabled:!0,account:n.account,position:{pin:"top",translate:{y:10}}}}},n),r._opts=n,r._account=n.account,!e)throw new Error("Invalid target for InteractiveMapApp");if(!r.account)throw new Error("An InteractiveMapApp must be configured with a valid `account` value.");(0,y.default)(e).html('\n\t\t\t<div class="awxjs__app__component awxjs__app__fullscreen">\n\t\t\t\t<div class="awxjs__app__map"></div>\n\t\t\t</div>\n\t\t'),r._target=(0,y.default)(".awxjs__app__component",(0,y.default)(e)),r._panels={layers:null,info:null,timeline:null,legends:null,search:null},r._sources={};var a=n.panels,s=a.layers,u=a.info,c=a.timeline,l=a.search,p=a.legends,d=(0,h.cloneDeep)(n.map);if(d&&s){var m=(0,h.get)(n,"map.layers");if(m){(0,h.isString)(m)&&(m=m.replace(/\s/g,"").split(","));var v=(s.buttons||[]).reduce(function(t,e){if(!1===(0,h.isset)(e.buttons)){var n=e.value||e.id,r=e.segments;r&&(0,h.isArray)(r)&&!e.filter?r.forEach(function(e){var n=e.value.replace(/\:.+$/,"");(0,h.replace)(t,n,e.value)}):((0,h.replace)(t,e.value,n),(0,h.replace)(t,e.id,n))}return t},(0,h.cloneDeep)(m));(0,h.set)(n,"map.layers",v),(0,h.set)(d,"layers",null)}}return r._map=new i.default((0,y.default)(".awxjs__app__map",r._target),d),r._map.on("ready",function(){return r.trigger("ready")}),s&&!1!==s.enabled&&r._setupLayersPanel(s),u&&!1!==u.enabled&&r._setupInfoPanel(u),c&&!1!==c.enabled&&r._setupTimeline(c),l&&!1!==l.enabled&&r._setupSearchPanel(l),p&&!1!==p.enabled&&r._setupLegendsPanel(p),(0,y.default)(window).on("resize",function(){r._layout()}),r._layout(),setTimeout(function(){return r._layout()},200),r}return _(e,t),Object.defineProperty(e.prototype,"account",{get:function(){return this._account},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$el",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"map",{get:function(){return this._map},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"panels",{get:function(){return this._panels},enumerable:!0,configurable:!0}),e.prototype.addSource=function(t,e,n){var r=this.map.createSource(t,e,n);return r.strategy=this.map.strategy,r&&(this._sources[t]=r),r},e.prototype.showInfo=function(t,e,n){var r=this.panels.info;return r&&r.showContent(t,e,n),r},e.prototype.showInfoAtCoord=function(t,e,n,r){var o=this.panels.info;if(!t)return o;r||(r=(0,h.get)(this._opts,"panels.info.marker"));var i=(0,p.normalize)(t),a=i.lat,s=i.lon;return o&&(0,h.isset)(a)&&(0,h.isset)(s)&&(o.showContent(e,n).load({p:a+","+s}),this._infoPanelMarker&&this.map.strategy.removeMarker(this._infoPanelMarker),r&&(this._infoPanelMarker=this.map.strategy.factory.marker("info",t,r),this._infoPanelMarker&&this.map.strategy.addMarker(this._infoPanelMarker))),o},e.prototype.getPanel=function(t){var e=this._panels[t];return e||(console.error("[awxjs] Panel not found for key "+t+"."),null)},e.prototype._setupLayersPanel=function(t){var e=this,n=new a.default(t),r=function(t,n,r,o,i){void 0===o&&(o=!1),void 0===i&&(i=!1);var a={added:[],removed:[]};return n=n||[],(r=(r=r||[]).filter(function(t){return-1===n.indexOf(t)})).forEach(function(n){var r=e.map.getSourceForId(n);if(r)e.map.removeSource(r);else{var s=o&&!i?n:t;(r=e.map.getSourceForLayer(n))||(r=e.map.getSourceForId(t)),r&&e.map.removeLayerForId(s)}r&&a.removed.push(r)}),n.forEach(function(n){var r=e._sources[n];if(r)e.map.addSource(r,n);else{var s=o&&!i?n:t;(r=e.map.getSourceForLayer(n))||e.map.addLayer(n,{id:s})}r&&a.added.push(r)}),a};n.on("select",function(t){var n=t.data,o=n.id,i=n.value,a=n.options,s=n.filter,u=n.multiselect,c=a;if(i&&e.map.isReady()){var l=o||i,p=s?l:i,f=(0,h.isArray)(p)?p:[p],d=r(l,f,null,u,s).added;if(e.trigger("layer:select",{id:o,layer:p,options:c,added:d}),s){var y=e._sources[l];e.trigger("layer:change:option",{id:o,layer:p,value:i,options:c,source:y}),y&&y.reload({filter:i})}}}).on("deselect",function(t){var n=t.data,o=n.id,i=n.value,a=n.filter,s=n.multiselect;if(i&&e.map.isReady()){var u=o||i,c=a?u:i,l=(0,h.isArray)(c)?c:[c],p=r(u,null,l,s,a).removed;e.trigger("layer:deselect",{id:o,layer:c,removed:p})}}).on("change",function(t){var n=t.data,o=n.id,i=n.value,a=n.previous,s=n.options,u=n.filter,c=n.multiselect;if(e.map.isReady()){var l=o||i;if(a&&i){var p=e.map.getSource(o)||e._sources[o];if(u)e.trigger("layer:change:option",{id:o,layer:o,value:i,options:s,source:p}),p&&(p.service&&p.service.filter(i),p.reload({filter:i}));else{var f=(0,h.isArray)(i)?i:[i],d=(0,h.isArray)(a)?a:[a];r(l,f,d,c),e.trigger("layer:change",{id:o,current:i,previous:a,options:s})}}}}),n.addTo(this.$el),this._panels.layers=n;var o=(0,h.get)(this._opts,"map.layers");o&&((0,h.isString)(o)&&(o=o.replace(/\s/g,"").split(",")),this.map.on("ready",function(){n.select(o)}))},e.prototype._setupInfoPanel=function(t){var e=this,n=new s.default(t);n.addTo(this.$el),this._panels.info=n,n.on("close",function(){e._infoPanelMarker&&(e.map.strategy.removeMarker(e._infoPanelMarker),e._infoPanelMarker=null)});var r={request:function(){var t=e.account,n=t.api(),r="timestamp,dateTimeISO,tempF,icon,weatherPrimary,windSpeedMPH,windSpeedMinMPH,windSpeedMaxMPH,windGustMPH,snowIN,precipIN".split(",").map(function(t){return"periods."+t});return n.addRequest(t.api().endpoint("forecasts").fields(r.join(",")).filter("3hr").limit(7)),n.addRequest(t.api().endpoint("places")),n.addRequest(t.api().endpoint("threats").radius("50mi")),n.addRequest(t.api().endpoint("alerts").fields("details.type,details.name,timestamps")),n.addRequest(t.api().endpoint("phrases/summary")),n.addRequest(t.api().endpoint("observations")),n.addRequest(t.api().endpoint("convective/outlook").action(o.ApiAction.CONTAINS)),n.addRequest(t.api().endpoint("lightning/summary").action(o.ApiAction.CLOSEST).radius("60mi").limit(100)),n},views:[{renderer:"place"},{title:"Active Threats",renderer:"threats"},{title:"Active Alerts",renderer:"alerts"},{title:"Impacts",renderer:"hazards"},{title:"Observations",renderer:"obs"},{title:"Outlook",renderer:"outlook"},{title:"Short-Term Forecast",renderer:"forecast"}]};this.panels.info.setContentView("localweather",r)},e.prototype._setupTimeline=function(t){var e=this,n=(0,h.get)(t,"range.value"),r=(0,h.get)(this._opts,"map.timeline.from"),o=(0,h.get)(this._opts,"map.timeline.to");if(!n||(0,h.isset)(r)||(0,h.isset)(o))(0,h.set)(t,"range.value",[this.map.timeline.startOffset()/3600/1e3,this.map.timeline.endOffset()/3600/1e3]);else{var i=n[0],a=n[1];(0,m.isNumber)(i)&&this.map.timeline.setStartOffset(3600*i*1e3),(0,m.isNumber)(a)&&this.map.timeline.setEndOffset(3600*a*1e3)}var s=new u.default(this.map.timeline,t);s.on("change:range",function(){var t=e.map.timeline.currentTime;e.map.timeline.goToTime(t)}),s.addTo(this.$el),this._panels.timeline=s},e.prototype._setupSearchPanel=function(t){var e=this,n=new l.default(t);n.addTo(this.$el),this._panels.search=n,n.on("select",function(t){var n=(0,h.get)(t.data,"result.loc");if(n){var r={lat:n.lat,lon:n.long};e.map.setView(r,8),e.showInfoAtCoord(r,"localweather","Local Weather")}})},e.prototype._setupLegendsPanel=function(t){var e=this,n=new c.default(t);n.addTo(this.$el),this._panels.legends=n,this.map.on("layer:add",function(t){if((0,h.isset)(t.data)){var r=t.data,o=r.layer,i=r.id,a=o||i;if(a)a.replace(/\:[^,]+/g,"").split(",").forEach(function(t){n.legend.add(t,{account:e.account}),"alerts"===t&&setTimeout(function(){n.legend.update({account:e.account,within:{bounds:e.map.getBounds()}})},500)})}}).on("layer:remove source:remove",function(t){if((0,h.isset)(t.data)){var e=t.data,r=e.layer,o=e.id,i=r||o;if(i)i.replace(/\:[^,]+/g,"").split(",").forEach(function(t){n.legend.remove(t)})}}).on("change:bounds",function(t){var r={account:e.account};r.within={bounds:e.map.getBounds()},n.legend.update(r)})},e.prototype._layout=function(){var t=this;Object.keys(this._panels).forEach(function(e){var n=t._panels[e];if(n){var r=(0,h.get)(t._opts,"panels."+e+".position");if(r&&(0,h.isPlainObject)(r)&&(r.pin?n.pinTo(r.pin,r.translate):(0,h.isset)(r.x)&&(0,h.isset)(r.y)&&n.moveTo(r)),"layers"===e){var o=n.contentSize(),i=n.$el.bounds(),a=t.$el.height(),s=t._panels.legends;if(s){var u=s.$el.bounds();u.left>=i.left&&(a=u.top)}a-=2*i.top,n.$el.css({height:a+"px","overflow-y":"auto",width:o.width+(0,d.scrollBarWidth)()+"px"})}}})},e}(r.default);e.default=b,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=c(n(23)),o=c(n(54)),i=c(n(114)),a=c(n(295)),s=n(1),u=c(n(2));function c(t){return t&&t.__esModule?t:{default:t}}var l,p=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.select=function(t){var e=this;(0,s.isArray)(t)?t.forEach(function(t){return e.select(t)}):this._buttons&&this._buttons.forEach(function(e){var n=t;e instanceof a.default?e.buttons.forEach(function(t){t.value!==n&&t.id!==n||t.select()}):e instanceof i.default?-1!==e.segments().indexOf(n)?e.selectSegment(n):e.isFilter&&n===e.id&&e.select():e instanceof o.default&&(e.value!==n&&e.id!==n||e.select())})},e.prototype.deselect=function(t){var e=this;(0,s.isArray)(t)?t.forEach(function(t){return e.select(t)}):this._buttons&&this._buttons.forEach(function(e){var n=t;e instanceof a.default?e.buttons.forEach(function(t){t.value!==n&&t.id!==n||t.deselect()}):e instanceof o.default&&(e.value!==n&&e.id!==n||e.deselect())})},e.prototype._afterRender=function(){if(t.prototype._afterRender.call(this),this.opts.buttons){var e=[],n=[];this.opts.buttons.forEach(function(t){if(t.buttons){var r=new a.default(t);n.push(r),e.push(r)}else{var s=void 0;s=t.segments?new i.default(t):new o.default(t),e.push(s)}}),this._buttons=e}},e.prototype._onAddedToDOM=function(){var t=this;this.ui.content.append('<div class="awxjs__app__ui-panel-buttons"></div>'),this.ui.buttons=(0,u.default)(".awxjs__app__ui-panel-buttons",this.$el);var e=function(e){e.on("select",function(n){t.trigger("select",{id:e.id,value:e.value,options:n.data.options,filter:!0===n.data.filter,multiselect:!0===n.data.multiselect})}).on("deselect",function(n){t.trigger("deselect",{id:e.id,value:e.value,filter:!0===n.data.filter,multiselect:!0===n.data.multiselect})}).on("value:change",function(n){t.trigger("change",{id:e.id,value:n.data.value,previous:n.data.previous,options:n.data.options,filter:!0===n.data.filter,multiselect:!0===n.data.multiselect})})};this._buttons&&this._buttons.forEach(function(n){(n.addTo(t.ui.buttons),n instanceof a.default)?n.buttons.forEach(function(t){e(t)}):e(n)})},e}(r.default);e.default=f,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n(13)),o=u(n(54)),i=u(n(114)),a=n(1),s=n(8);function u(t){return t&&t.__esModule?t:{default:t}}var c,l=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){function e(e){var n=this;return e=e||{},e=(0,a.extend)(e,{className:e.className?"ui-btn-group "+e.className:"ui-btn-group",ui:{buttons:"."+s.Globals.cssPrefix+"ui-btn-group-items"}}),(n=t.call(this,e)||this).setState({expanded:!0}),n}return l(e,t),Object.defineProperty(e.prototype,"buttons",{get:function(){return this._buttons},enumerable:!0,configurable:!0}),e.prototype._render=function(t){return'\n\t\t\t<div class="'+s.Globals.cssPrefix+'ui-btn-group-label">'+this.opts.title+'</div>\n\t\t\t<div class="'+s.Globals.cssPrefix+'ui-btn-group-items"></div>\n\t\t'},e.prototype._onAddedToDOM=function(){var e=this;t.prototype._onAddedToDOM.call(this),this.opts.buttons&&(this._buttons=(this.opts.buttons||[]).map(function(t){return t.segments?new i.default(t):new o.default(t)})),this.ui.buttons&&0===this.ui.buttons.children().length&&this.buttons.forEach(function(t){t.addTo(e.ui.buttons)})},e.prototype._setupEvents=function(){t.prototype._setupEvents.call(this)},e.Event={EXPAND:"expand",COLLAPSE:"collapse"},e}(r.default);e.default=p,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=c(n(23)),o=c(n(297)),i=c(n(115)),a=c(n(22)),s=n(1),u=n(33);function c(t){return t&&t.__esModule?t:{default:t}}var l,p=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(t){function e(e){var n=this;return e=(0,s.extend)({ui:{container:".awxjs__app__ui-panel-info-container",inner:".awxjs__app__ui-panel-info-inner",title:".awxjs__app__ui-panel-info-title",content:".awxjs__app__ui-panel-info-content",close:".awxjs__app__ui-panel-info-close"}},e,{className:e.className?"app__ui-panel-info "+e.className:"app__ui-panel-info"}),(n=t.call(this,e)||this)._indicator=new a.default,n.setState({visible:!1}),n._content={},e.sections&&Object.keys(e.sections).forEach(function(t){i.default.setSection(t,e.sections[t])}),e.views&&Object.keys(e.views).forEach(function(t,r){var o=e.views[t],i=n.setContentView(t,o);i&&0===r&&(n._contentView=i)}),n}return p(e,t),e.prototype.show=function(t,e){return this.setState({visible:!0}),this._updateSize(),e&&this.setData(e),t&&this.setTitle(t),this.ui.content.css({opacity:1}),this.trigger("show"),this},e.prototype.getContentContainer=function(){return this.ui.inner},e.prototype.showContent=function(t,e,n){var r=this._content[t];return r?(r!==this._contentView&&(this.reset(),this._contentView=r),this._contentView.parent()||this._contentView.addTo(this.ui.content),n&&this.setData(n),this.trigger("change:content",{key:t}),this.show(e,null)):console.error("[awxjs] Invalid view key '"+t+"' requested for InfoPanel. Make sure view has been defined in the InfoPanel 'views' configuration."),this},e.prototype.setContentView=function(t,e){var n,r=this;return(0,s.isPlainObject)(e)?n=new o.default(e):e instanceof o.default&&(n=e),n&&(n.on("load:start",function(){r._indicator.startAnimating(),r.ui.content.css({opacity:0}),r.trigger("load:start")}).on("load:done",function(){r._indicator.stopAnimating(),r.ui.content.css({opacity:1}),r.trigger("load:done")}).on("update",function(){r._updateSize()}),this._content[t]=n),n},e.prototype.close=function(){var t=this;return this.setHeight(0),this.ui.content.css({opacity:0}),this.setState({visible:!1}),this.trigger("close"),setTimeout(function(){t.ui.content.empty()},500),this},e.prototype.setTitle=function(t){return this.ui.title.html(t),this},e.prototype.setData=function(t){return this._contentView&&this._contentView.setData(t),this},e.prototype.setWidth=function(t){return this.$el.css({"max-width":t+"px"}),this},e.prototype.setHeight=function(t){this.$el.css({"max-height":t+"px"});var e=this.ui.inner.bounds();return this._indicator.$el.css({"max-height":t-e.top-75+"px"}),this},e.prototype.load=function(t,e){this._contentView?this._contentView.load(t,e):console.error("[awxjs] Cannot load data for InfoPanel, no active content view defined. Use `showContent(:key, :title, :data)` to set the active content view before calling `load()`.")},e.prototype.reset=function(){this._contentView&&this._contentView.remove(),this.ui.content.empty()},e.prototype._render=function(){return'\n\t\t\t<div class="awxjs__app__ui-panel-info-top">\n\t\t\t\t<div class="awxjs__app__ui-panel-info-title"></div>\n\t\t\t</div>\n\t\t\t<div class="awxjs__app__ui-panel-info-container">\n\t\t\t\t<div class="awxjs__app__ui-panel-info-inner">\n\t\t\t\t\t<div class="awxjs__app__ui-panel-info-content"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<button class="awxjs__app__ui-panel-info-close">\n\t\t\t\t<svg width="100pt" height="100pt" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t<path d="m22.699 77.301c0.80078 0.80078 1.8008 1.1992 2.8008 1.1992s2-0.39844 2.8008-1.1992l21.699-21.602 21.699 21.699c0.80078 0.80078 1.8008 1.1992 2.8008 1.1992s2-0.39844 2.8008-1.1992c1.6016-1.6016 1.6016-4.1016 0-5.6992l-21.602-21.699 21.699-21.699c1.6016-1.6016 1.6016-4.1016 0-5.6992-1.6016-1.6016-4.1016-1.6016-5.6992 0l-21.699 21.699-21.699-21.602c-1.6016-1.6016-4.1016-1.6016-5.6992 0-1.6016 1.6016-1.6016 4.1016 0 5.6992l21.699 21.602-21.602 21.699c-1.5977 1.5-1.5977 4.1016 0 5.6016z"/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t'},e.prototype._setupEvents=function(){var e=this;t.prototype._setupEvents.call(this),this._indicator.appendTo(this.ui.inner),this.ui.close.on("click",function(){e.close()})},e.prototype._updateSize=function(){if(this.visible){var t=this.$el.parent().bounds(),e=this.$el.bounds(!0),n=this.ui.inner.bounds(),r=e.top-t.top,o=t.height-2*r-100,i=Math.max(175,n.height+(n.top-e.top));o>900&&(o=900),"compact"===(0,u.viewportSizeClass)().width?(this.setWidth(t.width-2*e.left),i=.5*t.height):e.width>.3*t.width?this.setWidth(Math.max(300,Math.ceil(.3*t.width))):this.setWidth(400),this.$el.width()<=320?this.$el.addClass("awxjs__app__ui-panel-info-compact"):this.$el.removeClass("awxjs__app__ui-panel-info-compact"),this.setHeight(Math.min(o,i))}},e}(r.default);e.default=f,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(115)),o=a(n(24)),i=n(1);function a(t){return t&&t.__esModule?t:{default:t}}var s,u=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(){return(c=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},l=function(t){function e(e,n){var o=this;return e=(0,i.extend)({className:e.className?"app__ui-panel-info__content-view "+e.className:"app__ui-panel-info__content-view"},e),o=t.call(this,e,n)||this,e.views&&(o._views=[],e.views.forEach(function(t){if((0,i.isPlainObject)(t)){var e=t;t=new r.default(e)}t instanceof r.default&&o._views.push(t)})),o}return u(e,t),Object.defineProperty(e.prototype,"views",{get:function(){return this._views},enumerable:!0,configurable:!0}),e.prototype.load=function(t,e){var n=this,r=(0,i.isFunction)(this.opts.request)?this.opts.request(e):this.opts.request;r?(t&&r.setParams(t),this.trigger("load:start"),r.get().then(function(t){var r=t.data||{};if(r.responses&&r.responses.length>0){var o=e||{};r.responses.forEach(function(t){var e=t.request.replace(/\?.*$/,"").replace(/^\//,"").replace(/\//g,"_");o[e]=t.response}),r=o}e&&(r=c({},r,e)),n.setData(r),n.trigger("load:done")}).catch(function(t){console.error("awxjs.InfoPanelContentView.load",t)})):e&&this.setData(e)},e.prototype._afterRender=function(){var t=this,e=this.data;this.views&&this.views.forEach(function(n){var r=(0,i.isFunction)(n.opts.data)?n.opts.data((0,i.cloneDeep)(e)):e;!0===((0,i.isset)(r)&&((0,i.isPlainObject)(r)||(0,i.isArray)(r)&&r.length>0))&&(n.setData(r),n.addTo(t.$el))}),this.$el.parent()&&this.trigger("update")},e}(o.default);e.default=l,t.exports=e.default},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.valueForIndice=e.Indices=void 0,e.Indices=r,function(t){!function(t){t.SNOW="snow",t.ICE="ice",t.RAIN="rain",t.WIND="wind",t.LIGHTNING="lightning",t.CONVECTIVE="convective"}(t.Types||(t.Types={})),t.snow=function(t){return t>=4?5:t>=3?4:t>=2?3:t>=1?2:t>.1?1:0},t.ice=function(t){return t>=.4?5:t>=.3?4:t>=.2?3:t>=.1?2:t<.1&&t>0?1:0},t.rain=function(t){return t>=1?5:t>=.75?4:t>=.5?3:t>=.25?2:t>=.1?1:0},t.wind=function(t){return t>=50?5:t>=40?4:t>=30?3:t>=20?2:t>10?1:0},t.lightning=function(t){return t>=80?5:t>=60?4:t>=40?3:t>=15?2:t<15&&t>0?1:0},t.convective=function(t){return{high:5,moderate:4,enhanced:3,slight:2,marginal:1,general:.5,none:0}[t]}}(r||(e.Indices=r={}));e.valueForIndice=function(t,e){return t===r.Types.SNOW?r.snow(e):t===r.Types.ICE?r.ice(e):t===r.Types.RAIN?r.rain(e):t===r.Types.WIND?r.wind(e):t===r.Types.LIGHTNING?r.lightning(e):t===r.Types.CONVECTIVE?r.convective(e):0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(7),o=p(n(23)),i=p(n(300)),a=p(n(22)),s=p(n(302)),u=p(n(116)),c=n(1),l=n(33);function p(t){return t&&t.__esModule?t:{default:t}}var f,d=(f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(e,n){var r=this,o=(0,c.get)(n,"range.marks");n=(0,c.extend)({range:{},ui:{controls:".awxjs__app__ui-panel-timeline-center",timeline:".awxjs__app__ui-panel-timeline-right",play:".awxjs__ui-btn-play",now:".awxjs__ui-btn-now",time:".awxjs__app__ui-panel-timeline-time",settings:".awxjs__ui-btn-settings"}},n,{className:n&&n.className?"app__ui-panel-timeline "+n.className:"app__ui-panel-timeline"}),r=t.call(this,n)||this;var u=(0,l.viewportSizeClass)();return r._animation=e,r._timeline=new i.default(e),r._indicator=new a.default,r._slider=new s.default((0,c.extend)({title:"Time Range <span>(hours)</span>",width:"compact"===u.width?200:300,value:[-6,0],range:{min:-24,max:24},marksEvery:(0,c.get)(n,"range.marksEvery")||"% 12",marks:o||{0:"Now"},step:"compact"===u.width?6:3,tooltip:function(t){return 0===t?"Now":""+(t>0?"+":"")+t+" hours"}},r.opts.range)),r}return d(e,t),e.prototype._render=function(){return'\n\t\t\t<div class="awxjs__app__ui-panel-container">\n\t\t\t\t<div class="awxjs__app__ui-panel-content">\n\t\t\t\t\t<div class="awxjs__ui-cols align-center">\n\t\t\t\t\t\t<div class="awxjs__app__ui-panel-timeline-left">\n\t\t\t\t\t\t\t<div class="awxjs__app__ui-panel-timeline-time"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="awxjs__app__ui-panel-timeline-center">\n\t\t\t\t\t\t\t<div class="awxjs__app__ui-panel-timeline-controls awxjs__ui-row align-center">\n\t\t\t\t\t\t\t\t<button class="awxjs__ui-btn awxjs__ui-btn-icon awxjs__ui-btn-play">\n\t\t\t\t\t\t\t\t\t<svg width="100pt" height="100pt" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t\t\t<path transform="scale(.3003)" d="m260 166.99l-93.006 54.008-93.994 52.994v-214.99l93.994 53.995zm0 0" fill-rule="evenodd" />\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button class="awxjs__ui-btn awxjs__ui-btn-now">Now</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="awxjs__app__ui-panel-timeline-right"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="awxjs__ui-btn-icon awxjs__ui-btn-settings">\n\t\t\t\t\t\t<svg version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t<path d="m94.801 40.801-10.602-1.8008c-0.60156-1.8984-1.3984-3.6992-2.3008-5.5l6.1992-8.6992c0.89844-1.3008 0.80078-3.1016-0.30078-4.1992l-8.5-8.5c-1.1016-1.1016-2.8984-1.3008-4.1992-0.30078l-8.6992 6.1992c-1.6992-0.89844-3.6016-1.6992-5.5-2.3008l-1.6992-10.5c-0.30078-1.6016-1.6016-2.6992-3.1992-2.6992h-12c-1.6016 0-2.8984 1.1016-3.1992 2.6992l-1.8008 10.602c-1.8984 0.60156-3.6992 1.3984-5.5 2.3008l-8.6992-6.1992c-1.3008-0.89844-3.1016-0.80078-4.1992 0.30078l-8.5 8.5c-1.1016 1.1016-1.3008 2.8984-0.30078 4.1992l6.1992 8.6992c-0.89844 1.6992-1.6992 3.6016-2.3008 5.5l-10.5 1.6992c-1.6016 0.30078-2.6992 1.6016-2.6992 3.1992v12c0 1.6016 1.1016 2.8984 2.6992 3.1992l10.602 1.8008c0.60156 1.8984 1.3984 3.6992 2.3008 5.5l-6.1992 8.6992c-0.89844 1.3008-0.80078 3.1016 0.30078 4.1992l8.5 8.5c1.1016 1.1016 2.8984 1.3008 4.1992 0.30078l8.6992-6.1992c1.6992 0.89844 3.6016 1.6992 5.5 2.3008l1.8008 10.602c0.30078 1.6016 1.6016 2.6992 3.1992 2.6992h12c1.6016 0 2.8984-1.1016 3.1992-2.6992l1.6992-10.703c1.8984-0.60156 3.6992-1.3984 5.5-2.3008l8.6992 6.1992c1.3008 0.89844 3.1016 0.80078 4.1992-0.30078l8.5-8.5c1.1016-1.1016 1.3008-2.8984 0.30078-4.1992l-6.1992-8.6992c0.89844-1.6992 1.6992-3.6016 2.3008-5.5l10.602-1.8008c1.6016-0.30078 2.6992-1.6016 2.6992-3.1992v-11.898c-0.10156-1.6016-1.2031-2.8984-2.8008-3.1992zm-44.801 26.301c-9.5 0-17.102-7.6992-17.102-17.102 0-9.5 7.6992-17.102 17.102-17.102 9.3984 0 17.102 7.6016 17.102 17.102s-7.6016 17.102-17.102 17.102z"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'},e.prototype._onAddedToDOM=function(){this._timeline.addTo(this.ui.timeline),this._indicator.appendTo(this.ui.timeline),this._setTime(this._animation.currentTime)},e.prototype._setupEvents=function(){var t=this;this._animation.on("load:start play",function(){t.ui.play.html('\n\t\t\t\t<svg width="100pt" height="100pt" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t<path d="m76.5 15h-53c-4.6875 0-8.5 3.8125-8.5 8.5v53c0 4.6875 3.8125 8.5 8.5 8.5h53c4.6875 0 8.5-3.8125 8.5-8.5v-53c0-4.6875-3.8125-8.5-8.5-8.5z"/>\n\t\t\t\t</svg>\n\t\t\t')}).on("stop",function(){t.ui.play.html('\n\t\t\t\t<svg width="100pt" height="100pt" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t<path transform="scale(.3003)" d="m260 166.99l-93.006 54.008-93.994 52.994v-214.99l93.994 53.995zm0 0" fill-rule="evenodd" />\n\t\t\t\t</svg>\n\t\t\t')}).on("advance",function(e){var n=e.data.time;n&&t._setTime(n)}).on("start:change end:change",function(){t.trigger("change:range",{start:t._animation.startDate(),end:t._animation.endDate()})}),this._indicator&&this._animation.on("load:start",function(){t._indicator.startAnimating()}).on("load:done",function(){t._indicator.stopAnimating()}),this._timeline.slider.on("change",function(e){var n=e.data.progress;if((0,c.isset)(n)){var r=t._animation,o=r.endDate().getTime()-r.startDate().getTime(),i=Math.round(r.startDate().getTime()+o*n);t._setTime(i)}}),this._slider.on("change:end",function(e){var n=e.data.value,r=n[0],o=n[1];t._animation.setStartOffset(3600*r*1e3),t._animation.setEndOffset(3600*o*1e3)}),this.ui.play.on("click",function(){t._animation.isAnimating()||t._animation.isLoading()?t._animation.stop():t._animation.play()}),this.ui.now.on("click",function(){t._animation.goToInit()}),this.ui.settings&&this.ui.settings.on("click",function(){if(!t._tooltip){var e=new u.default(t._slider.$el);e.attachTo(t.ui.settings),t._tooltip=e}t._tooltip.visible?t._tooltip.hide():t._tooltip.show()})},e.prototype._setTime=function(t){if(this.ui.time){var e=new Date(t);this.ui.time.html('<p class="time">'+(0,r.format)(e,"h:mm a")+'</p><p class="day">'+(0,r.format)(e,"ddd, MMM D")+"</p>")}},e}(o.default);e.default=h,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(7),o=s(n(24)),i=s(n(301)),a=n(1);function s(t){return t&&t.__esModule?t:{default:t}}var u,c=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e,n){var r=this;return n=(0,a.extend)({className:(0,a.get)(n,"className")?"ui-timeline "+n.className:"ui-timeline",ui:{periods:".awxjs__ui-timeline__periods"}},n),(r=t.call(this,n)||this)._slider=new i.default(n.slider),r._animation=e,r}return c(e,t),Object.defineProperty(e.prototype,"slider",{get:function(){return this._slider},enumerable:!0,configurable:!0}),e.prototype.setPosition=function(t,e){void 0===e&&(e=!0),this._slider.setPosition(t,e)},e.prototype.setProgress=function(t,e){void 0===e&&(e=!0),this._slider.setProgress(t,e)},e.prototype._render=function(){return'<div class="awxjs__ui-timeline__periods"></div>'},e.prototype._layout=function(){var t=this._animation.startDate(),e=this._animation.endDate();this._layoutPeriods(t,e),this._setupSliderTicks(t,e)},e.prototype._onAddedToDOM=function(){this._slider.addTo(this.$el),this._animation&&(this._handleDateRangeChange(this._animation.startDate(),this._animation.endDate()),this._updateForTime(this._animation.currentTime))},e.prototype._setupEvents=function(){var t=this,e=this._animation,n=this._slider;e&&e.on("start:change end:change",function(e){var n=e.data,r=n.from,o=n.to;r&&o&&t._handleDateRangeChange(r,o)}).on("advance",function(n){t._updateForTime(e.currentTime)}),n&&(this._sliderChangeHandler||(this._sliderChangeHandler=(0,a.debounce)(function(t){var n=e.endDate().getTime()-e.startDate().getTime(),r=Math.round(e.startDate().getTime()+n*t.data.progress);e.stop(),e.goToTime(r)},250)),n.on("change",function(n){e.pause(),t._sliderChangeHandler(n)}))},e.prototype._updateForTime=function(t){var e=this._animation;if(e){var n=e.endDate().getTime()-e.startDate().getTime(),r=e.currentOffset/n;this.setProgress(r,!1)}},e.prototype._handleDateRangeChange=function(t,e){this._layout(),this._slider.setDateRange(t,e)},e.prototype._layoutPeriods=function(t,e){var n=e.getTime()-t.getTime(),o=this.ui.periods,i=o.width(),a=0;if(this._slider){var s=this._slider.indicatorSize();i-=s.width,a=s.width/2}if(o.empty(),t.getDate()!==e.getDate())for(var u=0,c=(0,r.startOfDay)(t).getTime();c<e.getTime();){var l=new Date(c),p=1;if(l.getDate()===t.getDate())p=((0,r.startOfDay)((0,r.addDays)(l,1)).getTime()-t.getTime())/n;else if(l.getDate()===e.getDate())p=1-u;else{var f=(0,r.startOfDay)(l);p=((0,r.addDays)(l,1).getTime()-f.getTime())/n}var d=(p=Math.min(1,Math.max(p,0)))*i<100?"ddd":"ddd MMM D",h=(0,r.format)(l,d),y=Math.round(100*p*100);y=Math.min(p*i,i),o.append('<div class="awxjs__ui-timeline__periods-item" style="left:'+a+"px;width:"+y+'px;"><span>'+h+"</span></div>"),c+=864e5,u+=p,a+=y,y}else{h=(0,r.format)(e,"ddd MMM D");o.append('<div class="awxjs__ui-timeline__periods-item" style="left:'+a+"px;width:"+i+'px;"><span>'+h+"</span></div>")}},e.prototype._setupSliderTicks=function(t,e){var n=e.getTime()-t.getTime(),o={second:1e3,minute:6e4,hour:36e5,day:864e5};o.minute5=5*o.minute,o.minute10=10*o.minute,o.minute15=15*o.minute,o.minute30=30*o.minute,o.hour2=2*o.hour,o.hour3=3*o.hour,o.hour6=6*o.hour,o.hour12=12*o.hour,o.month=30*o.day,o.year=365*o.day,o.decade=10*o.year;var i=this.ui.periods.width();if(this._slider){var a=this._slider.indicatorSize();i-=a.width}var s,u;if(this._slider){var c=t.getTime(),l=e.getTime(),p=(s=l-c,u=0,Object.keys(o).map(function(t){return o[t]}).sort(function(t,e){return t-e}).forEach(function(t){i/(s/t)>=50&&0===u&&(u=t)}),u),f=Math.floor(c);f%p!=0&&(f+=p-f%p);for(var d={};f<=l;){d[(f-c)/n]=(0,r.format)(new Date(f),"h:mm"),f+=p}this._slider.setTicks(d)}},e}(o.default);e.default=l,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(13)),o=n(1),i=a(n(2));function a(t){return t&&t.__esModule?t:{default:t}}var s,u=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e){var n=this;return e=(0,o.extend)({range:{min:0,max:1},ticks:!0,ui:{range:".awxjs__ui-slider-span-inner",past:".awxjs__ui-slider-span-past",future:".awxjs__ui-slider-span-future",ticks:".awxjs__ui-slider-ticks",indicator:".awxjs__ui-slider-indicator"}},e,{className:(0,o.get)(e,"className")?"ui-slider "+e.className:"ui-slider"}),(n=t.call(this,e)||this).setState({dragging:!1}),n._mouse={x:0,y:0},n}return u(e,t),Object.defineProperty(e.prototype,"dragging",{get:function(){return this.state.dragging},enumerable:!0,configurable:!0}),e.prototype.indicatorSize=function(){return{height:this.ui.indicator.outerHeight(!0),width:this.ui.indicator.outerWidth(!0)}},e.prototype.value=function(t){return(0,o.isset)(this._x)?((0,o.isset)(t)&&!Number.isNaN(t)||(t=this.position()),t*((this.opts.range.max-this.opts.range.min)/(this._x.max-this._x.min))):null},e.prototype.setValue=function(t,e){void 0===e&&(e=!0),this.setPosition(t/this._increment(),e)},e.prototype.position=function(){var t=this.ui.indicator.css("left");return!(0,o.isEmpty)(t)&&(0,o.isset)(t)||(t="0px"),Number.parseInt(t.replace(/[^0-9\.-]/g,""),10)},e.prototype.setPosition=function(t,e){void 0===e&&(e=!0),!1===Number.isNaN(t)&&(t=Math.max(Math.min(t,this._x.max),0),this.ui.indicator.css("left",t+"px"),e&&this.trigger("change",{value:this.value(),position:this.position(),progress:this.progress()}))},e.prototype.progress=function(){var t=this._x.max-this._x.min;return(this.position()-this._x.min)/t},e.prototype.setProgress=function(t,e){void 0===e&&(e=!0);var n=this._x.max-this._x.min,r=Math.round(this._x.min+n*t);r!==this.position()&&this.setPosition(r,e)},e.prototype.setDateRange=function(t,e){var n=(new Date).getTime(),r=e.getTime()-t.getTime(),o=(n-t.getTime())/r,i=(e.getTime()-n)/r;o>0?(o=Math.round(100*o*100)/100,this.ui.past.css({width:o+"%"}).show()):this.ui.past.hide(),i>0?(i=Math.round(100*i*100)/100,this.ui.future.css({width:i+"%"}).show()):this.ui.future.hide()},e.prototype.setTicks=function(t){var e=this;if(!0===this.opts.ticks&&this.ui.ticks){var n=this.indicatorSize(),r=n.width/2,o=this.$el.width()-n.width;this.ui.ticks.css({left:r+"px",width:o+"px"}),this.ui.ticks.empty(),Object.keys(t).sort().forEach(function(n){var r=100*parseFloat(n);e.ui.ticks.append('\n\t\t\t\t\t<div class="awxjs__ui-slider-tick" style="left:'+r+'%;">\n\t\t\t\t\t\t<div class="awxjs__ui-slider-tick-label">'+t[n]+"</div>\n\t\t\t\t\t</div>\n\t\t\t\t")})}},e.prototype._render=function(){return'\n\t\t\t<div class="awxjs__ui-slider-span">\n\t\t\t\t<div class="awxjs__ui-slider-span-inner">\n\t\t\t\t\t<div class="awxjs__ui-slider-span-item awxjs__ui-slider-span-past"></div>\n\t\t\t\t\t<div class="awxjs__ui-slider-span-item awxjs__ui-slider-span-future"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="awxjs__ui-slider-ticks"></div>\n\t\t\t<div class="awxjs__ui-slider-indicator"></div>\n\t\t'},e.prototype._layout=function(){var t=(0,o.isset)(this._x)?this.progress():0;if(this._x={min:0,max:this.$el.width()-this.ui.indicator.outerWidth(!0)},this.setProgress(t),this.ui.range){var e=this.indicatorSize().width/2,n=this._x.max-this._x.min;this.ui.range.css({left:e+"px",width:n+"px"})}},e.prototype._setupEvents=function(){var t=this,e=function(e){t._handleDrag(e)},n=function(r){(0,i.default)(document).off("mousemove",e),(0,i.default)(document).off("mouseup",n),t.setState({dragging:!1}),t.ui.indicator.removeClass("is-dragging"),t.trigger("slide:stop",{mouse:t._mouse})};this.ui.indicator.on("mousedown",function(r){r.preventDefault(),t.setState({dragging:!0}),t._mouse.x=r.pageX,t._mouse.y=r.pageY,t.ui.indicator.addClass("is-dragging"),t.trigger("slide:start",{mouse:t._mouse}),(0,i.default)(document).on("mousemove",e),(0,i.default)(document).on("mouseup",n)}),this.ui.ticks.on("click",function(e){var n=e.layerX;if(e.target!==t.ui.ticks[0]){var r=t.ui.ticks.bounds();n=e.x-r.left}var o=n/t.ui.ticks.width();t.setProgress(o)})},e.prototype._increment=function(){return(this._x.max-this._x.min)/(this.opts.range.max-this.opts.range.min)},e.prototype._handleDrag=function(t){if(this.state.dragging){var e=t.pageX-this._mouse.x,n=this.position();if(0===e)return;n+=e,this.setPosition(n,!0),this._mouse.x=t.pageX,this._mouse.y=t.pageY}},e}(r.default);e.default=c,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n(13)),o=u(n(303)),i=u(n(116)),a=n(1),s=u(n(2));function u(t){return t&&t.__esModule?t:{default:t}}var c,l=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(){return(p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},f=function(t,e,n,r,o){var i=function(t,e,n,r,o){var i=Object.keys(e).map(parseFloat);if(null!==n){var a=Math.floor((o-r)/n),s=Math.min((t-r)/n,a),u=Math.round(s)*n+r;i.push(u)}var c=i.map(function(e){return Math.abs(t-e)});return i[c.indexOf(Math.min.apply(Math,c))]}(t,e,n,r,o),s=Number.isFinite(i)?i:0;return(0,a.isset)(n)?parseFloat(s.toFixed(function(t){var e=t.toString(),n=0;return e.indexOf(".")>=0&&(n=e.length-e.indexOf(".")-1),n}(n))):s},d=function(t,e){try{return(0,a.isArray)(e)?e.some(function(e){return t.target===e}):Object.keys(e).some(function(n){return t.target===e[n]})}catch(t){return!1}},h=function(t){var e=(0,s.default)(t).bounds();return window.pageXOffset+e.left+.5*e.width},y=function(t){function e(e){var n=t.call(this,(0,a.extend)({range:{min:0,max:100},count:1,step:10,marks:{},marksEvery:void 0,dots:!0,disabled:!1,tooltip:!0,ui:{inner:".awxjs__ui-slider-range-inner",track:".awxjs__ui-slider-range-track",rail:".awxjs__ui-slider-range-rail",steps:".awxjs__ui-slider-range-steps",marks:".awxjs__ui-slider-range-marks",handles:".awxjs__ui-slider-range-handle"}},e,{className:(0,a.get)(e,"className")?"ui-slider-range "+e.className:"ui-slider-range"}))||this;if(n._onChange=function(t){var e=t.bounds,r=t.handle,o=e.map(function(t){return n._offsetForValue(t)}),i=n._handles[r];if(i&&(i.update(o[r]),n._updateTooltip(e[r],r)),1===o.length)n.ui.track.css({left:"0%",width:o[0]+"%"});else{var a=o[o.length-1]-o[0];n.ui.track.css({left:o[0]+"%",width:a+"%"})}n.setState({bounds:e});var u=n._getLowerBound(),c=n._getUpperBound();n.ui.steps.children().forEach(function(t){var e=(0,s.default)(t),n=parseFloat(e.data("key"));n===c||n<=c&&n>=u?e.addClass("awxjs__ui-slider-range-dot-active"):e.removeClass("awxjs__ui-slider-range-dot-active")}),n.ui.marks.children().forEach(function(t){var e=(0,s.default)(t),n=parseFloat(e.data("key"));n===c||n<=c&&n>=u?e.addClass("awxjs__ui-slider-range-mark-text-active"):e.removeClass("awxjs__ui-slider-range-mark-text-active")}),n.trigger("change",{value:p({},t.bounds)})},n._onStart=function(t){var e=n.value,r=n._valueAtPosition(t),o=n._getClosestBound(r),i=n._getBoundNeedMoving(r,o);if(n.trigger("change:start",{value:n.value}),n.setState({handle:i,recent:i}),r!==e[i]){var a=n.state.bounds.slice();a[i]=r,n._lastMovedHandle=i,n._onChange({bounds:a,handle:i})}},n._onEnd=function(t){void 0===t&&(t=!1);var e=n.state.handle;n._removeDocumentEvents(),(0,a.isset)(e),n.setState({handle:null}),n.trigger("change:end",{value:n.value})},n._onMove=function(t,e){var r=n.state,o=r.bounds,i=r.handle,a=n._valueAtPosition(e);a!==o[i]&&n._moveTo(a)},n._onKeyboard=function(t){},n._onMouseDown=function(t){if(0===t.button){var e=t.pageX;if(!1===d(t,n._handles.map(function(t){return t.$el})))n._dragOffset=0;else{var r=h(t.target);n._dragOffset=e-r,e=r}n._removeDocumentEvents(),n._onStart(e),n._addDocumentEvents();var o=n.state,i=o.bounds,a=o.handle;n._updateTooltip(i[a],a),n._tooltip.show(!1)}},n._onMouseUp=function(t){n._tooltip.hide(),n._onEnd()},n._onMouseMove=function(t){if(n.ui.rail){var e=t.pageX;n._onMove(t,e-n._dragOffset)}else n._onEnd()},(0,a.isArray)(n.opts.value)){var r=n.opts.value,o=r[0],u=r[1],c=n.opts.step;if(o%c!=0){var l="[Aeris] The `value` property passed to the range configuration \t\t\t\t\t(["+o+", "+u+"]) does not contain from/to values equally divisible by the \t\t\t\t\tstep value ("+c+"), which may affect the rendered step range in the \t\t\t\t\tcontrol.";console.warn(l.replace(/\s+/g," "))}}var f=(n.opts.value||Array.apply(void 0,Array(n.opts.count+1)).map(function(){return n.opts.range.min})).map(function(t,e){return n._trimAlignValue(t,e)});return n.setState({bounds:f}),n._tooltip=new i.default,n.render(),n}return l(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.state.bounds},enumerable:!0,configurable:!0}),e.prototype.render=function(e){this.state.bounds&&t.prototype.render.call(this,e)},e.prototype._render=function(){var t=this.state.bounds;if(!t)return null;var e=this.opts,n=e.range,r=n.min,i=n.max,s=e.marks,u=e.marksEvery,c=e.step,l=i-r,p=this.opts.dots&&c>1,f=Object.keys(s).map(parseFloat).filter(function(t){return t>=r&&t<=i}).sort(function(t,e){return t-e});if(p)for(var d=r;d<=i;d+=c)-1===f.indexOf(d)&&f.push(d);var h=s||{};if((0,a.isset)(u)){var y=1,m=!1;if((0,a.isString)(u)){var v=""+u;m=/^%\s*\d+$/.test(v),y=parseInt(v.replace(/\D/,""),10)}else y=parseInt(""+u,10);var g=r;for(d=0;g<=i;){if(m?g%y==0:d%y==0){var _=""+g;(0,a.isset)(h[g])||(h[_]=_)}g+=c,d+=1}(0,a.set)(this.opts,"marks",h)}var b=Object.keys(h).map(parseFloat).filter(function(t){return t>=r&&t<=i}).sort(function(t,e){return t-e}).map(function(t){var e=h[t];return(0,a.isEmpty)(e)?null:'<div\n\t\t\t\t\tclass="awxjs__ui-slider-range-mark-text"\n\t\t\t\t\tstyle="left:'+(Math.abs(t-r)/l*100+"%")+';transform:translateX(-50%);msTransform:translateX(-50%);"\n\t\t\t\t\tdata-key="'+t+'"\n\t\t\t\t>'+e+"</div>"}),w=f.map(function(t){return'<div\n\t\t\t\tclass="awxjs__ui-slider-range-dot"\n\t\t\t\tstyle="left:'+(Math.abs(t-r)/l*100+"%")+';"\n\t\t\t\tdata-key="'+t+'"\n\t\t\t></div>'});return this._handles=t.map(function(t,e){return new o.default({values:{min:r,max:i,current:t}})}),"\n\t\t\t"+(this.opts.title?'<div class="awxjs__ui-slider-range-title">'+this.opts.title+"</div>":"")+'\n\t\t\t<div class="awxjs__ui-slider-range-inner">\n\t\t\t\t<div class="awxjs__ui-slider-range-rail"></div>\n\t\t\t\t<div class="awxjs__ui-slider-range-track"></div>\n\t\t\t\t<div class="awxjs__ui-slider-range-steps">'+w.join("")+'</div>\n\t\t\t\t<div class="awxjs__ui-slider-range-marks">'+b.join("")+"</div>\n\t\t\t</div>\n\t\t"},e.prototype._afterRender=function(){var t=this,e=this.state.bounds.map(function(e){return t._offsetForValue(e)});this.opts.ui&&(this.setUI(this.opts.ui),this.ui.marks.children().length>0&&this.$el.addClass("awxjs__ui-slider-range-with-marks"),this._setupEvents(),this.opts.width>0&&this.ui.inner.width(this.opts.width),this._handles.forEach(function(n,r){n.addTo(t.ui.inner),n.update(e[r])})),this._onChange(this.state)},e.prototype._setupEvents=function(){t.prototype._setupEvents.call(this),this.$el.on("mousedown",this._onMouseDown)},e.prototype._getClosestBound=function(t){for(var e=this.state.bounds,n=0,r=1;r<e.length-1;r+=1)t>e[r]&&(n=r);return Math.abs(e[n+1]-t)<Math.abs(e[n]-t)&&(n+=1),n},e.prototype._getBoundNeedMoving=function(t,e){var n=this.state,r=n.bounds,o=n.recent,i=e,a=r[e+1]===r[e];return a&&r[o]===r[e]&&(i=o),a&&t!==r[e+1]&&(i=t<r[e+1]?e:e+1),i},e.prototype._getLowerBound=function(){return this.state.bounds[0]},e.prototype._getUpperBound=function(){var t=this.state.bounds;return t[t.length-1]},e.prototype._getPoints=function(){var t=this.opts,e=t.marks,n=t.range,r=n.min,o=n.max,i=t.step,s=this._points;if(!s||s.marks!==e||s.step!==i){var u=p({},e);if((0,a.isset)(i))for(var c=r;c<=o;c+=i)u[c]=c;var l=Object.keys(u).map(parseFloat);l.sort(function(t,e){return t-e}),this._points={marks:e,step:i,points:l}}return this._points.points},e.prototype._moveTo=function(t,e){void 0===e&&(e=!1);var n=this.state,r=n.handle,o=n.recent,i=n.bounds,s=(0,a.isset)(r)?r:o,u=i.slice();u[s]=t;var c=s;this._onChange({handle:c,bounds:u})},e.prototype._trimAlignValue=function(t,e){var n=this.opts.range,r=function(t,e,n){return t<=e?e:t>=n?n:t}(t,n.min,n.max),o=this._ensureValueNotConflict(r,e);return f(o,this.opts.marks,this.opts.step,this.opts.range.min,this.opts.range.max)},e.prototype._ensureValueNotConflict=function(t,e){var n=this.state,r=n.bounds,o=n.handle;if(e=(0,a.isset)(e)?e:o,(0,a.isset)(e)&&(0,a.isset)(r)){if(e>0&&t<=r[e-1])return r[e-1];if(e<r.length-1&&t>=r[e+1])return r[e+1]}return t},e.prototype._valueAtPosition=function(t){var e=t-(this.ui.rail.bounds().left+window.pageXOffset);return this._trimAlignValue(this._valueAtOffset(e))},e.prototype._valueAtOffset=function(t){var e=this.opts.range,n=e.min,r=e.max,o=this.ui.rail?this.ui.rail.bounds().width:0;return Math.abs(Math.max(t,0)/o)*(r-n)+n},e.prototype._offsetForValue=function(t){var e=this.opts.range,n=e.min;return 100*((t-n)/(e.max-n))},e.prototype._updateTooltip=function(t,e){var n=this._handles[e],r=t.toString();(0,a.isFunction)(this.opts.tooltip)&&(r=this.opts.tooltip(t)),this._tooltip.setContent(r).position(n.$el)},e.prototype._addDocumentEvents=function(){(0,s.default)(document).on("mousemove",this._onMouseMove).on("mouseup",this._onMouseUp)},e.prototype._removeDocumentEvents=function(){(0,s.default)(document).off("mousemove",this._onMouseMove).off("mouseup",this._onMouseUp)},e}(r.default);e.default=y,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(13)),o=n(1),i=a(n(2));function a(t){return t&&t.__esModule?t:{default:t}}var s,u=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e){var n=t.call(this,(0,o.extend)({},e,{className:(0,o.get)(e,"className")?"ui-slider-range-handle "+e.className:"ui-slider-range-handle"}))||this;return n._handleMouseDown=function(t){n.focus()},n._handleMouseUp=function(t){document.activeElement===n.$el[0]&&n.setClickFocus(!0)},n._handleBlur=function(t){n.setClickFocus(!1)},n.update(0,e),n.$el.on("mousedown",n._handleMouseDown),n.$el.on("blur",n._handleBlur),(0,i.default)(document).on("mouseup",n._handleMouseUp),n}return u(e,t),e.prototype.setClickFocus=function(t){this.setState({clickFocused:t}),t?this.$el.addClass("awxjs__ui-slider-range-handle-click-focused"):this.$el.removeClass("awxjs__ui-slider-range-handle-click-focused")},e.prototype.clickFocus=function(){this.setClickFocus(!0),this.focus()},e.prototype.focus=function(){this.$el[0].focus()},e.prototype.blur=function(){this.$el[0].blur()},e.prototype.update=function(t,e){this.$el.css("left",t+"%"),e&&(this.$el.attr("aria-valuemin",e.values.min),this.$el.attr("aria-valuemax",e.values.max),this.$el.attr("aria-valuenow",e.values.current),this.$el.attr("aria-disabled",!0===e.disabled))},e.prototype._afterRender=function(){this.$el.attr("role","slider"),(0,o.isset)(this.opts.tabindex)&&this.$el.attr("tabindex",this.opts.tabindex)},e}(r.default);e.default=c,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n(23)),o=s(n(52)),i=n(117),a=n(1);function s(t){return t&&t.__esModule?t:{default:t}}var u,c=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e){e=(0,a.extend)({legend:{size:{width:300,height:0}}},e,{className:e.className?"app__ui-panel-legends "+e.className:"app__ui-panel-legends"});var n=(0,a.get)(e,"legend.size");return n&&(0,a.set)(e,"legend.size.width",Math.min(n.width,(0,i.windowSize)().width)),t.call(this,e)||this}return c(e,t),Object.defineProperty(e.prototype,"legend",{get:function(){return this._legendView},enumerable:!0,configurable:!0}),e.prototype.open=function(){0!==this._legendView.count&&t.prototype.open.call(this)},e.prototype.contentSize=function(){var t=this._legendView.getSize();return t.height+=5,t},e.prototype._onAddedToDOM=function(){t.prototype._onAddedToDOM.call(this),this._legendView||(this._legendView=new o.default(this.ui.content,(0,a.extend)({styles:{label:{color:"#ffffff"}}},this.opts.legend)))},e.prototype._setupEvents=function(){var e=this;t.prototype._setupEvents.call(this),this._legendView.on("empty",function(t){e.close()}).on("resize",function(t){e._layout()})},e}(r.default);e.default=l,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n(23)),o=u(n(306)),i=n(4),a=n(1),s=n(5);function u(t){return t&&t.__esModule?t:{default:t}}var c,l=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){function e(e){var n=this;return e=(0,a.extend)({field:{placeholder:"Search for place...",data:{request:function(t){return new Promise(function(e,r){n._prepareServiceForQuery(t),n._service.get().then(function(t){var n=t.data||{};if(n.responses){var r=[];n.responses.forEach(function(t){t.response&&(r=r.concat(t.response))}),n=r}e(n)}).catch(function(t){r(t)})})},formatter:function(t){if(!t)return null;if(!t.place)return null;var e=[(0,s.ucwords)(t.place.name)];"US"===t.place.country?e.push(t.place.state.toUpperCase()):e.push((0,s.ucwords)(t.place.countryFull));var n=e.join(", ");return t.type&&"airport"===t.type&&(n+=" (Airport)"),n}}}},e,{className:e&&e.className?"app__ui-panel-search "+e.className:"app__ui-panel-search"}),(n=t.call(this,e)||this)._account=n.opts.account,n}return l(e,t),Object.defineProperty(e.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),e.prototype._onAddedToDOM=function(){this._field||(this._field=new o.default(this.opts.field)),this._field.addTo(this.ui.content)},e.prototype._setupEvents=function(){var t=this;this._field.on("select",function(e){t.trigger("select",e.data)}).on(o.default.Event.CHANGE_VALUE,function(e){t.trigger("change:value",e.data)}).on(o.default.Event.UPDATE_RESULTS,function(e){t.trigger("update:results",e.data)})},e.prototype._prepareServiceForQuery=function(t){this._service||(this._service=this._account.api());var e=this._service;if(e.removeAllRequests(),e.resetParams(),0!==(t=(t=(t=t.replace(/^\s+/,"").replace(/\s+$/,"")).replace(/,\s+/,",")).replace(/,$/,"")).length)if(/^(-?[\d\.]+),\s*(-?[\d\.]+)$/.test(t)){var n=this._account.api().endpoint("places").action(i.ApiAction.CLOSEST).place(t);e.addRequest(n)}else if(/^(\d\d\d\d\d(?:-\d\d\d\d)?|[ABCEGHJKLMNPRSTVXY]\d[A-Z] ?\d[A-Z]\d)$/i.test(t)){n=this._account.api().endpoint("places").place(t);e.addRequest(n)}else{if(/^\w{4}$/.test(t)){var r=this._account.api().endpoint("places").place(t);e.addRequest(r)}var o=t.split(",");if(o.length>1){if(t="name:"+o[0]+";altname:"+o[0],3===o.length)t+=",state:"+o[1]+",country:"+o[2];else if(2===o.length&&o[1].length>0){var u=o[1],c=[],l=!1;if(u.length>1){var p=(0,s.states)(),f=(0,s.countries)(),d=(0,a.extend)({},p.us,p.ca),h=new RegExp("^"+u,"i");Object.keys(p).forEach(function(t){h.test(d[t])&&(c.push(t),l=!0)}),l||Object.keys(f).forEach(function(t){h.test(f[t])&&c.push(t)})}t+=",state:^"+u+";country:^"+u,c.length>0&&c.forEach(function(e){t+=l?";state:^"+e:";country:^"+e})}}else t="name:^"+o[0]+";altname:^"+o[0];n=this._account.api().endpoint("places").action(i.ApiAction.SEARCH).query(t).limit(20).sort("pop:-1,haszip:-1");e.addRequest(n)}else this._field.setResults([])},e}(r.default);e.default=p,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(21),o=u(n(24)),i=u(n(22)),a=n(1),s=u(n(2));function u(t){return t&&t.__esModule?t:{default:t}}var c,l=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){function e(e){var n=this;return e=e||{},(e=(0,a.extend)({placeholder:"Search",autocomplete:!0,autoselect:!0,ui:{form:".awxjs__ui-searchfield-form > form",input:".awxjs__ui-searchfield-form input",submit:".awxjs__ui-searchfield-form button",results:".awxjs__ui-searchfield-results"}},e,{className:e.className?"ui-searchfield "+e.className:"ui-searchfield"})).id=e.id||e.value,(n=t.call(this,e)||this)._selectedIndex=-1,n._indicator=new i.default,n}return l(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.ui.input.val()},set:function(t){this.ui.input.val(t),this.ui.input.trigger("input")},enumerable:!0,configurable:!0}),e.prototype.setResults=function(t){this.clear(),(0,r.isArray)(t)||(t=[t]),this._results=(0,a.cloneDeep)(t),this._renderResults(t)},e.prototype.reset=function(){this.clear(),this.ui.input.val(""),this.ui.results.hide(),(0,s.default)(document).off("click",this._docHandler)},e.prototype.clear=function(){this.ui.results.empty(),this._results=null,this._selectedIndex=-1,this.$el.removeClass("awxjs__ui-searchfield-expanded")},e.prototype.focus=function(){this.ui.input.focus()},e.prototype.blur=function(){this.ui.input.blur()},e.prototype._render=function(t){return'\n\t\t\t<div class="awxjs__ui-searchfield-container">\n\t\t\t\t<div class="awxjs__ui-searchfield-form">\n\t\t\t\t\t<form method="POST">\n\t\t\t\t\t\t<input type="text" value="" placeholder="'+this.opts.placeholder+'">\n\t\t\t\t\t\t<button>\n\t\t\t\t\t\t\t<svg version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t<path d="m69.777 61.273 26.562 26.562c4.25 4.3672-4.1328 12.75-8.5 8.5l-26.562-26.562c-14.641 10.508-35.066 8.9727-47.934-3.8945-14.523-14.523-14.523-38.016 0-52.539 14.523-14.523 38.016-14.523 52.539 0 12.867 12.867 14.402 33.293 3.8945 47.934zm-48.051-39.551c-9.8008 9.918-9.8008 25.855 0 35.656 9.918 9.918 25.855 9.918 35.656 0 9.918-9.8008 9.918-25.738 0-35.656-9.8008-9.8008-25.738-9.8008-35.656 0z" fill-rule="evenodd"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t\t<div class="awxjs__ui-searchfield-results"></div>\n\t\t\t</div>\n\t\t'},e.prototype._onAddedToDOM=function(){t.prototype._onAddedToDOM.call(this),this._indicator.appendTo(this.ui.form)},e.prototype._setupEvents=function(){var n=this;t.prototype._setupEvents.call(this);var r=this.ui.input,o=(0,a.debounce)(function(){var t=r.val();n.trigger(e.Event.CHANGE_VALUE,{value:t}),t.length>3?n._search(r.val()):0===t.length?n.reset():n._renderResults([])},300);this._docHandler=function(t){n._handleDocClick(t)},this._keyHandler=function(t){n._listenForKeys(t)},this.opts.autocomplete?r.on("input",o):r.on("input",function(t){(""===r.val()||n._results&&n._results.length>0)&&n.reset()}),this.ui.form.on("submit",function(t){return t.preventDefault(),n._search(r.val()),n.trigger(e.Event.SUBMIT,{value:r.val()}),!1}),this.ui.submit.on("click",function(t){t.preventDefault();var o=r.val();(0,a.isEmpty)(o)||(n._search(o),n.trigger(e.Event.SUBMIT,{value:o}))}),r.on("focus",function(t){n.$el.addClass("awxjs__ui-searchfield-focused"),(0,s.default)(document).off("keyup keypress",n._keyHandler),(0,s.default)(document).on("keyup keypress",n._keyHandler),(0,s.default)(document).off("click",n._docHandler),(0,s.default)(document).on("click",n._docHandler)}),r.on("blur",function(t){n.$el.removeClass("awxjs__ui-searchfield-focused"),(0,s.default)(document).off("keyup keypress",n._keyHandler)})},e.prototype._search=function(t){var e=this,n=(0,a.get)(this.opts,"data.request");n?(0,r.isFunction)(n)&&(this._indicator.startAnimating(),n(t).then(function(t){e._indicator.stopAnimating(),e.setResults(t)})):console.error("No request task defined for SearchField, check your component configuration.")},e.prototype._renderResults=function(t){var n=this;if(this.trigger(e.Event.UPDATE_RESULTS,t),t){if(0===t.length)return this.ui.results.hide(),void this.$el.removeClass("awxjs__ui-searchfield-expanded");var r=(0,a.get)(this.opts,"data.formatter"),o=t.map(function(t,e){return'<li data-result="'+e+'">'+r(t)+"</li>"});this.ui.results.html("<ul>"+o.join("")+"</ul>"),this.$el.addClass("awxjs__ui-searchfield-expanded"),(0,s.default)("li",this.ui.results).on("click",function(t){n._handleResultClick(t)}).on("mouseover",function(t){n._handleResultMouseover(t)}),this.ui.results.show(),o.length>0&&this.opts.autoselect&&this._selectResultAtIndex(0)}else this.reset()},e.prototype._handleResultMouseover=function(t){var e=(0,s.default)(t.target),n=parseInt(e.data("result"),10);this._selectResultAtIndex(n)},e.prototype._handleResultClick=function(t){var n=(0,s.default)(t.target),r=parseInt(n.data("result"),10);this.trigger(e.Event.SELECT,{result:(0,a.cloneDeep)(this._results[r]),index:r}),this.reset()},e.prototype._selectResultAtIndex=function(t){if(t!==this._selectedIndex){var e=(0,s.default)("li",this.ui.results);e.removeClass("selected"),t>=0&&e.eq(t).addClass("selected"),this._selectedIndex=t}},e.prototype._handleDocClick=function(t){var e=(0,s.default)(t.target).closest(".awxjs__ui-searchfield-container");e&&0!==e.length||this.reset()},e.prototype._listenForKeys=function(t){var n=(t.key||"").toLowerCase();if("keypress"===t.type)"enter"!==n&&13!==t.keyCode||(t.preventDefault(),this.opts.autocomplete||this._results&&this._results.length>0?(this.trigger(e.Event.KEY_ENTER),this._selectedIndex>-1&&this._results&&(this.trigger(e.Event.SELECT,{result:(0,a.cloneDeep)(this._results[this._selectedIndex]),index:this._selectedIndex}),this.reset())):this._search(this.ui.input.val()));else if("keyup"===t.type)if("escape"===n||"esc"===n||27===t.keyCode)this.trigger(e.Event.KEY_ESCAPE),this.reset();else if(40===t.keyCode){var r=this._selectedIndex;this._results&&r<this._results.length-1?r+=1:-1===r&&(r=0),this._selectResultAtIndex(r)}else if(38===t.keyCode){(r=this._selectedIndex)>0&&(r-=1),this._selectResultAtIndex(r)}},e.Event={CHANGE_VALUE:"change:value",SUBMIT:"submit",SELECT:"select",UPDATE_RESULTS:"update:results",KEY_ESCAPE:"key:escape",KEY_ENTER:"key:enter"},e}(o.default);e.default=p,t.exports=e.default},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"$",function(){return P}),n.d(r,"find",function(){return E}),n.d(r,"matches",function(){return A}),n.d(r,"DOMtastic",function(){return L});var o={};n.r(o),n.d(o,"every",function(){return F}),n.d(o,"filter",function(){return N}),n.d(o,"forEach",function(){return R}),n.d(o,"each",function(){return B}),n.d(o,"indexOf",function(){return H}),n.d(o,"map",function(){return U}),n.d(o,"pop",function(){return V}),n.d(o,"push",function(){return Y}),n.d(o,"reduce",function(){return G}),n.d(o,"reduceRight",function(){return q}),n.d(o,"reverse",function(){return W}),n.d(o,"shift",function(){return $}),n.d(o,"some",function(){return Z}),n.d(o,"unshift",function(){return Q});var i={};n.r(i),n.d(i,"css",function(){return tt});var a={};n.r(a),n.d(a,"append",function(){return nt}),n.d(a,"prepend",function(){return rt}),n.d(a,"before",function(){return ot}),n.d(a,"after",function(){return it}),n.d(a,"clone",function(){return at}),n.d(a,"_clone",function(){return st}),n.d(a,"_each",function(){return ut});var s={};n.r(s),n.d(s,"attr",function(){return ct}),n.d(s,"removeAttr",function(){return lt});var u={};n.r(u),n.d(u,"addClass",function(){return pt}),n.d(u,"removeClass",function(){return ft}),n.d(u,"toggleClass",function(){return dt}),n.d(u,"hasClass",function(){return ht});var c={};n.r(c),n.d(c,"contains",function(){return mt});var l={};n.r(l),n.d(l,"data",function(){return bt}),n.d(l,"prop",function(){return wt});var p={};n.r(p),n.d(p,"appendTo",function(){return xt}),n.d(p,"empty",function(){return Ot}),n.d(p,"remove",function(){return Tt}),n.d(p,"replaceWith",function(){return Mt}),n.d(p,"text",function(){return kt}),n.d(p,"val",function(){return jt});var f={};n.r(f),n.d(f,"html",function(){return St});var d={};n.r(d),n.d(d,"closest",function(){return Pt});var h={};n.r(h),n.d(h,"on",function(){return Et}),n.d(h,"off",function(){return At}),n.d(h,"one",function(){return Dt}),n.d(h,"getHandlers",function(){return Ft}),n.d(h,"clearHandlers",function(){return Nt}),n.d(h,"proxyHandler",function(){return Rt}),n.d(h,"delegateHandler",function(){return Yt}),n.d(h,"bind",function(){return Gt}),n.d(h,"unbind",function(){return qt});var y={};n.r(y),n.d(y,"trigger",function(){return Zt}),n.d(y,"triggerHandler",function(){return Kt});var m={};n.r(m),n.d(m,"ready",function(){return oe});var v={};n.r(v),n.d(v,"noConflict",function(){return ae});var g={};n.r(g),n.d(g,"children",function(){return se}),n.d(g,"concat",function(){return ue}),n.d(g,"contents",function(){return ce}),n.d(g,"eq",function(){return le}),n.d(g,"first",function(){return pe}),n.d(g,"get",function(){return fe}),n.d(g,"parent",function(){return de}),n.d(g,"siblings",function(){return he}),n.d(g,"slice",function(){return ye});var _={};n.r(_),n.d(_,"isFunction",function(){return me}),n.d(_,"isArray",function(){return ve});const b="undefined"!=typeof window?window:{},w=t=>{const e=t.length,n=new Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n},x=(t,e,n)=>{const r=t.length;if(void 0!==r&&void 0===t.nodeType)for(let o=0;o<r;o++)e.call(n,t[o],o,t);else e.call(n,t,0,t);return t},O=(t,...e)=>(e.forEach(e=>{for(let n in e)t[n]=e[n]}),t),T=t=>t.filter((e,n)=>t.indexOf(e)===n);let M=!1;const k=/^\s*<(\w+|!)[^>]*>/,j=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,S=/^[.#]?[\w-]*$/,P=function(t,e=document){let n;if(t){if(t instanceof L)return t;"string"!=typeof t?n=t.nodeType||t===window?[t]:t:k.test(t)?n=C(t):(e="string"==typeof e?document.querySelector(e):e.length?e[0]:e,n=D(t,e))}else n=document.querySelectorAll(null);return I(n)},E=function(t){const e=[];return x(this,n=>x(D(t,n),t=>{-1===e.indexOf(t)&&e.push(t)})),P(e)},A=(()=>{const t="undefined"!=typeof Element?Element.prototype:b,e=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return(t,n)=>e.call(t,n)})(),D=(t,e)=>{if(S.test(t)){if("#"===t[0]){const n=(e.getElementById?e:document).getElementById(t.slice(1));return n?[n]:[]}return"."===t[0]?e.getElementsByClassName(t.slice(1)):e.getElementsByTagName(t)}return e.querySelectorAll(t)},C=t=>{if(j.test(t))return[document.createElement(RegExp.$1)];const e=[],n=document.createElement("div"),r=n.childNodes;n.innerHTML=t;for(let t=0,n=r.length;t<n;t++)e.push(r[t]);return e},I=t=>(M||(L.prototype=P.fn,L.prototype.constructor=L,M=!0),new L(t)),L=function(t){let e=0;const n=t.length;for(;e<n;)this[e]=t[e++];this.length=n},z=Array.prototype,F=z.every,N=function(t,e){const n="function"==typeof t?t:e=>A(e,t);return P(z.filter.call(this,n,e))},R=function(t,e){return x(this,t,e)},B=R,H=z.indexOf,U=z.map,V=z.pop,Y=z.push,G=z.reduce,q=z.reduceRight,W=function(){return P(w(this).reverse())},$=z.shift,Z=z.some,Q=z.unshift;var K=function(t){class e{constructor(){L.call(this,P(...arguments))}}return O(e.prototype,t),e};const J=t=>t.replace(/-([\da-z])/gi,(t,e)=>e.toUpperCase()),X=t=>t.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),tt=function(t,e){let n,r,o;if("string"==typeof t){if(t=J(t),void 0===e){let e=this.nodeType?this:this[0];return e?(t=>!isNaN(parseFloat(t))&&isFinite(t))(o=e.style[t])?parseFloat(o):o:void 0}(n={})[t]=e}else for(r in n=t)o=n[r],delete n[r],n[J(r)]=o;return x(this,t=>{for(r in n)n[r]||0===n[r]?t.style[r]=n[r]:t.style.removeProperty(X(r))}),this},et=Array.prototype.forEach,nt=function(t){if(this instanceof Node)if("string"==typeof t)this.insertAdjacentHTML("beforeend",t);else if(t instanceof Node)this.appendChild(t);else{const e=t instanceof NodeList?w(t):t;et.call(e,this.appendChild.bind(this))}else ut(this,nt,t);return this},rt=function(t){if(this instanceof Node)if("string"==typeof t)this.insertAdjacentHTML("afterbegin",t);else if(t instanceof Node)this.insertBefore(t,this.firstChild);else{let e=t instanceof NodeList?w(t):t;et.call(e.reverse(),rt.bind(this))}else ut(this,rt,t);return this},ot=function(t){if(this instanceof Node)if("string"==typeof t)this.insertAdjacentHTML("beforebegin",t);else if(t instanceof Node)this.parentNode.insertBefore(t,this);else{const e=t instanceof NodeList?w(t):t;et.call(e,ot.bind(this))}else ut(this,ot,t);return this},it=function(t){if(this instanceof Node)if("string"==typeof t)this.insertAdjacentHTML("afterend",t);else if(t instanceof Node)this.parentNode.insertBefore(t,this.nextSibling);else{const e=t instanceof NodeList?w(t):t;et.call(e.reverse(),it.bind(this))}else ut(this,it,t);return this},at=function(){return P(st(this))},st=t=>"string"==typeof t?t:t instanceof Node?t.cloneNode(!0):"length"in t?[].map.call(t,t=>t.cloneNode(!0)):t,ut=(t,e,n)=>{let r=t.length;for(;r--;){const o=0===r?n:st(n);e.call(t[r],o)}},ct=function(t,e){if("string"==typeof t&&void 0===e){const e=this.nodeType?this:this[0];return e?e.getAttribute(t):void 0}return x(this,n=>{if("object"==typeof t)for(let e in t)n.setAttribute(e,t[e]);else n.setAttribute(t,e)})},lt=function(t){return x(this,e=>e.removeAttribute(t))},pt=function(t){return t&&t.length&&x(t.split(" "),yt.bind(this,"add")),this},ft=function(t){return t&&t.length&&x(t.split(" "),yt.bind(this,"remove")),this},dt=function(t,e){if(t&&t.length){const n="boolean"==typeof e?e?"add":"remove":"toggle";x(t.split(" "),yt.bind(this,n))}return this},ht=function(t){return(this.nodeType?[this]:this).some(e=>e.classList.contains(t))},yt=function(t,e){return x(this,n=>n.classList[t](e))},mt=(t,e)=>!(!t||!e||t===e)&&(t.contains?t.contains(e):!!t.compareDocumentPosition&&!(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_DISCONNECTED)),vt="undefined"!=typeof document&&"dataset"in document.documentElement,gt=vt?"dataset":"__DOMTASTIC_DATA__",_t=t=>t.replace(/-+(.)?/g,(t,e)=>e?e.toUpperCase():""),bt=function(t,e){if("string"==typeof t&&void 0===e){const e=this.nodeType?this:this[0];return e&&gt in e?e[gt][_t(t)]:void 0}return x(this,n=>{vt||(n[gt]=n[gt]||{}),n[gt][_t(t)]=e})},wt=function(t,e){if("string"==typeof t&&void 0===e){const e=this.nodeType?this:this[0];return e&&e?e[t]:void 0}return x(this,n=>n[t]=e)},xt=function(t){const e="string"==typeof t?P(t):t;return nt.call(e,this),this},Ot=function(){return x(this,t=>t.innerHTML="")},Tt=function(){return x(this,t=>{t.parentNode&&t.parentNode.removeChild(t)})},Mt=function(){return ot.apply(this,arguments).remove()},kt=function(t){return void 0===t?this[0].textContent:x(this,e=>e.textContent=""+t)},jt=function(t){return void 0===t?this.length>0?this[0].value:void 0:x(this,e=>e.value=t)},St=function(t){if(void 0===t){const t=this.nodeType?this:this[0];return t?t.innerHTML:void 0}return x(this,e=>e.innerHTML=t)},Pt=(()=>{const t=function(t,e){const n=[];return x(this,r=>{for(;r&&r!==e;){if(A(r,t)){n.push(r);break}r=r.parentElement}}),P(T(n))};return"undefined"!=typeof Element&&Element.prototype.closest?function(e,n){if(n)return t.call(this,e,n);{const t=[];return x(this,n=>{const r=n.closest(e);r&&t.push(r)}),P(T(t))}}:t})(),Et=function(t,e,n,r,o){let i,a,s;return"function"==typeof e&&(n=e,e=null),t.split(" ").forEach(u=>{i=u.split("."),u=i[0]||null,a=i[1]||null,s=Rt(n),x(this,i=>{if(e&&(s=Yt.bind(i,e,s)),o){const o=s;s=a=>{At.call(i,t,e,n,r),o.call(i,a)}}i.addEventListener(u,s,r||!1),Ft(i).push({eventName:u,handler:n,eventListener:s,selector:e,namespace:a})})},this),this},At=function(t="",e,n,r){let o,i,a;return"function"==typeof e&&(n=e,e=null),t.split(" ").forEach(t=>(o=t.split("."),t=o[0]||null,i=o[1]||null,x(this,o=>{a=Ft(o),x(a.filter(r=>!(t&&r.eventName!==t||i&&r.namespace!==i||n&&r.handler!==n||e&&r.selector!==e)),t=>{o.removeEventListener(t.eventName,t.eventListener,r||!1),a.splice(a.indexOf(t),1)}),t||i||e||n?0===a.length&&Nt(o):Nt(o)})),this),this},Dt=function(t,e,n,r){return Et.call(this,t,e,n,r,1)},Ct="__domtastic_event__";let It=1,Lt={},zt=[];const Ft=t=>{t[Ct]||(t[Ct]=0===zt.length?++It:zt.pop());const e=t[Ct];return Lt[e]||(Lt[e]=[])},Nt=t=>{const e=t[Ct];Lt[e]&&(Lt[e]=null,t[Ct]=null,zt.push(e))},Rt=t=>(function(e){return t.call(this,Vt(e))}),Bt={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"},Ht=()=>!0,Ut=()=>!1,Vt=t=>{if(!t.isDefaultPrevented||t.stopImmediatePropagation||t.stopPropagation){for(const e in Bt)!function(e,n,r){t[e]=function(){return this[n]=Ht,r&&r.apply(this,arguments)},t[n]=Ut}(e,Bt[e],t[e]);t._preventDefault&&t.preventDefault()}return t},Yt=function(t,e,n){const r=n._target||n.target,o=Pt.call([r],t,this)[0];o&&o!==this&&(o!==r&&n.isPropagationStopped&&n.isPropagationStopped()||e.call(o,n))},Gt=Et,qt=At,Wt=/^(mouse(down|up|over|out|enter|leave|move)|contextmenu|(dbl)?click)$/,$t=/^key(down|press|up)$/,Zt=function(t,e,{bubbles:n=!0,cancelable:r=!0,preventDefault:o=!1}={}){const i=new(Qt(t))(t,{bubbles:n,cancelable:r,preventDefault:o,detail:e});return i._preventDefault=o,x(this,a=>{!n||ne||Jt(a)?ee(a,i):Xt(a,t,{bubbles:n,cancelable:r,preventDefault:o,detail:e})})},Qt=t=>re?Wt.test(t)?MouseEvent:$t.test(t)?KeyboardEvent:CustomEvent:CustomEvent,Kt=function(t,e){this[0]&&Zt.call(this[0],t,e,{bubbles:!1,preventDefault:!0})},Jt=t=>t===window||t===document||mt(t.ownerDocument.documentElement,t),Xt=(t,e,n={})=>{n.bubbles=!1;const r=new CustomEvent(e,n);r._target=t;do{ee(t,r)}while(t=t.parentNode)},te=["blur","focus","select","submit"],ee=(t,e)=>{-1===te.indexOf(e.type)||"function"!=typeof t[e.type]||e._preventDefault||e.cancelable?t.dispatchEvent(e):t[e.type]()};(()=>{const t=function(t,e={bubbles:!1,cancelable:!1,detail:void 0}){let n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n};t.prototype=b.CustomEvent&&b.CustomEvent.prototype,b.CustomEvent=t})();const ne=(()=>{let t=!1;const e=b.document;if(e){const n=e.createElement("div"),r=n.cloneNode();n.appendChild(r),n.addEventListener("e",function(){t=!0}),r.dispatchEvent(new CustomEvent("e",{bubbles:!0}))}return t})(),re=(()=>{try{new MouseEvent("click")}catch(t){return!1}return!0})(),oe=function(t){return/complete|loaded|interactive/.test(document.readyState)&&document.body?t():document.addEventListener("DOMContentLoaded",t,!1),this},ie=b.$,ae=function(){return b.$=ie,this},se=function(t){const e=[];return x(this,n=>{n.children&&x(n.children,n=>{(!t||t&&A(n,t))&&e.push(n)})}),P(e)},ue=function(t){return x(P(t),t=>{-1===[].indexOf.call(this,t)&&[].push.call(this,t)}),this},ce=function(){const t=[];return x(this,e=>t.push.apply(t,w(e.childNodes))),P(t)},le=function(t){return ye.call(this,t,t+1)},pe=function(){return ye.call(this,0,1)},fe=function(t){return this[t]},de=function(t){const e=[];return x(this,n=>{(!t||t&&A(n.parentNode,t))&&e.push(n.parentNode)}),P(e)},he=function(t){const e=[];return x(this,n=>x(n.parentNode.children,r=>{r!==n&&(!t||t&&A(r,t))&&e.push(r)})),P(e)},ye=function(t,e){return P([].slice.apply(this,arguments))},me=t=>"function"==typeof t,ve=Array.isArray,ge={};let _e={};void 0!==r&&((_e=P).matches=A,ge.find=E),O(_e,c,v,_),O(ge,o,i,s,a,u,l,p,f,h,y,m,d,g),_e.fn=ge,_e.version="__VERSION__",_e.extend=O,_e.BaseClass=K(_e.fn);e.default=_e}]);